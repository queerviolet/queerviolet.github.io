!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r={add:function(e){t.__animators.push(e),p.log("added animator",e),p.table(t.__animators)},remove:function(e){var n=t.__animators,r=n.indexOf(e);r>=0&&n.splice(r,1);e._resolveDone()}};function o(){return!0}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(null==(this instanceof i?this.constructor:void 0))return new i(t,e);this.condition=t,this.running=!1,this._handlers={start:[],frame:[],at:[],end:[],changed:[]},this._resetDone(),this._ctx=e,e.add&&e.add(this)}var u;Object.assign.apply(Object,[i.prototype].concat(function(t){if(Array.isArray(t))return e(t)}(u=["start","frame","at","end","changed"].map((function(t){var e;return n(e={},t,(function(e){return this._handlers[t].push(e),this})),n(e,"_fire_".concat(t),(function(e,n,r){for(var o=this._handlers[t],i=o.length,u=0;u!==i;++u)o[u].apply(this,[e,n,r])})),e})))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(u)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),i.prototype._resetDone=function(){var t=this;this.done=new Promise((function(e){return t._resolveDone=e}))},i.prototype.withName=function(t){return this.name=t,this},i.prototype.withDuration=function(t){return this.duration=t,this},i.prototype.remove=function(){return this._ctx.remove(this),this},i.prototype.step=function(t,e,n){var r=this.condition[h](t,e,n);if(r&&!this.running&&(this._fire_start(t,e,n),this.startedAt=t,this.running=!0),!r&&this.running&&(this._fire_end(t,e,n),this.endedAt=t,this.running=!1,this._resolveDone(this),this._resetDone()),this.running&&(e!==n&&this._fire_changed(t,e,n),this._fire_frame(t,e,n),"number"==typeof this.duration)){var o=(t-this.startedAt)/this.duration;this.t=o,this._fire_at(o,e,n)}};var a=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=i((function(t){return!o.running||t<e}),n).withDuration(t).start((function(n){return e=n+t})).end((function(){return n.remove(o)}));return o},c=function(t){var e=null;return function(n){return function(r,o,i){var u=Math.floor((r-this.startedAt)/t);u!==e&&n.apply(this,[r,u,o,i]),e=u}}},s=function(t){return 1e3*t};s.symbol=Symbol("seconds"),s[Symbol.toPrimitive]=function(){return s.symbol},Object.defineProperty(Number.prototype,s,{get:function(){return s(this.valueOf())}}),Object.defineProperty(String.prototype,s,{get:function(){return s(+this)}});var f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=e-t;return function(e){return n(t+e*r)}};t.__animators=t.__animators||[],t.__cascadeDebug=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return p=t?console:l};var l={log:function(){},table:function(){}},p=l;var h=Symbol("when/match");Object.defineProperty(Function.prototype,h,{get:function(){return this}}),HTMLElement.prototype[h]=function(t,e){return e===this};function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){d(i,r,o,u,a,"next",t)}function a(t){d(i,r,o,u,a,"throw",t)}u(void 0)}))}}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){var e="function"==typeof Map?new Map:void 0;return(w=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _(t,arguments,O(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,t)})(t)}function _(t,e,n){return(_=x()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&k(o,n.prototype),o}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Math.ceil,S=Math.floor,j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(u,t);var e,n,r,o,i=(e=u,n=x(),function(){var t,r=O(e);if(n){var o=O(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return g(this,t)});function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var e=(t=i.call(this)).attachShadow({mode:"open"}),n=document.createTextNode(""),r=document.createElement("span"),o=document.createElement("style");return o.textContent=u.style,r.className="blinking cursor",e.appendChild(o),e.appendChild(n),e.appendChild(r),t.cursor=r,t.textNode=n,t.currentTargetText="",t}return v(u,null,[{key:"observedAttributes",get:function(){return["text"]}}]),v(u,[{key:"type",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.typingRate,r=this.textNode,o=r.textContent;return this.anim&&this.anim.remove(),this.anim=a(t.length[s]/n).withName("typing").start((function(){return e.cursor.classList.remove("blinking")})).at((function(e){return r.textContent=o+t.substr(0,T(e*t.length))})).end((function(){e.cursor.classList.add("blinking"),r.textContent=o+t}))}},{key:"erase",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textNode.textContent.length,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.erasingRate,r=this.textNode,o=r.textContent,i=f(o.length,o.length-e);return this.anim&&this.anim.remove(),this.anim=a(e[s]/n).withName("erasing").start((function(){return t.cursor.classList.remove("blinking")})).at((function(t){return r.textContent=o.substr(0,S(i(t)))})).end((function(){r.textContent=o.substr(0,o.length-e),t.cursor.classList.add("blinking")}))}},{key:"attributeChangedCallback",value:(o=m(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"text"===e&&this.setText(r);case 1:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return o.apply(this,arguments)})},{key:"setText",value:(r=m(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.textNode,this.currentTargetText!==e){t.next=3;break}return t.abrupt("return");case 3:if(this.currentTargetText=e,n=this.text,r=R(n,e),!(o=n.length-r)){t.next=10;break}return t.next=10,this.erase(o).done;case 10:this.type(e.substr(r));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"text",set:function(t){this.setText(t)},get:function(){return this.textNode.textContent}},{key:"typingRate",get:function(){return+getComputedStyle(this).getPropertyValue("--typewriter-typing-rate")||32}},{key:"erasingRate",get:function(){return+getComputedStyle(this).getPropertyValue("--typewriter-erasing-rate")||60}}]),u}(w(HTMLElement)),R=function(t,e){for(var n=0;n!=t.length;++n)if(t[n]!==e[n])return n;return t.length};function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M(t);if(e){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}j.style="\n.cursor {\n  display: inline-block;\n  background: var(--typewriter-cursor-color);\n  width: 2px;\n  height: 1.2em;\n  position: relative;\n  top: 0.2em;\n}\n\n.cursor.blinking {\n  animation-name: blink;\n  animation-duration: var(--typewriter-cursor-blink-rate);\n  animation-iteration-count: infinite;\n}\n\n@keyframes blink {\n  0% { opacity: 1; }\n  50% { opacity: 1; }\n  60% { opacity: 0; }\n  90% { opacity: 0; }\n  100% { opacity: 1; }\n}\n",customElements.define("type-writer",j);var L=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(i,t);var e,n,r,o=D(i);function i(){return C(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"seekTo",value:function(t){var e=this,n=t.duration,r=void 0===n?1:n,o=t.time,i=void 0===o?this.currentTime:o,u=t.playbackRate,f=void 0===u?this.playbackRate:u,l=t.paused,p=void 0===l?this.paused:l;this.anim&&(this.anim.remove(),this.anim=null),(!r||i<this.currentTime)&&(this.currentTime=i);var h=function(){e.currentTime=i,e.playbackRate=f,void 0!==p&&(p?e.pause():e.play())};if(r&&this.currentTime!==i){this.paused&&this.play();var y=null,d=r[s];return this.anim=a(r[s]).withName("seekVideo").start((function(t){return y=t+d})).frame(c(.5[s])((function(t){var n=y-t,r=(i-e.currentTime)[s],o=Math.min(Math.max(r/n,.1),5);e.playbackRate=o}))).end(h)}h()}}])&&E(e.prototype,n),r&&E(e,r),i}(t)};customElements.define("seekable-video",L(HTMLVideoElement),{extends:"video"}),customElements.define("seekable-audio",L(HTMLAudioElement),{extends:"audio"}),Object.assign(t,{When:i,For:a,buildInRange:function(t,e){return function(n,r){return r&&r.order>=t.order&&r.order<=e.order}},always:o,every:c,sec:s,lerp:f,any:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n,r){return e.some((function(e){return e[h](t,n,r)}))}},match:h})}();