!function(){var t,e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o=r={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{e="function"==typeof clearTimeout?clearTimeout:u}catch(t){e=u}}();var a,l=[],f=!1,s=-1;function d(){f&&a&&(f=!1,a.length?l=a.concat(l):s=-1,l.length&&y())}function y(){if(!f){var t=c(d);f=!0;for(var n=l.length;n;){for(a=l,l=[];++s<n;)a&&a[s].run();s=-1,n=l.length}a=null,f=!1,function(t){if(e===clearTimeout)return clearTimeout(t);if((e===u||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){var e="function"==typeof Map?new Map:void 0;return(k=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return T(t,arguments,L(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),O(r,t)})(t)}function T(t,e,n){return(T=E()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&O(o,n.prototype),o}).apply(null,arguments)}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||f||c(y)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0};var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(c,t);var e,n,r,o,i,u=(e=c,n=E(),function(){var t,r=L(e);if(n){var o=L(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return S(this,t)});function c(){return b(this,c),u.apply(this,arguments)}return r=c,i=[{key:"update",value:function(t){_("build-note",t.id).update(t)}}],(o=[{key:"connectedCallback",value:function(){this.addEventListener("click",this.onClick)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this.onClick)}},{key:"onClick",value:function(){localStorage.currentBuild=this.id,C({key:"currentBuild",newValue:this.id})}},{key:"update",value:function(t){var e=t.innerHTML,n=t.order,r=t.id;this.id=r,this.title.textContent=r,this.content.innerHTML=e.trim(),this.style.order=n}},{key:"title",get:function(){return j("h1","title",this)}},{key:"content",get:function(){return j("div","note",this)}},{key:"timer",get:function(){return j("div","timer",this)}},{key:"time",set:function(t){this.timer.textContent=t&&P(t)}}])&&w(r.prototype,o),i&&w(r,i),c}(k(HTMLElement));customElements.define("build-note",B);var _=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r=document.getElementById(e);return r||(n.appendChild(r=document.createElement(t)),r)},j=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body,r=n.getElementsByClassName(e)[0];return r||((r=document.createElement(t)).className=e,n.appendChild(r),r)},A={};function C(t){var e=t.key,n=t.newValue;t.oldValue;switch(e){case"currentBuild":return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.currentBuild,e=document.getElementById(t);if(e){r.nextTick((function(){return e.scrollIntoView({block:"start",behavior:"smooth"})}));var n=document.querySelector("build-note.current");n&&n.classList.remove("current"),e.classList.add("current")}}(n);case"buildNotes":return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(localStorage.buildNotes);t.forEach((function(t){B.update(t),A[t.id]=t}))}(JSON.parse(n))}if(e.startsWith("time:")){var o=document.getElementById(e.substr(5));o&&(o.time=n)}}addEventListener("DOMContentLoaded",(function(){return Object.entries(localStorage).forEach((function(t){var e=h(t,2);return C({key:e[0],newValue:e[1]})}))})),addEventListener("storage",C),addEventListener("keydown",(function(t){switch(t.code){case"ArrowRight":case"PageDown":var e=A[localStorage.currentBuild].nextBuildId;return void(e&&(localStorage.currentBuild=e,C({key:"currentBuild",newValue:e})));case"ArrowLeft":case"PageUp":var n=A[localStorage.currentBuild].prevBuildId;return void(n&&(localStorage.currentBuild=n,C({key:"currentBuild",newValue:n})))}}));var x=null;__timer.addEventListener("click",(function(){if(x)return console.log("cancelling",x),cancelAnimationFrame(x),__timer.classList.remove("running"),void(x=null);I=null,x=requestAnimationFrame(V)}));var I=null;function V(t){if(x=requestAnimationFrame(V),__timer.classList.add("running"),!I)return I=t;var e=t-I;I=t;var n=(+localStorage.totalTime||0)+e;localStorage.totalTime=n,__timer_display.textContent=P(n);var r="time:".concat(localStorage.currentBuild),o=+localStorage[r]||0;localStorage[r]=o+e,C({key:r,newValue:o}),C({key:"totalTime",newValue:n})}var M=Math.floor,P=function(t){var e=+t/1e3;return"".concat(R(M(e/60)),":").concat(R(M(e%60)))},R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=""+t;return n.length<e?new Array(e-n.length).fill(0).join("")+n:n};n.resetTimer=function(){localStorage.removeItem("totalTime"),C({key:"totalTime"}),Object.keys(localStorage).filter((function(t){return t.startsWith("time:")})).forEach((function(t){localStorage.removeItem(t),C({key:t})}))}}();