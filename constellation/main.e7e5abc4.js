!function(){var e={},t={},r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e){return e&&e.__esModule?e.default:e}null==r.parcelRequire&&(r.parcelRequire=function(r){if(r in t&&(t[r](),delete t[r]),r in e)return e[r];if("undefined"!=typeof module&&"function"==typeof module.require)return module.require(r);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n},r.parcelRequire.register=function(t,r){e[t]=r},r.parcelRequire.registerBundle=function(r,n){t[r]=n,e[r]={}});var a={};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=d(e,2),n=r[0]/r[1];if(t.width/t.height>n){var a=n*t.height,i=(t.width-a)/2,o=t.height;return l(e,t,{top:0,left:i,width:a,height:o})}var s=t.width/n,c=(t.height-s)/2,u=t.width;return l(e,t,{top:c,left:0,width:u,height:s})}var l=function(e,t,r){return s(s({},h(t,r)),{},{bars:p(t,r),su:r.width/e[0]})},h=function(e,t){return s(s({},t),{},{bottom:e.height-(t.top+t.height),right:e.width-(t.left+t.width)})},p=function(e,t){if(!t.top){var r=(e.width-t.width)/2;return[h(e,{top:0,left:0,width:r,height:e.height}),h(e,{top:0,left:e.width-r,width:r,height:e.height})]}var n=(e.height-t.height)/2;return[h(e,{top:0,left:0,width:e.width,height:n}),h(e,{top:e.height-n,left:0,width:e.width,height:n})]},b=function(e){return"".concat(e,"px")},g=function(){};var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--letterbox-",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;return Object.keys(e).forEach((function(n){return"object"===i(e[n])?m(e[n],t+n+"-",r):"number"==typeof e[n]?r.style.setProperty("su"!==n?t+n:"--".concat(n),b(e[n])):r.style.setProperty(t+n,e[n])}))};function v(e){}var y={};void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let e=1;e<arguments.length;e++){const r=arguments[e];if(null!=r)for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t});y.REVISION="118";const x={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2};y.MOUSE=x;const w={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};y.TOUCH=w;y.CullFaceNone=0;y.CullFaceBack=1;y.CullFaceFront=2;y.CullFaceFrontBack=3;y.FrontFaceDirectionCW=0;y.FrontFaceDirectionCCW=1;y.BasicShadowMap=0;y.PCFShadowMap=1;y.PCFSoftShadowMap=2;y.VSMShadowMap=3;y.FrontSide=0;y.BackSide=1;y.DoubleSide=2;y.FlatShading=1;y.SmoothShading=2;y.NoBlending=0;y.NormalBlending=1;y.AdditiveBlending=2;y.SubtractiveBlending=3;y.MultiplyBlending=4;y.CustomBlending=5;y.AddEquation=100;y.SubtractEquation=101;y.ReverseSubtractEquation=102;y.MinEquation=103;y.MaxEquation=104;y.ZeroFactor=200;y.OneFactor=201;y.SrcColorFactor=202;y.OneMinusSrcColorFactor=203;y.SrcAlphaFactor=204;y.OneMinusSrcAlphaFactor=205;y.DstAlphaFactor=206;y.OneMinusDstAlphaFactor=207;y.DstColorFactor=208;y.OneMinusDstColorFactor=209;y.SrcAlphaSaturateFactor=210;y.NeverDepth=0;y.AlwaysDepth=1;y.LessDepth=2;y.LessEqualDepth=3;y.EqualDepth=4;y.GreaterEqualDepth=5;y.GreaterDepth=6;y.NotEqualDepth=7;y.MultiplyOperation=0;y.MixOperation=1;y.AddOperation=2;y.NoToneMapping=0;y.LinearToneMapping=1;y.ReinhardToneMapping=2;y.CineonToneMapping=3;y.ACESFilmicToneMapping=4;y.CustomToneMapping=5;y.UVMapping=300;y.CubeReflectionMapping=301;y.CubeRefractionMapping=302;y.EquirectangularReflectionMapping=303;y.EquirectangularRefractionMapping=304;y.CubeUVReflectionMapping=306;y.CubeUVRefractionMapping=307;y.RepeatWrapping=1e3;y.ClampToEdgeWrapping=1001;y.MirroredRepeatWrapping=1002;y.NearestFilter=1003;y.NearestMipmapNearestFilter=1004;y.NearestMipMapNearestFilter=1004;y.NearestMipmapLinearFilter=1005;y.NearestMipMapLinearFilter=1005;y.LinearFilter=1006;y.LinearMipmapNearestFilter=1007;y.LinearMipMapNearestFilter=1007;y.LinearMipmapLinearFilter=1008;y.LinearMipMapLinearFilter=1008;y.UnsignedByteType=1009;y.ByteType=1010;y.ShortType=1011;y.UnsignedShortType=1012;y.IntType=1013;y.UnsignedIntType=1014;y.FloatType=1015;y.HalfFloatType=1016;y.UnsignedShort4444Type=1017;y.UnsignedShort5551Type=1018;y.UnsignedShort565Type=1019;y.UnsignedInt248Type=1020;y.AlphaFormat=1021;y.RGBFormat=1022;y.RGBAFormat=1023;y.LuminanceFormat=1024;y.LuminanceAlphaFormat=1025;y.RGBEFormat=1023;y.DepthFormat=1026;y.DepthStencilFormat=1027;y.RedFormat=1028;y.RedIntegerFormat=1029;y.RGFormat=1030;y.RGIntegerFormat=1031;y.RGBIntegerFormat=1032;y.RGBAIntegerFormat=1033;y.RGB_S3TC_DXT1_Format=33776;y.RGBA_S3TC_DXT1_Format=33777;y.RGBA_S3TC_DXT3_Format=33778;y.RGBA_S3TC_DXT5_Format=33779;y.RGB_PVRTC_4BPPV1_Format=35840;y.RGB_PVRTC_2BPPV1_Format=35841;y.RGBA_PVRTC_4BPPV1_Format=35842;y.RGBA_PVRTC_2BPPV1_Format=35843;y.RGB_ETC1_Format=36196;y.RGB_ETC2_Format=37492;y.RGBA_ETC2_EAC_Format=37496;y.RGBA_ASTC_4x4_Format=37808;y.RGBA_ASTC_5x4_Format=37809;y.RGBA_ASTC_5x5_Format=37810;y.RGBA_ASTC_6x5_Format=37811;y.RGBA_ASTC_6x6_Format=37812;y.RGBA_ASTC_8x5_Format=37813;y.RGBA_ASTC_8x6_Format=37814;y.RGBA_ASTC_8x8_Format=37815;y.RGBA_ASTC_10x5_Format=37816;y.RGBA_ASTC_10x6_Format=37817;y.RGBA_ASTC_10x8_Format=37818;y.RGBA_ASTC_10x10_Format=37819;y.RGBA_ASTC_12x10_Format=37820;y.RGBA_ASTC_12x12_Format=37821;y.RGBA_BPTC_Format=36492;y.SRGB8_ALPHA8_ASTC_4x4_Format=37840;y.SRGB8_ALPHA8_ASTC_5x4_Format=37841;y.SRGB8_ALPHA8_ASTC_5x5_Format=37842;y.SRGB8_ALPHA8_ASTC_6x5_Format=37843;y.SRGB8_ALPHA8_ASTC_6x6_Format=37844;y.SRGB8_ALPHA8_ASTC_8x5_Format=37845;y.SRGB8_ALPHA8_ASTC_8x6_Format=37846;y.SRGB8_ALPHA8_ASTC_8x8_Format=37847;y.SRGB8_ALPHA8_ASTC_10x5_Format=37848;y.SRGB8_ALPHA8_ASTC_10x6_Format=37849;y.SRGB8_ALPHA8_ASTC_10x8_Format=37850;y.SRGB8_ALPHA8_ASTC_10x10_Format=37851;y.SRGB8_ALPHA8_ASTC_12x10_Format=37852;y.SRGB8_ALPHA8_ASTC_12x12_Format=37853;y.LoopOnce=2200;y.LoopRepeat=2201;y.LoopPingPong=2202;y.InterpolateDiscrete=2300;y.InterpolateLinear=2301;y.InterpolateSmooth=2302;y.ZeroCurvatureEnding=2400;y.ZeroSlopeEnding=2401;y.WrapAroundEnding=2402;y.NormalAnimationBlendMode=2500;y.AdditiveAnimationBlendMode=2501;y.TrianglesDrawMode=0;y.TriangleStripDrawMode=1;y.TriangleFanDrawMode=2;y.LinearEncoding=3e3;y.sRGBEncoding=3001;y.GammaEncoding=3007;y.RGBEEncoding=3002;y.LogLuvEncoding=3003;y.RGBM7Encoding=3004;y.RGBM16Encoding=3005;y.RGBDEncoding=3006;y.BasicDepthPacking=3200;y.RGBADepthPacking=3201;y.TangentSpaceNormalMap=0;y.ObjectSpaceNormalMap=1;y.ZeroStencilOp=0;y.KeepStencilOp=7680;y.ReplaceStencilOp=7681;y.IncrementStencilOp=7682;y.DecrementStencilOp=7683;y.IncrementWrapStencilOp=34055;y.DecrementWrapStencilOp=34056;y.InvertStencilOp=5386;y.NeverStencilFunc=512;y.LessStencilFunc=513;y.EqualStencilFunc=514;y.LessEqualStencilFunc=515;y.GreaterStencilFunc=516;y.NotEqualStencilFunc=517;y.GreaterEqualStencilFunc=518;y.AlwaysStencilFunc=519;y.StaticDrawUsage=35044;y.DynamicDrawUsage=35048;y.StreamDrawUsage=35040;y.StaticReadUsage=35045;y.DynamicReadUsage=35049;y.StreamReadUsage=35041;y.StaticCopyUsage=35046;y.DynamicCopyUsage=35050;function _(){}y.StreamCopyUsage=35042,y.EventDispatcher=_,Object.assign(_.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});const r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;const r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)},removeEventListener:function(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}},dispatchEvent:function(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const r=t.slice(0);for(let t=0,n=r.length;t<n;t++)r[t].call(this,e)}}});const M=[];for(let e=0;e<256;e++)M[e]=(e<16?"0":"")+e.toString(16);const S={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(M[255&e]+M[e>>8&255]+M[e>>16&255]+M[e>>24&255]+"-"+M[255&t]+M[t>>8&255]+"-"+M[t>>16&15|64]+M[t>>24&255]+"-"+M[63&r|128]+M[r>>8&255]+"-"+M[r>>16&255]+M[r>>24&255]+M[255&n]+M[n>>8&255]+M[n>>16&255]+M[n>>24&255]).toUpperCase()},clamp:function(e,t,r){return Math.max(t,Math.min(r,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,r,n,a){return n+(e-t)*(a-n)/(r-t)},lerp:function(e,t,r){return(1-r)*e+r*t},smoothstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*S.DEG2RAD},radToDeg:function(e){return e*S.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,r,n,a){const i=Math.cos,o=Math.sin,s=i(r/2),c=o(r/2),d=i((t+n)/2),u=o((t+n)/2),f=i((t-n)/2),l=o((t-n)/2),h=i((n-t)/2),p=o((n-t)/2);switch(a){case"XYX":e.set(s*u,c*f,c*l,s*d);break;case"YZY":e.set(c*l,s*u,c*f,s*d);break;case"ZXZ":e.set(c*f,c*l,s*u,s*d);break;case"XZX":e.set(s*u,c*p,c*h,s*d);break;case"YXY":e.set(c*h,s*u,c*p,s*d);break;case"ZYZ":e.set(c*p,c*h,s*u,s*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}};function T(e=0,t=0){this.x=e,this.y=t}function E(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}let A;y.MathUtils=S,y.Math=S,y.Vector2=T,Object.defineProperties(T.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(T.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,r=this.y,n=e.elements;return this.x=n[0]*t+n[3]*r+n[6],this.y=n[1]*t+n[4]*r+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const r=Math.cos(t),n=Math.sin(t),a=this.x-e.x,i=this.y-e.y;return this.x=a*r-i*n+e.x,this.y=a*n+i*r+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),y.Matrix3=E,Object.assign(E.prototype,{isMatrix3:!0,set:function(e,t,r,n,a,i,o,s,c){const d=this.elements;return d[0]=e,d[1]=n,d[2]=o,d[3]=t,d[4]=a,d[5]=s,d[6]=r,d[7]=i,d[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this},extractBasis:function(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const r=e.elements,n=t.elements,a=this.elements,i=r[0],o=r[3],s=r[6],c=r[1],d=r[4],u=r[7],f=r[2],l=r[5],h=r[8],p=n[0],b=n[3],g=n[6],m=n[1],v=n[4],y=n[7],x=n[2],w=n[5],_=n[8];return a[0]=i*p+o*m+s*x,a[3]=i*b+o*v+s*w,a[6]=i*g+o*y+s*_,a[1]=c*p+d*m+u*x,a[4]=c*b+d*v+u*w,a[7]=c*g+d*y+u*_,a[2]=f*p+l*m+h*x,a[5]=f*b+l*v+h*w,a[8]=f*g+l*y+h*_,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],r=e[1],n=e[2],a=e[3],i=e[4],o=e[5],s=e[6],c=e[7],d=e[8];return t*i*d-t*o*c-r*a*d+r*o*s+n*a*c-n*i*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const r=e.elements,n=this.elements,a=r[0],i=r[1],o=r[2],s=r[3],c=r[4],d=r[5],u=r[6],f=r[7],l=r[8],h=l*c-d*f,p=d*u-l*s,b=f*s-c*u,g=a*h+i*p+o*b;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const m=1/g;return n[0]=h*m,n[1]=(o*f-l*i)*m,n[2]=(d*i-o*c)*m,n[3]=p*m,n[4]=(l*a-o*u)*m,n[5]=(o*s-d*a)*m,n[6]=b*m,n[7]=(i*u-f*a)*m,n[8]=(c*a-i*s)*m,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,r,n,a,i,o){const s=Math.cos(a),c=Math.sin(a);this.set(r*s,r*c,-r*(s*i+c*o)+i+e,-n*c,n*s,-n*(-c*i+s*o)+o+t,0,0,1)},scale:function(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this},rotate:function(e){const t=Math.cos(e),r=Math.sin(e),n=this.elements,a=n[0],i=n[3],o=n[6],s=n[1],c=n[4],d=n[7];return n[0]=t*a+r*s,n[3]=t*i+r*c,n[6]=t*o+r*d,n[1]=-r*a+t*s,n[4]=-r*i+t*c,n[7]=-r*o+t*d,this},translate:function(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this},equals:function(e){const t=this.elements,r=e.elements;for(let e=0;e<9;e++)if(t[e]!==r[e])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}});const C={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===A&&(A=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),A.width=e.width,A.height=e.height;const r=A.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=A}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};y.ImageUtils=C;let L=0;function P(e,t,r,n,a,i,o,s,c,d){Object.defineProperty(this,"id",{value:L++}),this.uuid=S.generateUUID(),this.name="",this.image=void 0!==e?e:P.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:P.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:1001,this.wrapT=void 0!==n?n:1001,this.magFilter=void 0!==a?a:1006,this.minFilter=void 0!==i?i:1008,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:1023,this.internalFormat=null,this.type=void 0!==s?s:1009,this.offset=new T(0,0),this.repeat=new T(1,1),this.center=new T(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new E,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==d?d:3e3,this.version=0,this.onUpdate=null}function R(e=0,t=0,r=0,n=1){this.x=e,this.y=t,this.z=r,this.w=n}function k(e,t,r){this.width=e,this.height=t,this.scissor=new R(0,0,e,t),this.scissorTest=!1,this.viewport=new R(0,0,e,t),r=r||{},this.texture=new P(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:1006,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0===r.stencilBuffer||r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}function O(e,t,r){k.call(this,e,t,r),this.samples=4}function D(e=0,t=0,r=0,n=1){this._x=e,this._y=t,this._z=r,this._w=n}y.Texture=P,P.DEFAULT_IMAGE=void 0,P.DEFAULT_MAPPING=300,P.prototype=Object.assign(Object.create(_.prototype),{constructor:P,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const n=this.image;if(void 0===n.uuid&&(n.uuid=S.generateUUID()),!t&&void 0===e.images[n.uuid]){let t;if(Array.isArray(n)){t=[];for(let e=0,r=n.length;e<r;e++)t.push(C.getDataURL(n[e]))}else t=C.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:t}}r.image=n.uuid}return t||(e.textures[this.uuid]=r),r},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(P.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),y.Vector4=R,Object.defineProperties(R.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(R.prototype,{isVector4:!0,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,r=this.y,n=this.z,a=this.w,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n+i[12]*a,this.y=i[1]*t+i[5]*r+i[9]*n+i[13]*a,this.z=i[2]*t+i[6]*r+i[10]*n+i[14]*a,this.w=i[3]*t+i[7]*r+i[11]*n+i[15]*a,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,r,n,a;const i=e.elements,o=i[0],s=i[4],c=i[8],d=i[1],u=i[5],f=i[9],l=i[2],h=i[6],p=i[10];if(Math.abs(s-d)<.01&&Math.abs(c-l)<.01&&Math.abs(f-h)<.01){if(Math.abs(s+d)<.1&&Math.abs(c+l)<.1&&Math.abs(f+h)<.1&&Math.abs(o+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const e=(o+1)/2,i=(u+1)/2,b=(p+1)/2,g=(s+d)/4,m=(c+l)/4,v=(f+h)/4;return e>i&&e>b?e<.01?(r=0,n=.707106781,a=.707106781):(r=Math.sqrt(e),n=g/r,a=m/r):i>b?i<.01?(r=.707106781,n=0,a=.707106781):(n=Math.sqrt(i),r=g/n,a=v/n):b<.01?(r=.707106781,n=.707106781,a=0):(a=Math.sqrt(b),r=m/a,n=v/a),this.set(r,n,a,t),this}let b=Math.sqrt((h-f)*(h-f)+(c-l)*(c-l)+(d-s)*(d-s));return Math.abs(b)<.001&&(b=1),this.x=(h-f)/b,this.y=(c-l)/b,this.z=(d-s)/b,this.w=Math.acos((o+u+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),y.WebGLRenderTarget=k,k.prototype=Object.assign(Object.create(_.prototype),{constructor:k,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),y.WebGLMultisampleRenderTarget=O,O.prototype=Object.assign(Object.create(k.prototype),{constructor:O,isWebGLMultisampleRenderTarget:!0,copy:function(e){return k.prototype.copy.call(this,e),this.samples=e.samples,this}}),y.Quaternion=D,Object.assign(D,{slerp:function(e,t,r,n){return r.copy(e).slerp(t,n)},slerpFlat:function(e,t,r,n,a,i,o){let s=r[n+0],c=r[n+1],d=r[n+2],u=r[n+3];const f=a[i+0],l=a[i+1],h=a[i+2],p=a[i+3];if(u!==p||s!==f||c!==l||d!==h){let e=1-o,t=s*f+c*l+d*h+u*p,r=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const a=Math.sqrt(n),i=Math.atan2(a,t*r);e=Math.sin(e*i)/a,o=Math.sin(o*i)/a}const a=o*r;if(s=s*e+f*a,c=c*e+l*a,d=d*e+h*a,u=u*e+p*a,e===1-o){const e=1/Math.sqrt(s*s+c*c+d*d+u*u);s*=e,c*=e,d*=e,u*=e}}e[t]=s,e[t+1]=c,e[t+2]=d,e[t+3]=u},multiplyQuaternionsFlat:function(e,t,r,n,a,i){const o=r[n],s=r[n+1],c=r[n+2],d=r[n+3],u=a[i],f=a[i+1],l=a[i+2],h=a[i+3];return e[t]=o*h+d*u+s*l-c*f,e[t+1]=s*h+d*f+c*u-o*l,e[t+2]=c*h+d*l+o*f-s*u,e[t+3]=d*h-o*u-s*f-c*l,e}}),Object.defineProperties(D.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(D.prototype,{isQuaternion:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,n=e._y,a=e._z,i=e.order,o=Math.cos,s=Math.sin,c=o(r/2),d=o(n/2),u=o(a/2),f=s(r/2),l=s(n/2),h=s(a/2);switch(i){case"XYZ":this._x=f*d*u+c*l*h,this._y=c*l*u-f*d*h,this._z=c*d*h+f*l*u,this._w=c*d*u-f*l*h;break;case"YXZ":this._x=f*d*u+c*l*h,this._y=c*l*u-f*d*h,this._z=c*d*h-f*l*u,this._w=c*d*u+f*l*h;break;case"ZXY":this._x=f*d*u-c*l*h,this._y=c*l*u+f*d*h,this._z=c*d*h+f*l*u,this._w=c*d*u-f*l*h;break;case"ZYX":this._x=f*d*u-c*l*h,this._y=c*l*u+f*d*h,this._z=c*d*h-f*l*u,this._w=c*d*u+f*l*h;break;case"YZX":this._x=f*d*u+c*l*h,this._y=c*l*u+f*d*h,this._z=c*d*h-f*l*u,this._w=c*d*u-f*l*h;break;case"XZY":this._x=f*d*u-c*l*h,this._y=c*l*u-f*d*h,this._z=c*d*h+f*l*u,this._w=c*d*u+f*l*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,r=t[0],n=t[4],a=t[8],i=t[1],o=t[5],s=t[9],c=t[2],d=t[6],u=t[10],f=r+o+u;if(f>0){const e=.5/Math.sqrt(f+1);this._w=.25/e,this._x=(d-s)*e,this._y=(a-c)*e,this._z=(i-n)*e}else if(r>o&&r>u){const e=2*Math.sqrt(1+r-o-u);this._w=(d-s)/e,this._x=.25*e,this._y=(n+i)/e,this._z=(a+c)/e}else if(o>u){const e=2*Math.sqrt(1+o-r-u);this._w=(a-c)/e,this._x=(n+i)/e,this._y=.25*e,this._z=(s+d)/e}else{const e=2*Math.sqrt(1+u-r-o);this._w=(i-n)/e,this._x=(a+c)/e,this._y=(s+d)/e,this._z=.25*e}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let r=e.dot(t)+1;return r<1e-6?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(S.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const r=this.angleTo(e);if(0===r)return this;const n=Math.min(1,t/r);return this.slerp(e,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const r=e._x,n=e._y,a=e._z,i=e._w,o=t._x,s=t._y,c=t._z,d=t._w;return this._x=r*d+i*o+n*c-a*s,this._y=n*d+i*s+a*o-r*c,this._z=a*d+i*c+r*s-n*o,this._w=i*d-r*o-n*s-a*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,n=this._y,a=this._z,i=this._w;let o=i*e._w+r*e._x+n*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=r,this._y=n,this._z=a,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*i+t*this._w,this._x=e*r+t*this._x,this._y=e*n+t*this._y,this._z=e*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(s),d=Math.atan2(c,o),u=Math.sin((1-t)*d)/c,f=Math.sin(t*d)/c;return this._w=i*u+this._w*f,this._x=r*u+this._x*f,this._y=n*u+this._y*f,this._z=a*u+this._z*f,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const I=new B,N=new D;function B(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}y.Vector3=B,Object.assign(B.prototype,{isVector3:!0,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(N.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(N.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,r=this.y,n=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*n,this.y=a[1]*t+a[4]*r+a[7]*n,this.z=a[2]*t+a[5]*r+a[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,r=this.y,n=this.z,a=e.elements,i=1/(a[3]*t+a[7]*r+a[11]*n+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*n+a[12])*i,this.y=(a[1]*t+a[5]*r+a[9]*n+a[13])*i,this.z=(a[2]*t+a[6]*r+a[10]*n+a[14])*i,this},applyQuaternion:function(e){const t=this.x,r=this.y,n=this.z,a=e.x,i=e.y,o=e.z,s=e.w,c=s*t+i*n-o*r,d=s*r+o*t-a*n,u=s*n+a*r-i*t,f=-a*t-i*r-o*n;return this.x=c*s+f*-a+d*-o-u*-i,this.y=d*s+f*-i+u*-a-c*-o,this.z=u*s+f*-o+c*-i-d*-a,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,r=this.y,n=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*n,this.y=a[1]*t+a[5]*r+a[9]*n,this.z=a[2]*t+a[6]*r+a[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const r=e.x,n=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=n*s-a*o,this.y=a*i-r*s,this.z=r*o-n*i,this},projectOnVector:function(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)},projectOnPlane:function(e){return I.copy(this).projectOnVector(e),this.sub(I)},reflect:function(e){return this.sub(I.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(S.clamp(r,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,r){const n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const z=new B,j=new W,F=new B(0,0,0),U=new B(1,1,1),G=new B,H=new B,V=new B;function W(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}y.Matrix4=W,Object.assign(W.prototype,{isMatrix4:!0,set:function(e,t,r,n,a,i,o,s,c,d,u,f,l,h,p,b){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=a,g[5]=i,g[9]=o,g[13]=s,g[2]=c,g[6]=d,g[10]=u,g[14]=f,g[3]=l,g[7]=h,g[11]=p,g[15]=b,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new W).fromArray(this.elements)},copy:function(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this},copyPosition:function(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,r=e.elements,n=1/z.setFromMatrixColumn(e,0).length(),a=1/z.setFromMatrixColumn(e,1).length(),i=1/z.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*i,t[9]=r[9]*i,t[10]=r[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,n=e.y,a=e.z,i=Math.cos(r),o=Math.sin(r),s=Math.cos(n),c=Math.sin(n),d=Math.cos(a),u=Math.sin(a);if("XYZ"===e.order){const e=i*d,r=i*u,n=o*d,a=o*u;t[0]=s*d,t[4]=-s*u,t[8]=c,t[1]=r+n*c,t[5]=e-a*c,t[9]=-o*s,t[2]=a-e*c,t[6]=n+r*c,t[10]=i*s}else if("YXZ"===e.order){const e=s*d,r=s*u,n=c*d,a=c*u;t[0]=e+a*o,t[4]=n*o-r,t[8]=i*c,t[1]=i*u,t[5]=i*d,t[9]=-o,t[2]=r*o-n,t[6]=a+e*o,t[10]=i*s}else if("ZXY"===e.order){const e=s*d,r=s*u,n=c*d,a=c*u;t[0]=e-a*o,t[4]=-i*u,t[8]=n+r*o,t[1]=r+n*o,t[5]=i*d,t[9]=a-e*o,t[2]=-i*c,t[6]=o,t[10]=i*s}else if("ZYX"===e.order){const e=i*d,r=i*u,n=o*d,a=o*u;t[0]=s*d,t[4]=n*c-r,t[8]=e*c+a,t[1]=s*u,t[5]=a*c+e,t[9]=r*c-n,t[2]=-c,t[6]=o*s,t[10]=i*s}else if("YZX"===e.order){const e=i*s,r=i*c,n=o*s,a=o*c;t[0]=s*d,t[4]=a-e*u,t[8]=n*u+r,t[1]=u,t[5]=i*d,t[9]=-o*d,t[2]=-c*d,t[6]=r*u+n,t[10]=e-a*u}else if("XZY"===e.order){const e=i*s,r=i*c,n=o*s,a=o*c;t[0]=s*d,t[4]=-u,t[8]=c*d,t[1]=e*u+a,t[5]=i*d,t[9]=r*u-n,t[2]=n*u-r,t[6]=o*d,t[10]=a*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(F,e,U)},lookAt:function(e,t,r){const n=this.elements;return V.subVectors(e,t),0===V.lengthSq()&&(V.z=1),V.normalize(),G.crossVectors(r,V),0===G.lengthSq()&&(1===Math.abs(r.z)?V.x+=1e-4:V.z+=1e-4,V.normalize(),G.crossVectors(r,V)),G.normalize(),H.crossVectors(V,G),n[0]=G.x,n[4]=H.x,n[8]=V.x,n[1]=G.y,n[5]=H.y,n[9]=V.y,n[2]=G.z,n[6]=H.z,n[10]=V.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const r=e.elements,n=t.elements,a=this.elements,i=r[0],o=r[4],s=r[8],c=r[12],d=r[1],u=r[5],f=r[9],l=r[13],h=r[2],p=r[6],b=r[10],g=r[14],m=r[3],v=r[7],y=r[11],x=r[15],w=n[0],_=n[4],M=n[8],S=n[12],T=n[1],E=n[5],A=n[9],C=n[13],L=n[2],P=n[6],R=n[10],k=n[14],O=n[3],D=n[7],I=n[11],N=n[15];return a[0]=i*w+o*T+s*L+c*O,a[4]=i*_+o*E+s*P+c*D,a[8]=i*M+o*A+s*R+c*I,a[12]=i*S+o*C+s*k+c*N,a[1]=d*w+u*T+f*L+l*O,a[5]=d*_+u*E+f*P+l*D,a[9]=d*M+u*A+f*R+l*I,a[13]=d*S+u*C+f*k+l*N,a[2]=h*w+p*T+b*L+g*O,a[6]=h*_+p*E+b*P+g*D,a[10]=h*M+p*A+b*R+g*I,a[14]=h*S+p*C+b*k+g*N,a[3]=m*w+v*T+y*L+x*O,a[7]=m*_+v*E+y*P+x*D,a[11]=m*M+v*A+y*R+x*I,a[15]=m*S+v*C+y*k+x*N,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],r=e[4],n=e[8],a=e[12],i=e[1],o=e[5],s=e[9],c=e[13],d=e[2],u=e[6],f=e[10],l=e[14];return e[3]*(+a*s*u-n*c*u-a*o*f+r*c*f+n*o*l-r*s*l)+e[7]*(+t*s*l-t*c*f+a*i*f-n*i*l+n*c*d-a*s*d)+e[11]*(+t*c*u-t*o*l-a*i*u+r*i*l+a*o*d-r*c*d)+e[15]*(-n*o*d-t*s*u+t*o*f+n*i*u-r*i*f+r*s*d)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,r){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const r=this.elements,n=e.elements,a=n[0],i=n[1],o=n[2],s=n[3],c=n[4],d=n[5],u=n[6],f=n[7],l=n[8],h=n[9],p=n[10],b=n[11],g=n[12],m=n[13],v=n[14],y=n[15],x=h*v*f-m*p*f+m*u*b-d*v*b-h*u*y+d*p*y,w=g*p*f-l*v*f-g*u*b+c*v*b+l*u*y-c*p*y,_=l*m*f-g*h*f+g*d*b-c*m*b-l*d*y+c*h*y,M=g*h*u-l*m*u-g*d*p+c*m*p+l*d*v-c*h*v,S=a*x+i*w+o*_+s*M;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return r[0]=x*T,r[1]=(m*p*s-h*v*s-m*o*b+i*v*b+h*o*y-i*p*y)*T,r[2]=(d*v*s-m*u*s+m*o*f-i*v*f-d*o*y+i*u*y)*T,r[3]=(h*u*s-d*p*s-h*o*f+i*p*f+d*o*b-i*u*b)*T,r[4]=w*T,r[5]=(l*v*s-g*p*s+g*o*b-a*v*b-l*o*y+a*p*y)*T,r[6]=(g*u*s-c*v*s-g*o*f+a*v*f+c*o*y-a*u*y)*T,r[7]=(c*p*s-l*u*s+l*o*f-a*p*f-c*o*b+a*u*b)*T,r[8]=_*T,r[9]=(g*h*s-l*m*s-g*i*b+a*m*b+l*i*y-a*h*y)*T,r[10]=(c*m*s-g*d*s+g*i*f-a*m*f-c*i*y+a*d*y)*T,r[11]=(l*d*s-c*h*s-l*i*f+a*h*f+c*i*b-a*d*b)*T,r[12]=M*T,r[13]=(l*m*o-g*h*o+g*i*p-a*m*p-l*i*v+a*h*v)*T,r[14]=(g*d*o-c*m*o-g*i*u+a*m*u+c*i*v-a*d*v)*T,r[15]=(c*h*o-l*d*o+l*i*u-a*h*u-c*i*p+a*d*p)*T,this},scale:function(e){const t=this.elements,r=e.x,n=e.y,a=e.z;return t[0]*=r,t[4]*=n,t[8]*=a,t[1]*=r,t[5]*=n,t[9]*=a,t[2]*=r,t[6]*=n,t[10]*=a,t[3]*=r,t[7]*=n,t[11]*=a,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const r=Math.cos(t),n=Math.sin(t),a=1-r,i=e.x,o=e.y,s=e.z,c=a*i,d=a*o;return this.set(c*i+r,c*o-n*s,c*s+n*o,0,c*o+n*s,d*o+r,d*s-n*i,0,c*s-n*o,d*s+n*i,a*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,r){const n=this.elements,a=t._x,i=t._y,o=t._z,s=t._w,c=a+a,d=i+i,u=o+o,f=a*c,l=a*d,h=a*u,p=i*d,b=i*u,g=o*u,m=s*c,v=s*d,y=s*u,x=r.x,w=r.y,_=r.z;return n[0]=(1-(p+g))*x,n[1]=(l+y)*x,n[2]=(h-v)*x,n[3]=0,n[4]=(l-y)*w,n[5]=(1-(f+g))*w,n[6]=(b+m)*w,n[7]=0,n[8]=(h+v)*_,n[9]=(b-m)*_,n[10]=(1-(f+p))*_,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,r){const n=this.elements;let a=z.set(n[0],n[1],n[2]).length(),i=z.set(n[4],n[5],n[6]).length(),o=z.set(n[8],n[9],n[10]).length();this.determinant()<0&&(a=-a),e.x=n[12],e.y=n[13],e.z=n[14],j.copy(this);const s=1/a,c=1/i,d=1/o;return j.elements[0]*=s,j.elements[1]*=s,j.elements[2]*=s,j.elements[4]*=c,j.elements[5]*=c,j.elements[6]*=c,j.elements[8]*=d,j.elements[9]*=d,j.elements[10]*=d,t.setFromRotationMatrix(j),r.x=a,r.y=i,r.z=o,this},makePerspective:function(e,t,r,n,a,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,s=2*a/(t-e),c=2*a/(r-n),d=(t+e)/(t-e),u=(r+n)/(r-n),f=-(i+a)/(i-a),l=-2*i*a/(i-a);return o[0]=s,o[4]=0,o[8]=d,o[12]=0,o[1]=0,o[5]=c,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=l,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,r,n,a,i){const o=this.elements,s=1/(t-e),c=1/(r-n),d=1/(i-a),u=(t+e)*s,f=(r+n)*c,l=(i+a)*d;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*d,o[14]=-l,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){const t=this.elements,r=e.elements;for(let e=0;e<16;e++)if(t[e]!==r[e])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}});const q=new W,X=new D;function Y(e=0,t=0,r=0,n=Y.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=n}function Z(){this.mask=1}y.Euler=Y,Y.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Y.DefaultOrder="XYZ",Object.defineProperties(Y.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Y.prototype,{isEuler:!0,set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){const n=S.clamp,a=e.elements,i=a[0],o=a[4],s=a[8],c=a[1],d=a[5],u=a[9],f=a[2],l=a[6],h=a[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(l,d),this._z=0);break;case"YXZ":this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-f,i),this._z=0);break;case"ZXY":this._x=Math.asin(n(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-n(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(l,h),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-f,i)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(l,d),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,r){return q.makeRotationFromQuaternion(e),this.setFromRotationMatrix(q,t,r)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return X.setFromEuler(this),this.setFromQuaternion(X,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new B(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),y.Layers=Z,Object.assign(Z.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});let J=0;const Q=new B,K=new D,$=new W,ee=new B,te=new B,re=new B,ne=new D,ae=new B(1,0,0),ie=new B(0,1,0),oe=new B(0,0,1),se={type:"added"},ce={type:"removed"};function de(){Object.defineProperty(this,"id",{value:J++}),this.uuid=S.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=de.DefaultUp.clone();const e=new B,t=new Y,r=new D,n=new B(1,1,1);t._onChange((function(){r.setFromEuler(t,!1)})),r._onChange((function(){t.setFromQuaternion(r,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new W},normalMatrix:{value:new E}}),this.matrix=new W,this.matrixWorld=new W,this.matrixAutoUpdate=de.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Z,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ue(){de.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}y.Object3D=de,de.DefaultUp=new B(0,1,0),de.DefaultMatrixAutoUpdate=!0,de.prototype=Object.assign(Object.create(_.prototype),{constructor:de,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return K.setFromAxisAngle(e,t),this.quaternion.multiply(K),this},rotateOnWorldAxis:function(e,t){return K.setFromAxisAngle(e,t),this.quaternion.premultiply(K),this},rotateX:function(e){return this.rotateOnAxis(ae,e)},rotateY:function(e){return this.rotateOnAxis(ie,e)},rotateZ:function(e){return this.rotateOnAxis(oe,e)},translateOnAxis:function(e,t){return Q.copy(e).applyQuaternion(this.quaternion),this.position.add(Q.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ae,e)},translateY:function(e){return this.translateOnAxis(ie,e)},translateZ:function(e){return this.translateOnAxis(oe,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4($.getInverse(this.matrixWorld))},lookAt:function(e,t,r){e.isVector3?ee.copy(e):ee.set(e,t,r);const n=this.parent;this.updateWorldMatrix(!0,!1),te.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$.lookAt(te,ee,this.up):$.lookAt(ee,te,this.up),this.quaternion.setFromRotationMatrix($),n&&($.extractRotation(n.matrixWorld),K.setFromRotationMatrix($),this.quaternion.premultiply(K.inverse()))},add:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(se)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ce)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),$.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),$.multiply(e.parent.matrixWorld)),e.applyMatrix4($),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let r=0,n=this.children.length;r<n;r++){const n=this.children[r].getObjectByProperty(e,t);if(void 0!==n)return n}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new B),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new D),this.updateMatrixWorld(!0),this.matrixWorld.decompose(te,e,re),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new B),this.updateMatrixWorld(!0),this.matrixWorld.decompose(te,ne,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new B),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverse(e)},traverseVisible:function(e){if(!1===this.visible)return;e(this);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,r=e.length;t<r;t++)e[t].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=void 0===e||"string"==typeof e,r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function a(t,r){return void 0===t[r.uuid]&&(t[r.uuid]=r.toJSON(e)),r.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=a(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const r=t.shapes;if(Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const n=r[t];a(e.shapes,n)}else a(e.shapes,r)}}if(void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let r=0,n=this.material.length;r<n;r++)t.push(a(e.materials,this.material[r]));n.material=t}else n.material=a(e.materials,this.material);if(this.children.length>0){n.children=[];for(let t=0;t<this.children.length;t++)n.children.push(this.children[t].toJSON(e).object)}if(t){const t=i(e.geometries),n=i(e.materials),a=i(e.textures),o=i(e.images),s=i(e.shapes);t.length>0&&(r.geometries=t),n.length>0&&(r.materials=n),a.length>0&&(r.textures=a),o.length>0&&(r.images=o),s.length>0&&(r.shapes=s)}return r.object=n,r;function i(e){const t=[];for(const r in e){const n=e[r];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const r=e.children[t];this.add(r.clone())}return this}}),y.Scene=ue,ue.prototype=Object.assign(Object.create(de.prototype),{constructor:ue,isScene:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=de.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const fe=[new B,new B,new B,new B,new B,new B,new B,new B],le=new B,he=new Se,pe=new B,be=new B,ge=new B,me=new B,ve=new B,ye=new B,xe=new B,we=new B,_e=new B,Me=new B;function Se(e,t){this.min=void 0!==e?e:new B(1/0,1/0,1/0),this.max=void 0!==t?t:new B(-1/0,-1/0,-1/0)}function Te(e,t,r,n,a){for(let i=0,o=e.length-3;i<=o;i+=3){Me.fromArray(e,i);const o=a.x*Math.abs(Me.x)+a.y*Math.abs(Me.y)+a.z*Math.abs(Me.z),s=t.dot(Me),c=r.dot(Me),d=n.dot(Me);if(Math.max(-Math.max(s,c,d),Math.min(s,c,d))>o)return!1}return!0}y.Box3=Se,Object.assign(Se.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,r=1/0,n=1/0,a=-1/0,i=-1/0,o=-1/0;for(let s=0,c=e.length;s<c;s+=3){const c=e[s],d=e[s+1],u=e[s+2];c<t&&(t=c),d<r&&(r=d),u<n&&(n=u),c>a&&(a=c),d>i&&(i=d),u>o&&(o=u)}return this.min.set(t,r,n),this.max.set(a,i,o),this},setFromBufferAttribute:function(e){let t=1/0,r=1/0,n=1/0,a=-1/0,i=-1/0,o=-1/0;for(let s=0,c=e.count;s<c;s++){const c=e.getX(s),d=e.getY(s),u=e.getZ(s);c<t&&(t=c),d<r&&(r=d),u<n&&(n=u),c>a&&(a=c),d>i&&(i=d),u>o&&(o=u)}return this.min.set(t,r,n),this.max.set(a,i,o),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const r=le.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new B),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new B),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),he.copy(t.boundingBox),he.applyMatrix4(e.matrixWorld),this.union(he));const r=e.children;for(let e=0,t=r.length;e<t;e++)this.expandByObject(r[e]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new B),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,le),le.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(xe),we.subVectors(this.max,xe),pe.subVectors(e.a,xe),be.subVectors(e.b,xe),ge.subVectors(e.c,xe),me.subVectors(be,pe),ve.subVectors(ge,be),ye.subVectors(pe,ge);let t=[0,-me.z,me.y,0,-ve.z,ve.y,0,-ye.z,ye.y,me.z,0,-me.x,ve.z,0,-ve.x,ye.z,0,-ye.x,-me.y,me.x,0,-ve.y,ve.x,0,-ye.y,ye.x,0];return!!Te(t,pe,be,ge,we)&&(t=[1,0,0,0,1,0,0,0,1],!!Te(t,pe,be,ge,we)&&(_e.crossVectors(me,ve),t=[_e.x,_e.y,_e.z],Te(t,pe,be,ge,we)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new B),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return le.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(le).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(fe[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fe[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fe[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fe[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fe[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fe[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fe[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fe[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fe)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const Ee=new Se;function Ae(e,t){this.center=void 0!==e?e:new B,this.radius=void 0!==t?t:-1}y.Sphere=Ae,Object.assign(Ae.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const r=this.center;void 0!==t?r.copy(t):Ee.setFromPoints(e).getCenter(r);let n=0;for(let t=0,a=e.length;t<a;t++)n=Math.max(n,r.distanceToSquared(e[t]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new B),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Se),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const Ce=new B,Le=new B,Pe=new B,Re=new B,ke=new B,Oe=new B,De=new B;function Ie(e,t){this.origin=void 0!==e?e:new B,this.direction=void 0!==t?t:new B(0,0,-1)}y.Ray=Ie,Object.assign(Ie.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new B),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Ce)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new B),t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=Ce.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ce.copy(this.direction).multiplyScalar(t).add(this.origin),Ce.distanceToSquared(e))},distanceSqToSegment:function(e,t,r,n){Le.copy(e).add(t).multiplyScalar(.5),Pe.copy(t).sub(e).normalize(),Re.copy(this.origin).sub(Le);const a=.5*e.distanceTo(t),i=-this.direction.dot(Pe),o=Re.dot(this.direction),s=-Re.dot(Pe),c=Re.lengthSq(),d=Math.abs(1-i*i);let u,f,l,h;if(d>0)if(u=i*s-o,f=i*o-s,h=a*d,u>=0)if(f>=-h)if(f<=h){const e=1/d;u*=e,f*=e,l=u*(u+i*f+2*o)+f*(i*u+f+2*s)+c}else f=a,u=Math.max(0,-(i*f+o)),l=-u*u+f*(f+2*s)+c;else f=-a,u=Math.max(0,-(i*f+o)),l=-u*u+f*(f+2*s)+c;else f<=-h?(u=Math.max(0,-(-i*a+o)),f=u>0?-a:Math.min(Math.max(-a,-s),a),l=-u*u+f*(f+2*s)+c):f<=h?(u=0,f=Math.min(Math.max(-a,-s),a),l=f*(f+2*s)+c):(u=Math.max(0,-(i*a+o)),f=u>0?a:Math.min(Math.max(-a,-s),a),l=-u*u+f*(f+2*s)+c);else f=i>0?-a:a,u=Math.max(0,-(i*f+o)),l=-u*u+f*(f+2*s)+c;return r&&r.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(Pe).multiplyScalar(f).add(Le),l},intersectSphere:function(e,t){Ce.subVectors(e.center,this.origin);const r=Ce.dot(this.direction),n=Ce.dot(Ce)-r*r,a=e.radius*e.radius;if(n>a)return null;const i=Math.sqrt(a-n),o=r-i,s=r+i;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){const r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let r,n,a,i,o,s;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,n=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,n=(e.min.x-f.x)*c),d>=0?(a=(e.min.y-f.y)*d,i=(e.max.y-f.y)*d):(a=(e.max.y-f.y)*d,i=(e.min.y-f.y)*d),r>i||a>n?null:((a>r||r!=r)&&(r=a),(i<n||n!=n)&&(n=i),u>=0?(o=(e.min.z-f.z)*u,s=(e.max.z-f.z)*u):(o=(e.max.z-f.z)*u,s=(e.min.z-f.z)*u),r>s||o>n?null:((o>r||r!=r)&&(r=o),(s<n||n!=n)&&(n=s),n<0?null:this.at(r>=0?r:n,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Ce)},intersectTriangle:function(e,t,r,n,a){ke.subVectors(t,e),Oe.subVectors(r,e),De.crossVectors(ke,Oe);let i,o=this.direction.dot(De);if(o>0){if(n)return null;i=1}else{if(!(o<0))return null;i=-1,o=-o}Re.subVectors(this.origin,e);const s=i*this.direction.dot(Oe.crossVectors(Re,Oe));if(s<0)return null;const c=i*this.direction.dot(ke.cross(Re));if(c<0)return null;if(s+c>o)return null;const d=-i*Re.dot(De);return d<0?null:this.at(d/o,a)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const Ne=new B,Be=new B,ze=new E;function je(e,t){this.normal=void 0!==e?e:new B(1,0,0),this.constant=void 0!==t?t:0}y.Plane=je,Object.assign(je.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,r){const n=Ne.subVectors(r,t).cross(Be.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new B),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new B);const r=e.delta(Ne),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;const a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:t.copy(r).multiplyScalar(a).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new B),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const r=t||ze.getNormalMatrix(e),n=this.coplanarPoint(Ne).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-n.dot(a),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const Fe=new B,Ue=new B,Ge=new B,He=new B,Ve=new B,We=new B,qe=new B,Xe=new B,Ye=new B,Ze=new B;function Je(e,t,r){this.a=void 0!==e?e:new B,this.b=void 0!==t?t:new B,this.c=void 0!==r?r:new B}y.Triangle=Je,Object.assign(Je,{getNormal:function(e,t,r,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new B),n.subVectors(r,t),Fe.subVectors(e,t),n.cross(Fe);const a=n.lengthSq();return a>0?n.multiplyScalar(1/Math.sqrt(a)):n.set(0,0,0)},getBarycoord:function(e,t,r,n,a){Fe.subVectors(n,t),Ue.subVectors(r,t),Ge.subVectors(e,t);const i=Fe.dot(Fe),o=Fe.dot(Ue),s=Fe.dot(Ge),c=Ue.dot(Ue),d=Ue.dot(Ge),u=i*c-o*o;if(void 0===a&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),a=new B),0===u)return a.set(-2,-1,-1);const f=1/u,l=(c*s-o*d)*f,h=(i*d-o*s)*f;return a.set(1-l-h,h,l)},containsPoint:function(e,t,r,n){return Je.getBarycoord(e,t,r,n,He),He.x>=0&&He.y>=0&&He.x+He.y<=1},getUV:function(e,t,r,n,a,i,o,s){return this.getBarycoord(e,t,r,n,He),s.set(0,0),s.addScaledVector(a,He.x),s.addScaledVector(i,He.y),s.addScaledVector(o,He.z),s},isFrontFacing:function(e,t,r,n){return Fe.subVectors(r,t),Ue.subVectors(e,t),Fe.cross(Ue).dot(n)<0}}),Object.assign(Je.prototype,{set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Fe.subVectors(this.c,this.b),Ue.subVectors(this.a,this.b),.5*Fe.cross(Ue).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new B),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Je.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new je),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Je.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,r,n,a){return Je.getUV(e,this.a,this.b,this.c,t,r,n,a)},containsPoint:function(e){return Je.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Je.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new B);const r=this.a,n=this.b,a=this.c;let i,o;Ve.subVectors(n,r),We.subVectors(a,r),Xe.subVectors(e,r);const s=Ve.dot(Xe),c=We.dot(Xe);if(s<=0&&c<=0)return t.copy(r);Ye.subVectors(e,n);const d=Ve.dot(Ye),u=We.dot(Ye);if(d>=0&&u<=d)return t.copy(n);const f=s*u-d*c;if(f<=0&&s>=0&&d<=0)return i=s/(s-d),t.copy(r).addScaledVector(Ve,i);Ze.subVectors(e,a);const l=Ve.dot(Ze),h=We.dot(Ze);if(h>=0&&l<=h)return t.copy(a);const p=l*c-s*h;if(p<=0&&c>=0&&h<=0)return o=c/(c-h),t.copy(r).addScaledVector(We,o);const b=d*h-l*u;if(b<=0&&u-d>=0&&l-h>=0)return qe.subVectors(a,n),o=(u-d)/(u-d+(l-h)),t.copy(n).addScaledVector(qe,o);const g=1/(b+p+f);return i=p*g,o=f*g,t.copy(r).addScaledVector(Ve,i).addScaledVector(We,o)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const Qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ke={h:0,s:0,l:0},$e={h:0,s:0,l:0};function et(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}function tt(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function rt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function nt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function at(e,t,r,n,a,i){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new B,this.vertexNormals=Array.isArray(n)?n:[],this.color=a&&a.isColor?a:new et,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==i?i:0}y.Color=et,Object.assign(et.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(e=S.euclideanModulo(e,1),t=S.clamp(t,0,1),r=S.clamp(r,0,1),0===t)this.r=this.g=this.b=r;else{const n=r<=.5?r*(1+t):r+t-r*t,a=2*r-n;this.r=tt(a,n,e+1/3),this.g=tt(a,n,e),this.b=tt(a,n,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let e;const n=r[1],a=r[2];switch(n){case"rgb":case"rgba":if(e=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[5]),this;if(e=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[5]),this;break;case"hsl":case"hsla":if(e=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){const r=parseFloat(e[1])/360,n=parseInt(e[2],10)/100,a=parseInt(e[3],10)/100;return t(e[5]),this.setHSL(r,n,a)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(e)){const e=r[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=Qe[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);const r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=rt(e.r),this.g=rt(e.g),this.b=rt(e.b),this},copyLinearToSRGB:function(e){return this.r=nt(e.r),this.g=nt(e.g),this.b=nt(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,r=this.g,n=this.b,a=Math.max(t,r,n),i=Math.min(t,r,n);let o,s;const c=(i+a)/2;if(i===a)o=0,s=0;else{const e=a-i;switch(s=c<=.5?e/(a+i):e/(2-a-i),a){case t:o=(r-n)/e+(r<n?6:0);break;case r:o=(n-t)/e+2;break;case n:o=(t-r)/e+4}o/=6}return e.h=o,e.s=s,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){return this.getHSL(Ke),Ke.h+=e,Ke.s+=t,Ke.l+=r,this.setHSL(Ke.h,Ke.s,Ke.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Ke),e.getHSL($e);const r=S.lerp(Ke.h,$e.h,t),n=S.lerp(Ke.s,$e.s,t),a=S.lerp(Ke.l,$e.l,t);return this.setHSL(r,n,a),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}}),et.NAMES=Qe,y.Face3=at,Object.assign(at.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let it=0;function ot(){Object.defineProperty(this,"id",{value:it++}),this.uuid=S.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function st(e){ot.call(this),this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}y.Material=ot,ot.prototype=Object.assign(Object.create(_.prototype),{constructor:ot,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const t in e){const r=e[t];if(void 0===r){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===r;continue}const n=this[t];void 0!==n?n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){const t=[];for(const r in e){const n=e[r];delete n.metadata,t.push(n)}return t}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),t){const t=n(e.textures),a=n(e.images);t.length>0&&(r.textures=t),a.length>0&&(r.images=a)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(null!==t){const e=t.length;r=new Array(e);for(let n=0;n!==e;++n)r[n]=t[n].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(ot.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),y.MeshBasicMaterial=st,st.prototype=Object.create(ot.prototype),st.prototype.constructor=st,st.prototype.isMeshBasicMaterial=!0,st.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const ct=new B,dt=new T;function ut(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function ft(e,t,r){ut.call(this,new Int8Array(e),t,r)}function lt(e,t,r){ut.call(this,new Uint8Array(e),t,r)}function ht(e,t,r){ut.call(this,new Uint8ClampedArray(e),t,r)}function pt(e,t,r){ut.call(this,new Int16Array(e),t,r)}function bt(e,t,r){ut.call(this,new Uint16Array(e),t,r)}function gt(e,t,r){ut.call(this,new Int32Array(e),t,r)}function mt(e,t,r){ut.call(this,new Uint32Array(e),t,r)}function vt(e,t,r){ut.call(this,new Float32Array(e),t,r)}function yt(e,t,r){ut.call(this,new Float64Array(e),t,r)}function xt(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function wt(e){if(0===e.length)return-1/0;let t=e[0];for(let r=1,n=e.length;r<n;++r)e[r]>t&&(t=e[r]);return t}y.BufferAttribute=ut,Object.defineProperty(ut.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ut.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let n=0,a=this.itemSize;n<a;n++)this.array[e+n]=t.array[r+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let r=0;for(let n=0,a=e.length;n<a;n++){let a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new et),t[r++]=a.r,t[r++]=a.g,t[r++]=a.b}return this},copyVector2sArray:function(e){const t=this.array;let r=0;for(let n=0,a=e.length;n<a;n++){let a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new T),t[r++]=a.x,t[r++]=a.y}return this},copyVector3sArray:function(e){const t=this.array;let r=0;for(let n=0,a=e.length;n<a;n++){let a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new B),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z}return this},copyVector4sArray:function(e){const t=this.array;let r=0;for(let n=0,a=e.length;n<a;n++){let a=e[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new R),t[r++]=a.x,t[r++]=a.y,t[r++]=a.z,t[r++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,r=this.count;t<r;t++)dt.fromBufferAttribute(this,t),dt.applyMatrix3(e),this.setXY(t,dt.x,dt.y);else if(3===this.itemSize)for(let t=0,r=this.count;t<r;t++)ct.fromBufferAttribute(this,t),ct.applyMatrix3(e),this.setXYZ(t,ct.x,ct.y,ct.z);return this},applyMatrix4:function(e){for(let t=0,r=this.count;t<r;t++)ct.x=this.getX(t),ct.y=this.getY(t),ct.z=this.getZ(t),ct.applyMatrix4(e),this.setXYZ(t,ct.x,ct.y,ct.z);return this},applyNormalMatrix:function(e){for(let t=0,r=this.count;t<r;t++)ct.x=this.getX(t),ct.y=this.getY(t),ct.z=this.getZ(t),ct.applyNormalMatrix(e),this.setXYZ(t,ct.x,ct.y,ct.z);return this},transformDirection:function(e){for(let t=0,r=this.count;t<r;t++)ct.x=this.getX(t),ct.y=this.getY(t),ct.z=this.getZ(t),ct.transformDirection(e),this.setXYZ(t,ct.x,ct.y,ct.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=a,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),y.Int8BufferAttribute=ft,ft.prototype=Object.create(ut.prototype),ft.prototype.constructor=ft,y.Uint8BufferAttribute=lt,lt.prototype=Object.create(ut.prototype),lt.prototype.constructor=lt,y.Uint8ClampedBufferAttribute=ht,ht.prototype=Object.create(ut.prototype),ht.prototype.constructor=ht,y.Int16BufferAttribute=pt,pt.prototype=Object.create(ut.prototype),pt.prototype.constructor=pt,y.Uint16BufferAttribute=bt,bt.prototype=Object.create(ut.prototype),bt.prototype.constructor=bt,y.Int32BufferAttribute=gt,gt.prototype=Object.create(ut.prototype),gt.prototype.constructor=gt,y.Uint32BufferAttribute=mt,mt.prototype=Object.create(ut.prototype),mt.prototype.constructor=mt,y.Float32BufferAttribute=vt,vt.prototype=Object.create(ut.prototype),vt.prototype.constructor=vt,y.Float64BufferAttribute=yt,yt.prototype=Object.create(ut.prototype),yt.prototype.constructor=yt,Object.assign(xt.prototype,{computeGroups:function(e){const t=[];let r,n,a=void 0;const i=e.faces;for(n=0;n<i.length;n++){const e=i[n];e.materialIndex!==a&&(a=e.materialIndex,void 0!==r&&(r.count=3*n-r.start,t.push(r)),r={start:3*n,materialIndex:a})}void 0!==r&&(r.count=3*n-r.start,t.push(r)),this.groups=t},fromGeometry:function(e){const t=e.faces,r=e.vertices,n=e.faceVertexUvs,a=n[0]&&n[0].length>0,i=n[1]&&n[1].length>0,o=e.morphTargets,s=o.length;let c;if(s>0){c=[];for(let e=0;e<s;e++)c[e]={name:o[e].name,data:[]};this.morphTargets.position=c}const d=e.morphNormals,u=d.length;let f;if(u>0){f=[];for(let e=0;e<u;e++)f[e]={name:d[e].name,data:[]};this.morphTargets.normal=f}const l=e.skinIndices,h=e.skinWeights,p=l.length===r.length,b=h.length===r.length;r.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let e=0;e<t.length;e++){const g=t[e];this.vertices.push(r[g.a],r[g.b],r[g.c]);const m=g.vertexNormals;if(3===m.length)this.normals.push(m[0],m[1],m[2]);else{const e=g.normal;this.normals.push(e,e,e)}const v=g.vertexColors;if(3===v.length)this.colors.push(v[0],v[1],v[2]);else{const e=g.color;this.colors.push(e,e,e)}if(!0===a){const t=n[0][e];void 0!==t?this.uvs.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",e),this.uvs.push(new T,new T,new T))}if(!0===i){const t=n[1][e];void 0!==t?this.uvs2.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",e),this.uvs2.push(new T,new T,new T))}for(let e=0;e<s;e++){const t=o[e].vertices;c[e].data.push(t[g.a],t[g.b],t[g.c])}for(let t=0;t<u;t++){const r=d[t].vertexNormals[e];f[t].data.push(r.a,r.b,r.c)}p&&this.skinIndices.push(l[g.a],l[g.b],l[g.c]),b&&this.skinWeights.push(h[g.a],h[g.b],h[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});let _t=1;const Mt=new W,St=new de,Tt=new B,Et=new Se,At=new Se,Ct=new B;function Lt(){Object.defineProperty(this,"id",{value:_t+=2}),this.uuid=S.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}y.BufferGeometry=Lt,Lt.prototype=Object.assign(Object.create(_.prototype),{constructor:Lt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(wt(e)>65535?mt:bt)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,r){this.groups.push({start:e,count:t,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(void 0!==r){const t=(new E).getNormalMatrix(e);r.applyNormalMatrix(t),r.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Mt.makeRotationX(e),this.applyMatrix4(Mt),this},rotateY:function(e){return Mt.makeRotationY(e),this.applyMatrix4(Mt),this},rotateZ:function(e){return Mt.makeRotationZ(e),this.applyMatrix4(Mt),this},translate:function(e,t,r){return Mt.makeTranslation(e,t,r),this.applyMatrix4(Mt),this},scale:function(e,t,r){return Mt.makeScale(e,t,r),this.applyMatrix4(Mt),this},lookAt:function(e){return St.lookAt(e),St.updateMatrix(),this.applyMatrix4(St.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Tt).negate(),this.translate(Tt.x,Tt.y,Tt.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const e=new vt(3*t.vertices.length,3),r=new vt(3*t.colors.length,3);if(this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const e=new vt(t.lineDistances.length,1);this.setAttribute("lineDistance",e.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new vt(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let e=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(e=void 0,t.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(t);e.verticesNeedUpdate=t.verticesNeedUpdate,e.normalsNeedUpdate=t.normalsNeedUpdate,e.colorsNeedUpdate=t.colorsNeedUpdate,e.uvsNeedUpdate=t.uvsNeedUpdate,e.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=e}if(!0===t.verticesNeedUpdate){const e=this.attributes.position;void 0!==e&&(e.copyVector3sArray(t.vertices),e.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){const e=this.attributes.normal;void 0!==e&&(e.copyVector3sArray(t.normals),e.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){const e=this.attributes.color;void 0!==e&&(e.copyColorsArray(t.colors),e.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const e=this.attributes.uv;void 0!==e&&(e.copyVector2sArray(t.uvs),e.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const e=this.attributes.lineDistance;void 0!==e&&(e.copyArray(t.lineDistances),e.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new xt).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new ut(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const t=new Float32Array(3*e.normals.length);this.setAttribute("normal",new ut(t,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const t=new Float32Array(3*e.colors.length);this.setAttribute("color",new ut(t,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const t=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new ut(t,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const t=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new ut(t,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const t in e.morphTargets){const r=[],n=e.morphTargets[t];for(let e=0,t=n.length;e<t;e++){const t=n[e],a=new vt(3*t.data.length,3);a.name=t.name,r.push(a.copyVector3sArray(t.data))}this.morphAttributes[t]=r}if(e.skinIndices.length>0){const t=new vt(4*e.skinIndices.length,4);this.setAttribute("skinIndex",t.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const t=new vt(4*e.skinWeights.length,4);this.setAttribute("skinWeight",t.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Se);const e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const r=t[e];Et.setFromBufferAttribute(r),this.morphTargetsRelative?(Ct.addVectors(this.boundingBox.min,Et.min),this.boundingBox.expandByPoint(Ct),Ct.addVectors(this.boundingBox.max,Et.max),this.boundingBox.expandByPoint(Ct)):(this.boundingBox.expandByPoint(Et.min),this.boundingBox.expandByPoint(Et.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ae);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const r=this.boundingSphere.center;if(Et.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const r=t[e];At.setFromBufferAttribute(r),this.morphTargetsRelative?(Ct.addVectors(Et.min,At.min),Et.expandByPoint(Ct),Ct.addVectors(Et.max,At.max),Et.expandByPoint(Ct)):(Et.expandByPoint(At.min),Et.expandByPoint(At.max))}Et.getCenter(r);let n=0;for(let t=0,a=e.count;t<a;t++)Ct.fromBufferAttribute(e,t),n=Math.max(n,r.distanceToSquared(Ct));if(t)for(let a=0,i=t.length;a<i;a++){const i=t[a],o=this.morphTargetsRelative;for(let t=0,a=i.count;t<a;t++)Ct.fromBufferAttribute(i,t),o&&(Tt.fromBufferAttribute(e,t),Ct.add(Tt)),n=Math.max(n,r.distanceToSquared(Ct))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let r=this.getAttribute("normal");if(void 0===r)r=new ut(new Float32Array(3*t.count),3),this.setAttribute("normal",r);else for(let e=0,t=r.count;e<t;e++)r.setXYZ(e,0,0,0);const n=new B,a=new B,i=new B,o=new B,s=new B,c=new B,d=new B,u=new B;if(e)for(let f=0,l=e.count;f<l;f+=3){const l=e.getX(f+0),h=e.getX(f+1),p=e.getX(f+2);n.fromBufferAttribute(t,l),a.fromBufferAttribute(t,h),i.fromBufferAttribute(t,p),d.subVectors(i,a),u.subVectors(n,a),d.cross(u),o.fromBufferAttribute(r,l),s.fromBufferAttribute(r,h),c.fromBufferAttribute(r,p),o.add(d),s.add(d),c.add(d),r.setXYZ(l,o.x,o.y,o.z),r.setXYZ(h,s.x,s.y,s.z),r.setXYZ(p,c.x,c.y,c.z)}else for(let e=0,o=t.count;e<o;e+=3)n.fromBufferAttribute(t,e+0),a.fromBufferAttribute(t,e+1),i.fromBufferAttribute(t,e+2),d.subVectors(i,a),u.subVectors(n,a),d.cross(u),r.setXYZ(e+0,d.x,d.y,d.z),r.setXYZ(e+1,d.x,d.y,d.z),r.setXYZ(e+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const n in r){if(void 0===e.attributes[n])continue;const a=r[n].array,i=e.attributes[n],o=i.array,s=i.itemSize*t,c=Math.min(o.length,a.length-s);for(let e=0,t=s;e<c;e++,t++)a[t]=o[e]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ct.fromBufferAttribute(e,t),Ct.normalize(),e.setXYZ(t,Ct.x,Ct.y,Ct.z)},toNonIndexed:function(){function e(e,t){const r=e.array,n=e.itemSize,a=e.normalized,i=new r.constructor(t.length*n);let o=0,s=0;for(let e=0,a=t.length;e<a;e++){o=t[e]*n;for(let e=0;e<n;e++)i[s++]=r[o++]}return new ut(i,n,a)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new Lt,r=this.index.array,n=this.attributes;for(const a in n){const i=e(n[a],r);t.setAttribute(a,i)}const a=this.morphAttributes;for(const n in a){const i=[],o=a[n];for(let t=0,n=o.length;t<n;t++){const n=e(o[t],r);i.push(n)}t.morphAttributes[n]=i}t.morphTargetsRelative=this.morphTargetsRelative;const i=this.groups;for(let e=0,r=i.length;e<r;e++){const r=i[e];t.addGroup(r.start,r.count,r.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const r in t)void 0!==t[r]&&(e[r]=t[r]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const t in r){const n=r[t],a=n.toJSON(e.data);""!==n.name&&(a.name=n.name),e.data.attributes[t]=a}const n={};let a=!1;for(const t in this.morphAttributes){const r=this.morphAttributes[t],i=[];for(let t=0,n=r.length;t<n;t++){const n=r[t],a=n.toJSON(e.data);""!==n.name&&(a.name=n.name),i.push(a)}i.length>0&&(n[t]=i,a=!0)}a&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const i=this.groups;i.length>0&&(e.data.groups=JSON.parse(JSON.stringify(i)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e},clone:function(){return(new Lt).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;null!==r&&this.setIndex(r.clone(t));const n=e.attributes;for(const e in n){const r=n[e];this.setAttribute(e,r.clone(t))}const a=e.morphAttributes;for(const e in a){const r=[],n=a[e];for(let e=0,a=n.length;e<a;e++)r.push(n[e].clone(t));this.morphAttributes[e]=r}this.morphTargetsRelative=e.morphTargetsRelative;const i=e.groups;for(let e=0,t=i.length;e<t;e++){const t=i[e];this.addGroup(t.start,t.count,t.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Pt=new W,Rt=new Ie,kt=new Ae,Ot=new B,Dt=new B,It=new B,Nt=new B,Bt=new B,zt=new B,jt=new B,Ft=new B,Ut=new B,Gt=new T,Ht=new T,Vt=new T,Wt=new B,qt=new B;function Xt(e,t){de.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Lt,this.material=void 0!==t?t:new st,this.updateMorphTargets()}function Yt(e,t,r,n,a,i,o,s){let c;if(c=1===t.side?n.intersectTriangle(o,i,a,!0,s):n.intersectTriangle(a,i,o,2!==t.side,s),null===c)return null;qt.copy(s),qt.applyMatrix4(e.matrixWorld);const d=r.ray.origin.distanceTo(qt);return d<r.near||d>r.far?null:{distance:d,point:qt.clone(),object:e}}function Zt(e,t,r,n,a,i,o,s,c,d,u,f){Ot.fromBufferAttribute(a,d),Dt.fromBufferAttribute(a,u),It.fromBufferAttribute(a,f);const l=e.morphTargetInfluences;if(t.morphTargets&&i&&l){jt.set(0,0,0),Ft.set(0,0,0),Ut.set(0,0,0);for(let e=0,t=i.length;e<t;e++){const t=l[e],r=i[e];0!==t&&(Nt.fromBufferAttribute(r,d),Bt.fromBufferAttribute(r,u),zt.fromBufferAttribute(r,f),o?(jt.addScaledVector(Nt,t),Ft.addScaledVector(Bt,t),Ut.addScaledVector(zt,t)):(jt.addScaledVector(Nt.sub(Ot),t),Ft.addScaledVector(Bt.sub(Dt),t),Ut.addScaledVector(zt.sub(It),t)))}Ot.add(jt),Dt.add(Ft),It.add(Ut)}e.isSkinnedMesh&&(e.boneTransform(d,Ot),e.boneTransform(u,Dt),e.boneTransform(f,It));const h=Yt(e,t,r,n,Ot,Dt,It,Wt);if(h){s&&(Gt.fromBufferAttribute(s,d),Ht.fromBufferAttribute(s,u),Vt.fromBufferAttribute(s,f),h.uv=Je.getUV(Wt,Ot,Dt,It,Gt,Ht,Vt,new T)),c&&(Gt.fromBufferAttribute(c,d),Ht.fromBufferAttribute(c,u),Vt.fromBufferAttribute(c,f),h.uv2=Je.getUV(Wt,Ot,Dt,It,Gt,Ht,Vt,new T));const e=new at(d,u,f);Je.getNormal(Ot,Dt,It,e.normal),h.face=e}return h}y.Mesh=Xt,Xt.prototype=Object.assign(Object.create(de.prototype),{constructor:Xt,isMesh:!0,copy:function(e){return de.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const r=this.geometry,n=this.material,a=this.matrixWorld;if(void 0===n)return;if(null===r.boundingSphere&&r.computeBoundingSphere(),kt.copy(r.boundingSphere),kt.applyMatrix4(a),!1===e.ray.intersectsSphere(kt))return;if(Pt.getInverse(a),Rt.copy(e.ray).applyMatrix4(Pt),null!==r.boundingBox&&!1===Rt.intersectsBox(r.boundingBox))return;let i;if(r.isBufferGeometry){const a=r.index,o=r.attributes.position,s=r.morphAttributes.position,c=r.morphTargetsRelative,d=r.attributes.uv,u=r.attributes.uv2,f=r.groups,l=r.drawRange;if(null!==a)if(Array.isArray(n))for(let r=0,h=f.length;r<h;r++){const h=f[r],p=n[h.materialIndex];for(let r=Math.max(h.start,l.start),n=Math.min(h.start+h.count,l.start+l.count);r<n;r+=3){const n=a.getX(r),f=a.getX(r+1),l=a.getX(r+2);i=Zt(this,p,e,Rt,o,s,c,d,u,n,f,l),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=h.materialIndex,t.push(i))}}else{for(let r=Math.max(0,l.start),f=Math.min(a.count,l.start+l.count);r<f;r+=3){const f=a.getX(r),l=a.getX(r+1),h=a.getX(r+2);i=Zt(this,n,e,Rt,o,s,c,d,u,f,l,h),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}else if(void 0!==o)if(Array.isArray(n))for(let r=0,a=f.length;r<a;r++){const a=f[r],h=n[a.materialIndex];for(let r=Math.max(a.start,l.start),n=Math.min(a.start+a.count,l.start+l.count);r<n;r+=3){i=Zt(this,h,e,Rt,o,s,c,d,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),i.face.materialIndex=a.materialIndex,t.push(i))}}else{for(let r=Math.max(0,l.start),a=Math.min(o.count,l.start+l.count);r<a;r+=3){i=Zt(this,n,e,Rt,o,s,c,d,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),t.push(i))}}}else if(r.isGeometry){const a=Array.isArray(n),o=r.vertices,s=r.faces;let c;const d=r.faceVertexUvs[0];d.length>0&&(c=d);for(let r=0,d=s.length;r<d;r++){const d=s[r],u=a?n[d.materialIndex]:n;if(void 0===u)continue;const f=o[d.a],l=o[d.b],h=o[d.c];if(i=Yt(this,u,e,Rt,f,l,h,Wt),i){if(c&&c[r]){const e=c[r];Gt.copy(e[0]),Ht.copy(e[1]),Vt.copy(e[2]),i.uv=Je.getUV(Wt,f,l,h,Gt,Ht,Vt,new T)}i.face=d,i.faceIndex=r,t.push(i)}}}}});let Jt=0;const Qt=new W,Kt=new de,$t=new B;function er(){Object.defineProperty(this,"id",{value:Jt+=2}),this.uuid=S.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}y.Geometry=er,er.prototype=Object.assign(Object.create(_.prototype),{constructor:er,isGeometry:!0,applyMatrix4:function(e){const t=(new E).getNormalMatrix(e);for(let t=0,r=this.vertices.length;t<r;t++){this.vertices[t].applyMatrix4(e)}for(let e=0,r=this.faces.length;e<r;e++){const r=this.faces[e];r.normal.applyMatrix3(t).normalize();for(let e=0,n=r.vertexNormals.length;e<n;e++)r.vertexNormals[e].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Qt.makeRotationX(e),this.applyMatrix4(Qt),this},rotateY:function(e){return Qt.makeRotationY(e),this.applyMatrix4(Qt),this},rotateZ:function(e){return Qt.makeRotationZ(e),this.applyMatrix4(Qt),this},translate:function(e,t,r){return Qt.makeTranslation(e,t,r),this.applyMatrix4(Qt),this},scale:function(e,t,r){return Qt.makeScale(e,t,r),this.applyMatrix4(Qt),this},lookAt:function(e){return Kt.lookAt(e),Kt.updateMatrix(),this.applyMatrix4(Kt.matrix),this},fromBufferGeometry:function(e){const t=this,r=null!==e.index?e.index:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const a=n.position,i=n.normal,o=n.color,s=n.uv,c=n.uv2;void 0!==c&&(this.faceVertexUvs[1]=[]);for(let e=0;e<a.count;e++)t.vertices.push((new B).fromBufferAttribute(a,e)),void 0!==o&&t.colors.push((new et).fromBufferAttribute(o,e));function d(e,r,n,a){const d=void 0===o?[]:[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()],u=new at(e,r,n,void 0===i?[]:[(new B).fromBufferAttribute(i,e),(new B).fromBufferAttribute(i,r),(new B).fromBufferAttribute(i,n)],d,a);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new T).fromBufferAttribute(s,e),(new T).fromBufferAttribute(s,r),(new T).fromBufferAttribute(s,n)]),void 0!==c&&t.faceVertexUvs[1].push([(new T).fromBufferAttribute(c,e),(new T).fromBufferAttribute(c,r),(new T).fromBufferAttribute(c,n)])}const u=e.groups;if(u.length>0)for(let e=0;e<u.length;e++){const t=u[e],n=t.start;for(let e=n,a=n+t.count;e<a;e+=3)void 0!==r?d(r.getX(e),r.getX(e+1),r.getX(e+2),t.materialIndex):d(e,e+1,e+2,t.materialIndex)}else if(void 0!==r)for(let e=0;e<r.count;e+=3)d(r.getX(e),r.getX(e+1),r.getX(e+2));else for(let e=0;e<a.count;e+=3)d(e,e+1,e+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter($t).negate(),this.translate($t.x,$t.y,$t.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,r=0===t?1:1/t,n=new W;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){const e=new B,t=new B;for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r],a=this.vertices[n.a],i=this.vertices[n.b],o=this.vertices[n.c];e.subVectors(o,i),t.subVectors(a,i),e.cross(t),e.normalize(),n.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);const t=new Array(this.vertices.length);for(let e=0,r=this.vertices.length;e<r;e++)t[e]=new B;if(e){const e=new B,r=new B;for(let n=0,a=this.faces.length;n<a;n++){const a=this.faces[n],i=this.vertices[a.a],o=this.vertices[a.b],s=this.vertices[a.c];e.subVectors(s,o),r.subVectors(i,o),e.cross(r),t[a.a].add(e),t[a.b].add(e),t[a.c].add(e)}}else{this.computeFaceNormals();for(let e=0,r=this.faces.length;e<r;e++){const r=this.faces[e];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let e=0,r=this.vertices.length;e<r;e++)t[e].normalize();for(let e=0,r=this.faces.length;e<r;e++){const r=this.faces[e],n=r.vertexNormals;3===n.length?(n[0].copy(t[r.a]),n[1].copy(t[r.b]),n[2].copy(t[r.c])):(n[0]=t[r.a].clone(),n[1]=t[r.b].clone(),n[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],r=t.vertexNormals;3===r.length?(r[0].copy(t.normal),r[1].copy(t.normal),r[2].copy(t.normal)):(r[0]=t.normal.clone(),r[1]=t.normal.clone(),r[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.__originalFaceNormal?t.__originalFaceNormal.copy(t.normal):t.__originalFaceNormal=t.normal.clone(),t.__originalVertexNormals||(t.__originalVertexNormals=[]);for(let e=0,r=t.vertexNormals.length;e<r;e++)t.__originalVertexNormals[e]?t.__originalVertexNormals[e].copy(t.vertexNormals[e]):t.__originalVertexNormals[e]=t.vertexNormals[e].clone()}const e=new er;e.faces=this.faces;for(let t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const e=this.morphNormals[t].faceNormals,r=this.morphNormals[t].vertexNormals;for(let t=0,n=this.faces.length;t<n;t++){const t=new B,n={a:new B,b:new B,c:new B};e.push(t),r.push(n)}}const r=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],n=r.faceNormals[e],a=r.vertexNormals[e];n.copy(t.normal),a.a.copy(t.vertexNormals[0]),a.b.copy(t.vertexNormals[1]),a.c.copy(t.vertexNormals[2])}}for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.normal=t.__originalFaceNormal,t.vertexNormals=t.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Se),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ae),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let n,a=this.vertices.length,i=this.vertices,o=e.vertices,s=this.faces,c=e.faces,d=this.colors,u=e.colors;void 0===r&&(r=0),void 0!==t&&(n=(new E).getNormalMatrix(t));for(let e=0,r=o.length;e<r;e++){const r=o[e].clone();void 0!==t&&r.applyMatrix4(t),i.push(r)}for(let e=0,t=u.length;e<t;e++)d.push(u[e].clone());for(let e=0,t=c.length;e<t;e++){let t,i,o,d=c[e],u=d.vertexNormals,f=d.vertexColors;t=new at(d.a+a,d.b+a,d.c+a),t.normal.copy(d.normal),void 0!==n&&t.normal.applyMatrix3(n).normalize();for(let e=0,r=u.length;e<r;e++)i=u[e].clone(),void 0!==n&&i.applyMatrix3(n).normalize(),t.vertexNormals.push(i);t.color.copy(d.color);for(let e=0,r=f.length;e<r;e++)o=f[e],t.vertexColors.push(o.clone());t.materialIndex=d.materialIndex+r,s.push(t)}for(let t=0,r=e.faceVertexUvs.length;t<r;t++){const r=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,n=r.length;e<n;e++){const n=r[e],a=[];for(let e=0,t=n.length;e<t;e++)a.push(n[e].clone());this.faceVertexUvs[t].push(a)}}},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){const e={},t=[],r=[],n=Math.pow(10,4);for(let a=0,i=this.vertices.length;a<i;a++){const i=this.vertices[a],o=Math.round(i.x*n)+"_"+Math.round(i.y*n)+"_"+Math.round(i.z*n);void 0===e[o]?(e[o]=a,t.push(this.vertices[a]),r[a]=t.length-1):r[a]=r[e[o]]}const a=[];for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.a=r[t.a],t.b=r[t.b],t.c=r[t.c];const n=[t.a,t.b,t.c];for(let t=0;t<3;t++)if(n[t]===n[(t+1)%3]){a.push(e);break}}for(let e=a.length-1;e>=0;e--){const t=a[e];this.faces.splice(t,1);for(let e=0,r=this.faceVertexUvs.length;e<r;e++)this.faceVertexUvs[e].splice(t,1)}const i=this.vertices.length-t.length;return this.vertices=t,i},setFromPoints:function(e){this.vertices=[];for(let t=0,r=e.length;t<r;t++){const r=e[t];this.vertices.push(new B(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let r=0;r<t;r++)e[r]._id=r;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));const r=this.faceVertexUvs[0],n=this.faceVertexUvs[1];let a,i;r&&r.length===t&&(a=[]),n&&n.length===t&&(i=[]);for(let o=0;o<t;o++){const t=e[o]._id;a&&a.push(r[t]),i&&i.push(n[t])}a&&(this.faceVertexUvs[0]=a),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){const t=this.parameters;for(const r in t)void 0!==t[r]&&(e[r]=t[r]);return e}const t=[];for(let e=0;e<this.vertices.length;e++){const r=this.vertices[e];t.push(r.x,r.y,r.z)}const r=[],n=[],a={},i=[],o={},s=[],c={};for(let e=0;e<this.faces.length;e++){const t=this.faces[e],n=!0,a=!1,i=void 0!==this.faceVertexUvs[0][e],o=t.normal.length()>0,s=t.vertexNormals.length>0,c=1!==t.color.r||1!==t.color.g||1!==t.color.b,h=t.vertexColors.length>0;let p=0;if(p=d(p,0,0),p=d(p,1,n),p=d(p,2,a),p=d(p,3,i),p=d(p,4,o),p=d(p,5,s),p=d(p,6,c),p=d(p,7,h),r.push(p),r.push(t.a,t.b,t.c),r.push(t.materialIndex),i){const t=this.faceVertexUvs[0][e];r.push(l(t[0]),l(t[1]),l(t[2]))}if(o&&r.push(u(t.normal)),s){const e=t.vertexNormals;r.push(u(e[0]),u(e[1]),u(e[2]))}if(c&&r.push(f(t.color)),h){const e=t.vertexColors;r.push(f(e[0]),f(e[1]),f(e[2]))}}function d(e,t,r){return r?e|1<<t:e&~(1<<t)}function u(e){const t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==a[t]||(a[t]=n.length/3,n.push(e.x,e.y,e.z)),a[t]}function f(e){const t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==o[t]||(o[t]=i.length,i.push(e.getHex())),o[t]}function l(e){const t=e.x.toString()+e.y.toString();return void 0!==c[t]||(c[t]=s.length/2,s.push(e.x,e.y)),c[t]}return e.data={},e.data.vertices=t,e.data.normals=n,i.length>0&&(e.data.colors=i),s.length>0&&(e.data.uvs=[s]),e.data.faces=r,e},clone:function(){return(new er).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let e=0,r=t.length;e<r;e++)this.vertices.push(t[e].clone());const r=e.colors;for(let e=0,t=r.length;e<t;e++)this.colors.push(r[e].clone());const n=e.faces;for(let e=0,t=n.length;e<t;e++)this.faces.push(n[e].clone());for(let t=0,r=e.faceVertexUvs.length;t<r;t++){const r=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,n=r.length;e<n;e++){const n=r[e],a=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];a.push(t.clone())}this.faceVertexUvs[t].push(a)}}const a=e.morphTargets;for(let e=0,t=a.length;e<t;e++){const t={};if(t.name=a[e].name,void 0!==a[e].vertices){t.vertices=[];for(let r=0,n=a[e].vertices.length;r<n;r++)t.vertices.push(a[e].vertices[r].clone())}if(void 0!==a[e].normals){t.normals=[];for(let r=0,n=a[e].normals.length;r<n;r++)t.normals.push(a[e].normals[r].clone())}this.morphTargets.push(t)}const i=e.morphNormals;for(let e=0,t=i.length;e<t;e++){const t={};if(void 0!==i[e].vertexNormals){t.vertexNormals=[];for(let r=0,n=i[e].vertexNormals.length;r<n;r++){const n=i[e].vertexNormals[r],a={};a.a=n.a.clone(),a.b=n.b.clone(),a.c=n.c.clone(),t.vertexNormals.push(a)}}if(void 0!==i[e].faceNormals){t.faceNormals=[];for(let r=0,n=i[e].faceNormals.length;r<n;r++)t.faceNormals.push(i[e].faceNormals[r].clone())}this.morphNormals.push(t)}const o=e.skinWeights;for(let e=0,t=o.length;e<t;e++)this.skinWeights.push(o[e].clone());const s=e.skinIndices;for(let e=0,t=s.length;e<t;e++)this.skinIndices.push(s[e].clone());const c=e.lineDistances;for(let e=0,t=c.length;e<t;e++)this.lineDistances.push(c[e]);const d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class tr extends er{constructor(e,t,r,n,a,i){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:a,depthSegments:i},this.fromBufferGeometry(new rr(e,t,r,n,a,i)),this.mergeVertices()}}y.CubeGeometry=tr,y.BoxGeometry=tr;class rr extends Lt{constructor(e,t,r,n,a,i){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:a,depthSegments:i};const o=this;e=e||1,t=t||1,r=r||1,n=Math.floor(n)||1,a=Math.floor(a)||1,i=Math.floor(i)||1;const s=[],c=[],d=[],u=[];let f=0,l=0;function h(e,t,r,n,a,i,h,p,b,g,m){const v=i/b,y=h/g,x=i/2,w=h/2,_=p/2,M=b+1,S=g+1;let T=0,E=0;const A=new B;for(let i=0;i<S;i++){const o=i*y-w;for(let s=0;s<M;s++){const f=s*v-x;A[e]=f*n,A[t]=o*a,A[r]=_,c.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[r]=p>0?1:-1,d.push(A.x,A.y,A.z),u.push(s/b),u.push(1-i/g),T+=1}}for(let e=0;e<g;e++)for(let t=0;t<b;t++){const r=f+t+M*e,n=f+t+M*(e+1),a=f+(t+1)+M*(e+1),i=f+(t+1)+M*e;s.push(r,n,i),s.push(n,a,i),E+=6}o.addGroup(l,E,m),l+=E,f+=T}h("z","y","x",-1,-1,r,t,e,i,a,0),h("z","y","x",1,-1,r,t,-e,i,a,1),h("x","z","y",1,1,e,r,t,n,i,2),h("x","z","y",1,-1,e,r,-t,n,i,3),h("x","y","z",1,-1,e,t,r,n,a,4),h("x","y","z",-1,-1,e,t,-r,n,a,5),this.setIndex(s),this.setAttribute("position",new vt(c,3)),this.setAttribute("normal",new vt(d,3)),this.setAttribute("uv",new vt(u,2))}}function nr(e){const t={};for(const r in e){t[r]={};for(const n in e[r]){const a=e[r][n];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture)?t[r][n]=a.clone():Array.isArray(a)?t[r][n]=a.slice():t[r][n]=a}}return t}function ar(e){const t={};for(let r=0;r<e.length;r++){const n=nr(e[r]);for(const e in n)t[e]=n[e]}return t}y.BoxBufferGeometry=rr;const ir={clone:nr,merge:ar};y.UniformsUtils=ir;function or(e){ot.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function sr(){de.call(this),this.type="Camera",this.matrixWorldInverse=new W,this.projectionMatrix=new W,this.projectionMatrixInverse=new W}function cr(e,t,r,n){sr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}y.ShaderMaterial=or,or.prototype=Object.create(ot.prototype),or.prototype.constructor=or,or.prototype.isShaderMaterial=!0,or.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=nr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this},or.prototype.toJSON=function(e){const t=ot.prototype.toJSON.call(this,e);t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const e in this.extensions)!0===this.extensions[e]&&(r[e]=!0);return Object.keys(r).length>0&&(t.extensions=r),t},y.Camera=sr,sr.prototype=Object.assign(Object.create(de.prototype),{constructor:sr,isCamera:!0,copy:function(e,t){return de.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new B),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){de.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){de.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),y.PerspectiveCamera=cr,cr.prototype=Object.assign(Object.create(sr.prototype),{constructor:cr,isPerspectiveCamera:!0,copy:function(e,t){return sr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=2*S.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(.5*S.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*S.RAD2DEG*Math.atan(Math.tan(.5*S.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,r,n,a,i){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(.5*S.DEG2RAD*this.fov)/this.zoom,r=2*t,n=this.aspect*r,a=-.5*n,i=this.view;if(null!==this.view&&this.view.enabled){const e=i.fullWidth,o=i.fullHeight;a+=i.offsetX*n/e,t-=i.offsetY*r/o,n*=i.width/e,r*=i.height/o}const o=this.filmOffset;0!==o&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+n,t,t-r,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=de.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function dr(e,t,r){if(de.call(this),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=r;const n=new cr(90,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new B(1,0,0)),this.add(n);const a=new cr(90,1,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new B(-1,0,0)),this.add(a);const i=new cr(90,1,e,t);i.layers=this.layers,i.up.set(0,0,1),i.lookAt(new B(0,1,0)),this.add(i);const o=new cr(90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new B(0,-1,0)),this.add(o);const s=new cr(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new B(0,0,1)),this.add(s);const c=new cr(90,1,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new B(0,0,-1)),this.add(c),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();const d=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,i),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,s),r.texture.generateMipmaps=f,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=d},this.clear=function(e,t,n,a){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(r,i),e.clear(t,n,a);e.setRenderTarget(i)}}function ur(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),k.call(this,e,e,t)}function fr(e,t,r,n,a,i,o,s,c,d,u,f){P.call(this,null,i,o,s,c,d,n,a,u,f),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==d?d:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}y.CubeCamera=dr,dr.prototype=Object.create(de.prototype),dr.prototype.constructor=dr,y.WebGLCubeRenderTarget=ur,ur.prototype=Object.create(k.prototype),ur.prototype.constructor=ur,ur.prototype.isWebGLCubeRenderTarget=!0,ur.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const r=new ue,n={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV = equirectUv( direction );","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},a=new or({name:"CubemapFromEquirect",uniforms:nr(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});a.uniforms.tEquirect.value=t;const i=new Xt(new rr(5,5,5),a);r.add(i);return new dr(1,10,this).update(e,r),i.geometry.dispose(),i.material.dispose(),this},y.DataTexture=fr,fr.prototype=Object.create(P.prototype),fr.prototype.constructor=fr,fr.prototype.isDataTexture=!0;const lr=new Ae,hr=new B;function pr(e,t,r,n,a,i){this.planes=[void 0!==e?e:new je,void 0!==t?t:new je,void 0!==r?r:new je,void 0!==n?n:new je,void 0!==a?a:new je,void 0!==i?i:new je]}y.Frustum=pr,Object.assign(pr.prototype,{set:function(e,t,r,n,a,i){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(n),o[4].copy(a),o[5].copy(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this},setFromProjectionMatrix:function(e){const t=this.planes,r=e.elements,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],c=r[5],d=r[6],u=r[7],f=r[8],l=r[9],h=r[10],p=r[11],b=r[12],g=r[13],m=r[14],v=r[15];return t[0].setComponents(o-n,u-s,p-f,v-b).normalize(),t[1].setComponents(o+n,u+s,p+f,v+b).normalize(),t[2].setComponents(o+a,u+c,p+l,v+g).normalize(),t[3].setComponents(o-a,u-c,p-l,v-g).normalize(),t[4].setComponents(o-i,u-d,p-h,v-m).normalize(),t[5].setComponents(o+i,u+d,p+h,v+m).normalize(),this},intersectsObject:function(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),lr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(lr)},intersectsSprite:function(e){return lr.center.set(0,0,0),lr.radius=.7071067811865476,lr.applyMatrix4(e.matrixWorld),this.intersectsSphere(lr)},intersectsSphere:function(e){const t=this.planes,r=e.center,n=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(r)<n)return!1}return!0},intersectsBox:function(e){const t=this.planes;for(let r=0;r<6;r++){const n=t[r];if(hr.x=n.normal.x>0?e.max.x:e.min.x,hr.y=n.normal.y>0?e.max.y:e.min.y,hr.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(hr)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}});const br={common:{diffuse:{value:new et(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new E},uv2Transform:{value:new E},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new T(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new et(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new E}},sprite:{diffuse:{value:new et(15658734)},opacity:{value:1},center:{value:new T(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new E}}};function gr(){let e=null,t=!1,r=null,n=null;function a(t,i){r(t,i),n=e.requestAnimationFrame(a)}return{start:function(){!0!==t&&null!==r&&(n=e.requestAnimationFrame(a),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){r=e},setContext:function(t){e=t}}}function mr(e,t){const r=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const r=n.get(t);r&&(e.deleteBuffer(r.buffer),n.delete(t))},update:function(t,a){t.isInterleavedBufferAttribute&&(t=t.data);const i=n.get(t);void 0===i?n.set(t,function(t,r){const n=t.array,a=t.usage,i=e.createBuffer();e.bindBuffer(r,i),e.bufferData(r,n,a),t.onUploadCallback();let o=5126;return n instanceof Float32Array?o=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?o=5123:n instanceof Int16Array?o=5122:n instanceof Uint32Array?o=5125:n instanceof Int32Array?o=5124:n instanceof Int8Array?o=5120:n instanceof Uint8Array&&(o=5121),{buffer:i,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}(t,a)):i.version<t.version&&(!function(t,n,a){const i=n.array,o=n.updateRange;e.bindBuffer(a,t),-1===o.count?e.bufferSubData(a,0,i):(r?e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count):e.bufferSubData(a,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,t,a),i.version=t.version)}}}function vr(e,t,r,n){er.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new yr(e,t,r,n)),this.mergeVertices()}function yr(e,t,r,n){Lt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};const a=(e=e||1)/2,i=(t=t||1)/2,o=Math.floor(r)||1,s=Math.floor(n)||1,c=o+1,d=s+1,u=e/o,f=t/s,l=[],h=[],p=[],b=[];for(let e=0;e<d;e++){const t=e*f-i;for(let r=0;r<c;r++){const n=r*u-a;h.push(n,-t,0),p.push(0,0,1),b.push(r/o),b.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){const r=t+c*e,n=t+c*(e+1),a=t+1+c*(e+1),i=t+1+c*e;l.push(r,n,i),l.push(n,a,i)}this.setIndex(l),this.setAttribute("position",new vt(h,3)),this.setAttribute("normal",new vt(p,3)),this.setAttribute("uv",new vt(b,2))}y.UniformsLib=br,y.PlaneGeometry=vr,vr.prototype=Object.create(er.prototype),vr.prototype.constructor=vr,y.PlaneBufferGeometry=yr,yr.prototype=Object.create(Lt.prototype),yr.prototype.constructor=yr;const xr={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};y.ShaderChunk=xr;const wr={basic:{uniforms:ar([br.common,br.specularmap,br.envmap,br.aomap,br.lightmap,br.fog]),vertexShader:xr.meshbasic_vert,fragmentShader:xr.meshbasic_frag},lambert:{uniforms:ar([br.common,br.specularmap,br.envmap,br.aomap,br.lightmap,br.emissivemap,br.fog,br.lights,{emissive:{value:new et(0)}}]),vertexShader:xr.meshlambert_vert,fragmentShader:xr.meshlambert_frag},phong:{uniforms:ar([br.common,br.specularmap,br.envmap,br.aomap,br.lightmap,br.emissivemap,br.bumpmap,br.normalmap,br.displacementmap,br.fog,br.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:xr.meshphong_vert,fragmentShader:xr.meshphong_frag},standard:{uniforms:ar([br.common,br.envmap,br.aomap,br.lightmap,br.emissivemap,br.bumpmap,br.normalmap,br.displacementmap,br.roughnessmap,br.metalnessmap,br.fog,br.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xr.meshphysical_vert,fragmentShader:xr.meshphysical_frag},toon:{uniforms:ar([br.common,br.aomap,br.lightmap,br.emissivemap,br.bumpmap,br.normalmap,br.displacementmap,br.gradientmap,br.fog,br.lights,{emissive:{value:new et(0)}}]),vertexShader:xr.meshtoon_vert,fragmentShader:xr.meshtoon_frag},matcap:{uniforms:ar([br.common,br.bumpmap,br.normalmap,br.displacementmap,br.fog,{matcap:{value:null}}]),vertexShader:xr.meshmatcap_vert,fragmentShader:xr.meshmatcap_frag},points:{uniforms:ar([br.points,br.fog]),vertexShader:xr.points_vert,fragmentShader:xr.points_frag},dashed:{uniforms:ar([br.common,br.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xr.linedashed_vert,fragmentShader:xr.linedashed_frag},depth:{uniforms:ar([br.common,br.displacementmap]),vertexShader:xr.depth_vert,fragmentShader:xr.depth_frag},normal:{uniforms:ar([br.common,br.bumpmap,br.normalmap,br.displacementmap,{opacity:{value:1}}]),vertexShader:xr.normal_vert,fragmentShader:xr.normal_frag},sprite:{uniforms:ar([br.sprite,br.fog]),vertexShader:xr.sprite_vert,fragmentShader:xr.sprite_frag},background:{uniforms:{uvTransform:{value:new E},t2D:{value:null}},vertexShader:xr.background_vert,fragmentShader:xr.background_frag},cube:{uniforms:ar([br.envmap,{opacity:{value:1}}]),vertexShader:xr.cube_vert,fragmentShader:xr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xr.equirect_vert,fragmentShader:xr.equirect_frag},distanceRGBA:{uniforms:ar([br.common,br.displacementmap,{referencePosition:{value:new B},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xr.distanceRGBA_vert,fragmentShader:xr.distanceRGBA_frag},shadow:{uniforms:ar([br.lights,br.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:xr.shadow_vert,fragmentShader:xr.shadow_frag}};function _r(e,t,r,n){const a=new et(0);let i,o,s=0,c=null,d=0,u=null;function f(e,r){t.buffers.color.setClear(e.r,e.g,e.b,r,n)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),s=void 0!==t?t:1,f(a,s)},getClearAlpha:function(){return s},setClearAlpha:function(e){s=e,f(a,s)},render:function(t,n,l,h){let p=!0===n.isScene?n.background:null;const b=e.xr,g=b.getSession&&b.getSession();if(g&&"additive"===g.environmentBlendMode&&(p=null),null===p?f(a,s):p&&p.isColor&&(f(p,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||306===p.mapping)){void 0===o&&(o=new Xt(new rr(1,1,1),new or({name:"BackgroundCubeMaterial",uniforms:nr(wr.cube.uniforms),vertexShader:wr.cube.vertexShader,fragmentShader:wr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o));const n=p.isWebGLCubeRenderTarget?p.texture:p;o.material.uniforms.envMap.value=n,o.material.uniforms.flipEnvMap.value=n.isCubeTexture?-1:1,c===p&&d===n.version&&u===e.toneMapping||(o.material.needsUpdate=!0,c=p,d=n.version,u=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&(i=new Xt(new yr(2,2),new or({name:"BackgroundMaterial",uniforms:nr(wr.background.uniforms),vertexShader:wr.background.vertexShader,fragmentShader:wr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),i.geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&d===p.version&&u===e.toneMapping||(i.material.needsUpdate=!0,c=p,d=p.version,u=e.toneMapping),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Mr(e,t,r,n){const a=e.getParameter(34921),i=n.isWebGL2?null:t.get("OES_vertex_array_object"),o=n.isWebGL2||null!==i,s={},c=l(null);let d=c;function u(t){return n.isWebGL2?e.bindVertexArray(t):i.bindVertexArrayOES(t)}function f(t){return n.isWebGL2?e.deleteVertexArray(t):i.deleteVertexArrayOES(t)}function l(e){const t=[],r=[],n=[];for(let e=0;e<a;e++)t[e]=0,r[e]=0,n[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:n,object:e,attributes:{}}}function h(){const e=d.newAttributes;for(let t=0,r=e.length;t<r;t++)e[t]=0}function p(e){b(e,0)}function b(r,a){const i=d.newAttributes,o=d.enabledAttributes,s=d.attributeDivisors;if(i[r]=1,0===o[r]&&(e.enableVertexAttribArray(r),o[r]=1),s[r]!==a){(n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](r,a),s[r]=a}}function g(){const t=d.newAttributes,r=d.enabledAttributes;for(let n=0,a=r.length;n<a;n++)r[n]!==t[n]&&(e.disableVertexAttribArray(n),r[n]=0)}function m(t,r,a,i,o,s){!0!==n.isWebGL2||5124!==a&&5125!==a?e.vertexAttribPointer(t,r,a,i,o,s):e.vertexAttribIPointer(t,r,a,i,o,s)}function v(){y(),d!==c&&(d=c,u(d.object))}function y(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function(a,c,f,v,y){let x=!1;if(o){const t=function(t,r,a){const o=!0===a.wireframe;let c=s[t.id];void 0===c&&(c={},s[t.id]=c);let d=c[r.id];void 0===d&&(d={},c[r.id]=d);let u=d[o];void 0===u&&(u=l(n.isWebGL2?e.createVertexArray():i.createVertexArrayOES()),d[o]=u);return u}(v,f,c);d!==t&&(d=t,u(d.object)),x=function(e){const t=d.attributes,r=e.attributes;if(Object.keys(t).length!==Object.keys(r).length)return!0;for(const e in r){const n=t[e],a=r[e];if(n.attribute!==a)return!0;if(n.data!==a.data)return!0}return!1}(v),x&&function(e){const t={},r=e.attributes;for(const e in r){const n=r[e],a={};a.attribute=n,n.data&&(a.data=n.data),t[e]=a}d.attributes=t}(v)}else{const e=!0===c.wireframe;d.geometry===v.id&&d.program===f.id&&d.wireframe===e||(d.geometry=v.id,d.program=f.id,d.wireframe=e,x=!0)}!0===a.isInstancedMesh&&(x=!0),null!==y&&r.update(y,34963),x&&(!function(a,i,o,s){if(!1===n.isWebGL2&&(a.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();const c=s.attributes,d=o.getAttributes(),u=i.defaultAttributeValues;for(const t in d){const n=d[t];if(n>=0){const i=c[t];if(void 0!==i){const t=i.normalized,a=i.itemSize,o=r.get(i);if(void 0===o)continue;const c=o.buffer,d=o.type,u=o.bytesPerElement;if(i.isInterleavedBufferAttribute){const r=i.data,o=r.stride,f=i.offset;r&&r.isInstancedInterleavedBuffer?(b(n,r.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=r.meshPerAttribute*r.count)):p(n),e.bindBuffer(34962,c),m(n,a,d,t,o*u,f*u)}else i.isInstancedBufferAttribute?(b(n,i.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=i.meshPerAttribute*i.count)):p(n),e.bindBuffer(34962,c),m(n,a,d,t,0,0)}else if("instanceMatrix"===t){const t=r.get(a.instanceMatrix);if(void 0===t)continue;const i=t.buffer,o=t.type;b(n+0,1),b(n+1,1),b(n+2,1),b(n+3,1),e.bindBuffer(34962,i),e.vertexAttribPointer(n+0,4,o,!1,64,0),e.vertexAttribPointer(n+1,4,o,!1,64,16),e.vertexAttribPointer(n+2,4,o,!1,64,32),e.vertexAttribPointer(n+3,4,o,!1,64,48)}else if(void 0!==u){const r=u[t];if(void 0!==r)switch(r.length){case 2:e.vertexAttrib2fv(n,r);break;case 3:e.vertexAttrib3fv(n,r);break;case 4:e.vertexAttrib4fv(n,r);break;default:e.vertexAttrib1fv(n,r)}}}}g()}(a,c,f,v),null!==y&&e.bindBuffer(34963,r.get(y).buffer))},reset:v,resetDefaultState:y,dispose:function(){v();for(const e in s){const t=s[e];for(const e in t){const r=t[e];for(const e in r)f(r[e].object),delete r[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const r=t[e];for(const e in r)f(r[e].object),delete r[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const r=s[t];if(void 0===r[e.id])continue;const n=r[e.id];for(const e in n)f(n[e].object),delete n[e];delete r[e.id]}},initAttributes:h,enableAttribute:p,disableUnusedAttributes:g}}function Sr(e,t,r,n){const a=n.isWebGL2;let i;this.setMode=function(e){i=e},this.render=function(t,n){e.drawArrays(i,t,n),r.update(n,i)},this.renderInstances=function(n,o,s,c){if(0===c)return;let d,u;if(a)d=e,u="drawArraysInstanced";else if(d=t.get("ANGLE_instanced_arrays"),u="drawArraysInstancedANGLE",null===d)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[u](i,o,s,c),r.update(s,i,c)}}function Tr(e,t,r){let n;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const i="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let o=void 0!==r.precision?r.precision:"highp";const s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const c=!0===r.logarithmicDepthBuffer,d=e.getParameter(34930),u=e.getParameter(35660),f=e.getParameter(3379),l=e.getParameter(34076),h=e.getParameter(34921),p=e.getParameter(36347),b=e.getParameter(36348),g=e.getParameter(36349),m=u>0,v=i||!!t.get("OES_texture_float");return{isWebGL2:i,getMaxAnisotropy:function(){if(void 0!==n)return n;const r=t.get("EXT_texture_filter_anisotropic");return n=null!==r?e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,n},getMaxPrecision:a,precision:o,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:u,maxTextureSize:f,maxCubemapSize:l,maxAttributes:h,maxVertexUniforms:p,maxVaryings:b,maxFragmentUniforms:g,vertexTextures:m,floatFragmentTextures:v,floatVertexTextures:m&&v,maxSamples:i?e.getParameter(36183):0}}function Er(){const e=this;let t=null,r=0,n=!1,a=!1;const i=new je,o=new E,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(t,r,n,a){let c=null!==t?t.length:0,d=null;if(0!==c){if(d=s.value,!0!==a||null===d){const e=n+4*c,a=r.matrixWorldInverse;o.getNormalMatrix(a),(null===d||d.length<e)&&(d=new Float32Array(e));for(let e=0,r=n;e!==c;++e,r+=4)i.copy(t[e]).applyMatrix4(a,o),i.normal.toArray(d,r),d[r+3]=i.constant}s.value=d,s.needsUpdate=!0}return e.numPlanes=c,e.numIntersection=0,d}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,a,i){const o=0!==e.length||a||0!==r||n;return n=a,t=d(e,i,0),r=e.length,o},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1,c()},this.setState=function(e,i,o,u,f,l){if(!n||null===e||0===e.length||a&&!o)a?d(null):c();else{const n=a?0:r,o=4*n;let c=f.clippingState||null;s.value=c,c=d(e,u,o,l);for(let e=0;e!==o;++e)c[e]=t[e];f.clippingState=c,this.numIntersection=i?this.numPlanes:0,this.numPlanes+=n}}}function Ar(e){const t={};return{get:function(r){if(void 0!==t[r])return t[r];let n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n,n}}}function Cr(e,t,r,n){const a=new WeakMap,i=new WeakMap;function o(e){const s=e.target,c=a.get(s);null!==c.index&&t.remove(c.index);for(const e in c.attributes)t.remove(c.attributes[e]);s.removeEventListener("dispose",o),a.delete(s);const d=i.get(c);d&&(t.remove(d),i.delete(c)),n.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,r.memory.geometries--}function s(e){const r=[],n=e.index,a=e.attributes.position;let o=0;if(null!==n){const e=n.array;o=n.version;for(let t=0,n=e.length;t<n;t+=3){const n=e[t+0],a=e[t+1],i=e[t+2];r.push(n,a,a,i,i,n)}}else{const e=a.array;o=a.version;for(let t=0,n=e.length/3-1;t<n;t+=3){const e=t+0,n=t+1,a=t+2;r.push(e,n,n,a,a,e)}}const s=new(wt(r)>65535?mt:bt)(r,1);s.version=o;const c=i.get(e);c&&t.remove(c),i.set(e,s)}return{get:function(e,t){let n=a.get(t);return n||(t.addEventListener("dispose",o),t.isBufferGeometry?n=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Lt).setFromObject(e)),n=t._bufferGeometry),a.set(t,n),r.memory.geometries++,n)},update:function(e){const r=e.attributes;for(const e in r)t.update(r[e],34962);const n=e.morphAttributes;for(const e in n){const r=n[e];for(let e=0,n=r.length;e<n;e++)t.update(r[e],34962)}},getWireframeAttribute:function(e){const t=i.get(e);if(t){const r=e.index;null!==r&&t.version<r.version&&s(e)}else s(e);return i.get(e)}}}function Lr(e,t,r,n){const a=n.isWebGL2;let i,o,s;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,s=e.bytesPerElement},this.render=function(t,n){e.drawElements(i,n,o,t*s),r.update(n,i)},this.renderInstances=function(n,c,d,u){if(0===u)return;let f,l;if(a)f=e,l="drawElementsInstanced";else if(f=t.get("ANGLE_instanced_arrays"),l="drawElementsInstancedANGLE",null===f)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[l](i,d,o,c*s,u),r.update(d,i,u)}}function Pr(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,r,n){switch(n=n||1,t.calls++,r){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function Rr(e,t){return e[0]-t[0]}function kr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Or(e){const t={},r=new Float32Array(8),n=[];for(let e=0;e<8;e++)n[e]=[e,0];return{update:function(a,i,o,s){const c=a.morphTargetInfluences,d=void 0===c?0:c.length;let u=t[i.id];if(void 0===u){u=[];for(let e=0;e<d;e++)u[e]=[e,0];t[i.id]=u}for(let e=0;e<d;e++){const t=u[e];t[0]=e,t[1]=c[e]}u.sort(kr);for(let e=0;e<8;e++)e<d&&u[e][1]?(n[e][0]=u[e][0],n[e][1]=u[e][1]):(n[e][0]=Number.MAX_SAFE_INTEGER,n[e][1]=0);n.sort(Rr);const f=o.morphTargets&&i.morphAttributes.position,l=o.morphNormals&&i.morphAttributes.normal;let h=0;for(let e=0;e<8;e++){const t=n[e],a=t[0],o=t[1];a!==Number.MAX_SAFE_INTEGER&&o?(f&&i.getAttribute("morphTarget"+e)!==f[a]&&i.setAttribute("morphTarget"+e,f[a]),l&&i.getAttribute("morphNormal"+e)!==l[a]&&i.setAttribute("morphNormal"+e,l[a]),r[e]=o,h+=o):(f&&void 0!==i.getAttribute("morphTarget"+e)&&i.deleteAttribute("morphTarget"+e),l&&void 0!==i.getAttribute("morphNormal"+e)&&i.deleteAttribute("morphNormal"+e),r[e]=0)}const p=i.morphTargetsRelative?1:1-h;s.getUniforms().setValue(e,"morphTargetBaseInfluence",p),s.getUniforms().setValue(e,"morphTargetInfluences",r)}}}function Dr(e,t,r,n){let a=new WeakMap;return{update:function(e){const i=n.render.frame,o=e.geometry,s=t.get(e,o);return a.get(s)!==i&&(o.isGeometry&&s.updateFromObject(e),t.update(s),a.set(s,i)),e.isInstancedMesh&&r.update(e.instanceMatrix,34962),s},dispose:function(){a=new WeakMap}}}function Ir(e,t,r,n,a,i,o,s,c,d){e=void 0!==e?e:[],t=void 0!==t?t:301,o=void 0!==o?o:1022,P.call(this,e,t,r,n,a,i,o,s,c,d),this.flipY=!1}function Nr(e,t,r,n){P.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Br(e,t,r,n){P.call(this,null),this.image={data:e||null,width:t||1,height:r||1,depth:n||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}y.ShaderLib=wr,wr.physical={uniforms:ar([wr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new T(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new et(0)},transparency:{value:0}}]),vertexShader:xr.meshphysical_vert,fragmentShader:xr.meshphysical_frag},y.CubeTexture=Ir,Ir.prototype=Object.create(P.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isCubeTexture=!0,Object.defineProperty(Ir.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),y.DataTexture2DArray=Nr,Nr.prototype=Object.create(P.prototype),Nr.prototype.constructor=Nr,Nr.prototype.isDataTexture2DArray=!0,y.DataTexture3D=Br,Br.prototype=Object.create(P.prototype),Br.prototype.constructor=Br,Br.prototype.isDataTexture3D=!0;const zr=new P,jr=new Nr,Fr=new Br,Ur=new Ir,Gr=[],Hr=[],Vr=new Float32Array(16),Wr=new Float32Array(9),qr=new Float32Array(4);function Xr(e,t,r){const n=e[0];if(n<=0||n>0)return e;let a=t*r,i=Gr[a];if(void 0===i&&(i=new Float32Array(a),Gr[a]=i),0!==t){n.toArray(i,0);for(let n=1,a=0;n!==t;++n)a+=r,e[n].toArray(i,a)}return i}function Yr(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Zr(e,t){for(let r=0,n=t.length;r<n;r++)e[r]=t[r]}function Jr(e,t){let r=Hr[t];void 0===r&&(r=new Int32Array(t),Hr[t]=r);for(let n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function Qr(e,t){const r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Kr(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Yr(r,t))return;e.uniform2fv(this.addr,t),Zr(r,t)}}function $r(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(void 0!==t.r)r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Yr(r,t))return;e.uniform3fv(this.addr,t),Zr(r,t)}}function en(e,t){const r=this.cache;if(void 0!==t.x)r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Yr(r,t))return;e.uniform4fv(this.addr,t),Zr(r,t)}}function tn(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(Yr(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),Zr(r,t)}else{if(Yr(r,n))return;qr.set(n),e.uniformMatrix2fv(this.addr,!1,qr),Zr(r,n)}}function rn(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(Yr(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),Zr(r,t)}else{if(Yr(r,n))return;Wr.set(n),e.uniformMatrix3fv(this.addr,!1,Wr),Zr(r,n)}}function nn(e,t){const r=this.cache,n=t.elements;if(void 0===n){if(Yr(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),Zr(r,t)}else{if(Yr(r,n))return;Vr.set(n),e.uniformMatrix4fv(this.addr,!1,Vr),Zr(r,n)}}function an(e,t,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(e.uniform1i(this.addr,a),n[0]=a),r.safeSetTexture2D(t||zr,a)}function on(e,t,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(e.uniform1i(this.addr,a),n[0]=a),r.setTexture2DArray(t||jr,a)}function sn(e,t,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(e.uniform1i(this.addr,a),n[0]=a),r.setTexture3D(t||Fr,a)}function cn(e,t,r){const n=this.cache,a=r.allocateTextureUnit();n[0]!==a&&(e.uniform1i(this.addr,a),n[0]=a),r.safeSetTextureCube(t||Ur,a)}function dn(e,t){const r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function un(e,t){const r=this.cache;Yr(r,t)||(e.uniform2iv(this.addr,t),Zr(r,t))}function fn(e,t){const r=this.cache;Yr(r,t)||(e.uniform3iv(this.addr,t),Zr(r,t))}function ln(e,t){const r=this.cache;Yr(r,t)||(e.uniform4iv(this.addr,t),Zr(r,t))}function hn(e,t){const r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function pn(e,t){e.uniform1fv(this.addr,t)}function bn(e,t){e.uniform1iv(this.addr,t)}function gn(e,t){e.uniform2iv(this.addr,t)}function mn(e,t){e.uniform3iv(this.addr,t)}function vn(e,t){e.uniform4iv(this.addr,t)}function yn(e,t){const r=Xr(t,this.size,2);e.uniform2fv(this.addr,r)}function xn(e,t){const r=Xr(t,this.size,3);e.uniform3fv(this.addr,r)}function wn(e,t){const r=Xr(t,this.size,4);e.uniform4fv(this.addr,r)}function _n(e,t){const r=Xr(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function Mn(e,t){const r=Xr(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function Sn(e,t){const r=Xr(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function Tn(e,t,r){const n=t.length,a=Jr(r,n);e.uniform1iv(this.addr,a);for(let e=0;e!==n;++e)r.safeSetTexture2D(t[e]||zr,a[e])}function En(e,t,r){const n=t.length,a=Jr(r,n);e.uniform1iv(this.addr,a);for(let e=0;e!==n;++e)r.safeSetTextureCube(t[e]||Ur,a[e])}function An(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Qr;case 35664:return Kr;case 35665:return $r;case 35666:return en;case 35674:return tn;case 35675:return rn;case 35676:return nn;case 5124:case 35670:return dn;case 35667:case 35671:return un;case 35668:case 35672:return fn;case 35669:case 35673:return ln;case 5125:return hn;case 35678:case 36198:case 36298:case 36306:case 35682:return an;case 35679:case 36299:case 36307:return sn;case 35680:case 36300:case 36308:case 36293:return cn;case 36289:case 36303:case 36311:case 36292:return on}}(t.type)}function Cn(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return pn;case 35664:return yn;case 35665:return xn;case 35666:return wn;case 35674:return _n;case 35675:return Mn;case 35676:return Sn;case 5124:case 35670:return bn;case 35667:case 35671:return gn;case 35668:case 35672:return mn;case 35669:case 35673:return vn;case 35678:case 36198:case 36298:case 36306:case 35682:return Tn;case 35680:case 36300:case 36308:case 36293:return En}}(t.type)}function Ln(e){this.id=e,this.seq=[],this.map={}}Cn.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Zr(t,e)},Ln.prototype.setValue=function(e,t,r){const n=this.seq;for(let a=0,i=n.length;a!==i;++a){const i=n[a];i.setValue(e,t[i.id],r)}};const Pn=/([\w\d_]+)(\])?(\[|\.)?/g;function Rn(e,t){e.seq.push(t),e.map[t.id]=t}function kn(e,t,r){const n=e.name,a=n.length;for(Pn.lastIndex=0;;){const i=Pn.exec(n),o=Pn.lastIndex;let s=i[1],c="]"===i[2],d=i[3];if(c&&(s|=0),void 0===d||"["===d&&o+2===a){Rn(r,void 0===d?new An(s,e,t):new Cn(s,e,t));break}{let e=r.map[s];void 0===e&&(e=new Ln(s),Rn(r,e)),r=e}}}function On(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let n=0;n<r;++n){const r=e.getActiveUniform(t,n);kn(r,e.getUniformLocation(t,r.name),this)}}function Dn(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}On.prototype.setValue=function(e,t,r,n){const a=this.map[t];void 0!==a&&a.setValue(e,r,n)},On.prototype.setOptional=function(e,t,r){const n=t[r];void 0!==n&&this.setValue(e,r,n)},On.upload=function(e,t,r,n){for(let a=0,i=t.length;a!==i;++a){const i=t[a],o=r[i.id];!1!==o.needsUpdate&&i.setValue(e,o.value,n)}},On.seqWithValue=function(e,t){const r=[];for(let n=0,a=e.length;n!==a;++n){const a=e[n];a.id in t&&r.push(a)}return r};let In=0;function Nn(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Bn(e,t,r){const n=e.getShaderParameter(t,35713),a=e.getShaderInfoLog(t).trim();if(n&&""===a)return"";return"THREE.WebGLShader: gl.getShaderInfoLog() "+r+"\n"+a+function(e){const t=e.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(e.getShaderSource(t))}function zn(e,t){const r=Nn(t);return"vec4 "+e+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function jn(e,t){const r=Nn(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function Fn(e,t){let r;switch(t){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="OptimizedCineon";break;case 4:r="ACESFilmic";break;case 5:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Un(e){return""!==e}function Gn(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Hn(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Vn=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wn(e){return e.replace(Vn,qn)}function qn(e,t){const r=xr[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return Wn(r)}const Xn=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Yn=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function Zn(e){return e.replace(Yn,Qn).replace(Xn,Jn)}function Jn(e,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Qn(e,t,r,n)}function Qn(e,t,r,n){let a="";for(let e=parseInt(t);e<parseInt(r);e++)a+=n.replace(/\[ i \]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return a}function Kn(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function $n(e,t,r,n){const a=e.getContext(),i=r.defines;let o=r.vertexShader,s=r.fragmentShader;const c=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(r),d=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:t="ENVMAP_TYPE_EQUIREC"}return t}(r),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 304:t="ENVMAP_MODE_REFRACTION"}return t}(r),f=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(r),l=e.gammaFactor>0?e.gammaFactor:1,h=r.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Un).join("\n")}(r),p=function(e){const t=[];for(const r in e){const n=e[r];!1!==n&&t.push("#define "+r+" "+n)}return t.join("\n")}(i),b=a.createProgram();let g,m;if(r.isRawShaderMaterial?(g=[p].filter(Un).join("\n"),g.length>0&&(g+="\n"),m=[h,p].filter(Un).join("\n"),m.length>0&&(m+="\n")):(g=[Kn(r),"#define SHADER_NAME "+r.shaderName,p,r.instancing?"#define USE_INSTANCING":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+l,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Un).join("\n"),m=[h,Kn(r),"#define SHADER_NAME "+r.shaderName,p,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+l,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.envMap?"#define "+u:"",r.envMap?"#define "+f:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?xr.tonemapping_pars_fragment:"",0!==r.toneMapping?Fn("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",xr.encodings_pars_fragment,r.map?zn("mapTexelToLinear",r.mapEncoding):"",r.matcap?zn("matcapTexelToLinear",r.matcapEncoding):"",r.envMap?zn("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMap?zn("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMap?zn("lightMapTexelToLinear",r.lightMapEncoding):"",jn("linearToOutputTexel",r.outputEncoding),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Un).join("\n")),o=Wn(o),o=Gn(o,r),o=Hn(o,r),s=Wn(s),s=Gn(s,r),s=Hn(s,r),o=Zn(o),s=Zn(s),r.isWebGL2&&!r.isRawShaderMaterial){let e=!1;const t=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==o.match(t)&&null!==s.match(t)&&(e=!0,o=o.replace(t,""),s=s.replace(t,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,m=["#version 300 es\n","#define varying in",e?"":"out highp vec4 pc_fragColor;",e?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m}const v=m+s,y=Dn(a,35633,g+o),x=Dn(a,35632,v);if(a.attachShader(b,y),a.attachShader(b,x),void 0!==r.index0AttributeName?a.bindAttribLocation(b,0,r.index0AttributeName):!0===r.morphTargets&&a.bindAttribLocation(b,0,"position"),a.linkProgram(b),e.debug.checkShaderErrors){const e=a.getProgramInfoLog(b).trim(),t=a.getShaderInfoLog(y).trim(),r=a.getShaderInfoLog(x).trim();let n=!0,i=!0;if(!1===a.getProgramParameter(b,35714)){n=!1;const t=Bn(a,y,"vertex"),r=Bn(a,x,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(b,35715),"gl.getProgramInfoLog",e,t,r)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==r||(i=!1);i&&(this.diagnostics={runnable:n,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:r,prefix:m}})}let w,_;return a.deleteShader(y),a.deleteShader(x),this.getUniforms=function(){return void 0===w&&(w=new On(a,b)),w},this.getAttributes=function(){return void 0===_&&(_=function(e,t){const r={},n=e.getProgramParameter(t,35721);for(let a=0;a<n;a++){const n=e.getActiveAttrib(t,a).name;r[n]=e.getAttribLocation(t,n)}return r}(a,b)),_},this.destroy=function(){n.releaseStatesOfProgram(this),a.deleteProgram(b),this.program=void 0},this.name=r.shaderName,this.id=In++,this.cacheKey=t,this.usedTimes=1,this.program=b,this.vertexShader=y,this.fragmentShader=x,this}function ea(e,t,r,n){const a=[],i=r.isWebGL2,o=r.logarithmicDepthBuffer,s=r.floatVertexTextures,c=r.maxVertexUniforms,d=r.vertexTextures;let u=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},l=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function h(e){let t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=3e3,t}return{getParameters:function(n,a,l,p,b,g,m){const v=p.fog,y=n.isMeshStandardMaterial?p.environment:null,x=n.envMap||y,w=f[n.type],_=m.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(s)return 1024;{const e=c,r=Math.floor((e-20)/4),n=Math.min(r,t.length);return n<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+n+"."),0):n}}(m):0;null!==n.precision&&(u=r.getMaxPrecision(n.precision),u!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",u,"instead."));const M=function(e,t){let r;if(t){const n=wr[t];r={name:e.name||e.type,uniforms:ir.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}}else r={name:e.name||e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return r}(n,w);n.onBeforeCompile(M,e);const S=e.getRenderTarget();return{isWebGL2:i,shaderID:w,shaderName:M.name,uniforms:M.uniforms,vertexShader:M.vertexShader,fragmentShader:M.fragmentShader,defines:n.defines,isRawShaderMaterial:n.isRawShaderMaterial,isShaderMaterial:n.isShaderMaterial,precision:u,instancing:!0===m.isInstancedMesh,supportsVertexTextures:d,outputEncoding:null!==S?h(S.texture):e.outputEncoding,map:!!n.map,mapEncoding:h(n.map),matcap:!!n.matcap,matcapEncoding:h(n.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:h(x),envMapCubeUV:!!x&&(306===x.mapping||307===x.mapping),lightMap:!!n.lightMap,lightMapEncoding:h(n.lightMap),aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:h(n.emissiveMap),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,objectSpaceNormalMap:1===n.normalMapType,tangentSpaceNormalMap:0===n.normalMapType,clearcoatMap:!!n.clearcoatMap,clearcoatRoughnessMap:!!n.clearcoatRoughnessMap,clearcoatNormalMap:!!n.clearcoatNormalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,sheen:!!n.sheen,combine:n.combine,vertexTangents:n.normalMap&&n.vertexTangents,vertexColors:n.vertexColors,vertexUvs:!!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatMap||n.clearcoatRoughnessMap||n.clearcoatNormalMap||n.displacementMap),uvsVertexOnly:!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatNormalMap||!n.displacementMap),fog:!!v,useFog:n.fog,fogExp2:v&&v.isFogExp2,flatShading:n.flatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:o,skinning:n.skinning&&_>0,maxBones:_,useVertexTexture:s,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:b,numClipIntersection:g,dithering:n.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:n.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:2===n.side,flipSided:1===n.side,depthPacking:void 0!==n.depthPacking&&n.depthPacking,index0AttributeName:n.index0AttributeName,extensionDerivatives:n.extensions&&n.extensions.derivatives,extensionFragDepth:n.extensions&&n.extensions.fragDepth,extensionDrawBuffers:n.extensions&&n.extensions.drawBuffers,extensionShaderTextureLOD:n.extensions&&n.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:i||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:i||null!==t.get("EXT_shader_texture_lod"),customProgramCacheKey:n.customProgramCacheKey()}},getProgramCacheKey:function(t){const r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)r.push(e),r.push(t.defines[e]);if(void 0===t.isRawShaderMaterial){for(let e=0;e<l.length;e++)r.push(t[l[e]]);r.push(e.outputEncoding),r.push(e.gammaFactor)}return r.push(t.customProgramCacheKey),r.join()},acquireProgram:function(t,r){let i;for(let e=0,t=a.length;e<t;e++){const t=a[e];if(t.cacheKey===r){i=t,++i.usedTimes;break}}return void 0===i&&(i=new $n(e,r,t,n),a.push(i)),i},releaseProgram:function(e){if(0==--e.usedTimes){const t=a.indexOf(e);a[t]=a[a.length-1],a.pop(),e.destroy()}},programs:a}}function ta(){let e=new WeakMap;return{get:function(t){let r=e.get(t);return void 0===r&&(r={},e.set(t,r)),r},remove:function(t){e.delete(t)},update:function(t,r,n){e.get(t)[r]=n},dispose:function(){e=new WeakMap}}}function ra(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function na(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function aa(){const e=[];let t=0;const r=[],n=[],a={id:-1};function i(r,n,i,o,s,c){let d=e[t];return void 0===d?(d={id:r.id,object:r,geometry:n,material:i,program:i.program||a,groupOrder:o,renderOrder:r.renderOrder,z:s,group:c},e[t]=d):(d.id=r.id,d.object=r,d.geometry=n,d.material=i,d.program=i.program||a,d.groupOrder=o,d.renderOrder=r.renderOrder,d.z=s,d.group=c),t++,d}return{opaque:r,transparent:n,init:function(){t=0,r.length=0,n.length=0},push:function(e,t,a,o,s,c){const d=i(e,t,a,o,s,c);(!0===a.transparent?n:r).push(d)},unshift:function(e,t,a,o,s,c){const d=i(e,t,a,o,s,c);(!0===a.transparent?n:r).unshift(d)},finish:function(){for(let r=t,n=e.length;r<n;r++){const t=e[r];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.program=null,t.group=null}},sort:function(e,t){r.length>1&&r.sort(e||ra),n.length>1&&n.sort(t||na)}}}function ia(){let e=new WeakMap;function t(r){const n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){const a=e.get(r);let i;return void 0===a?(i=new aa,e.set(r,new WeakMap),e.get(r).set(n,i),r.addEventListener("dispose",t)):(i=a.get(n),void 0===i&&(i=new aa,a.set(n,i))),i},dispose:function(){e=new WeakMap}}}function oa(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new B,color:new et};break;case"SpotLight":r={position:new B,direction:new B,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new B,color:new et,distance:0,decay:0};break;case"HemisphereLight":r={direction:new B,skyColor:new et,groundColor:new et};break;case"RectAreaLight":r={color:new et,position:new B,halfWidth:new B,halfHeight:new B}}return e[t.id]=r,r}}}let sa=0;function ca(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function da(){const e=new oa,t=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let r;switch(t.type){case"DirectionalLight":case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new T};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new T,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=r,r}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)r.probe.push(new B);const n=new B,a=new W,i=new W;return{setup:function(o,s,c){let d=0,u=0,f=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,h=0,p=0,b=0,g=0,m=0,v=0,y=0;const x=c.matrixWorldInverse;o.sort(ca);for(let s=0,c=o.length;s<c;s++){const c=o[s],w=c.color,_=c.intensity,M=c.distance,S=c.shadow&&c.shadow.map?c.shadow.map.texture:null;if(c.isAmbientLight)d+=w.r*_,u+=w.g*_,f+=w.b*_;else if(c.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(c.sh.coefficients[e],_);else if(c.isDirectionalLight){const a=e.get(c);if(a.color.copy(c.color).multiplyScalar(c.intensity),a.direction.setFromMatrixPosition(c.matrixWorld),n.setFromMatrixPosition(c.target.matrixWorld),a.direction.sub(n),a.direction.transformDirection(x),c.castShadow){const e=c.shadow,n=t.get(c);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.directionalShadow[l]=n,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=c.shadow.matrix,m++}r.directional[l]=a,l++}else if(c.isSpotLight){const a=e.get(c);if(a.position.setFromMatrixPosition(c.matrixWorld),a.position.applyMatrix4(x),a.color.copy(w).multiplyScalar(_),a.distance=M,a.direction.setFromMatrixPosition(c.matrixWorld),n.setFromMatrixPosition(c.target.matrixWorld),a.direction.sub(n),a.direction.transformDirection(x),a.coneCos=Math.cos(c.angle),a.penumbraCos=Math.cos(c.angle*(1-c.penumbra)),a.decay=c.decay,c.castShadow){const e=c.shadow,n=t.get(c);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.spotShadow[p]=n,r.spotShadowMap[p]=S,r.spotShadowMatrix[p]=c.shadow.matrix,y++}r.spot[p]=a,p++}else if(c.isRectAreaLight){const t=e.get(c);t.color.copy(w).multiplyScalar(_),t.position.setFromMatrixPosition(c.matrixWorld),t.position.applyMatrix4(x),i.identity(),a.copy(c.matrixWorld),a.premultiply(x),i.extractRotation(a),t.halfWidth.set(.5*c.width,0,0),t.halfHeight.set(0,.5*c.height,0),t.halfWidth.applyMatrix4(i),t.halfHeight.applyMatrix4(i),r.rectArea[b]=t,b++}else if(c.isPointLight){const n=e.get(c);if(n.position.setFromMatrixPosition(c.matrixWorld),n.position.applyMatrix4(x),n.color.copy(c.color).multiplyScalar(c.intensity),n.distance=c.distance,n.decay=c.decay,c.castShadow){const e=c.shadow,n=t.get(c);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,r.pointShadow[h]=n,r.pointShadowMap[h]=S,r.pointShadowMatrix[h]=c.shadow.matrix,v++}r.point[h]=n,h++}else if(c.isHemisphereLight){const t=e.get(c);t.direction.setFromMatrixPosition(c.matrixWorld),t.direction.transformDirection(x),t.direction.normalize(),t.skyColor.copy(c.color).multiplyScalar(_),t.groundColor.copy(c.groundColor).multiplyScalar(_),r.hemi[g]=t,g++}}r.ambient[0]=d,r.ambient[1]=u,r.ambient[2]=f;const w=r.hash;w.directionalLength===l&&w.pointLength===h&&w.spotLength===p&&w.rectAreaLength===b&&w.hemiLength===g&&w.numDirectionalShadows===m&&w.numPointShadows===v&&w.numSpotShadows===y||(r.directional.length=l,r.spot.length=p,r.rectArea.length=b,r.point.length=h,r.hemi.length=g,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=y,r.spotShadowMap.length=y,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=v,r.spotShadowMatrix.length=y,w.directionalLength=l,w.pointLength=h,w.spotLength=p,w.rectAreaLength=b,w.hemiLength=g,w.numDirectionalShadows=m,w.numPointShadows=v,w.numSpotShadows=y,r.version=sa++)},state:r}}function ua(){const e=new da,t=[],r=[];return{init:function(){t.length=0,r.length=0},state:{lightsArray:t,shadowsArray:r,lights:e},setupLights:function(n){e.setup(t,r,n)},pushLight:function(e){t.push(e)},pushShadow:function(e){r.push(e)}}}function fa(){let e=new WeakMap;function t(r){const n=r.target;n.removeEventListener("dispose",t),e.delete(n)}return{get:function(r,n){let a;return!1===e.has(r)?(a=new ua,e.set(r,new WeakMap),e.get(r).set(n,a),r.addEventListener("dispose",t)):!1===e.get(r).has(n)?(a=new ua,e.get(r).set(n,a)):a=e.get(r).get(n),a},dispose:function(){e=new WeakMap}}}function la(e){ot.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function ha(e){ot.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new B,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}y.MeshDepthMaterial=la,la.prototype=Object.create(ot.prototype),la.prototype.constructor=la,la.prototype.isMeshDepthMaterial=!0,la.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},y.MeshDistanceMaterial=ha,ha.prototype=Object.create(ot.prototype),ha.prototype.constructor=ha,ha.prototype.isMeshDistanceMaterial=!0,ha.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function pa(e,t,r){let n=new pr;const a=new T,i=new T,o=new R,s=[],c=[],d={},u={0:1,1:0,2:2},f=new or({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new T},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),l=f.clone();l.defines.HORIZONAL_PASS=1;const h=new Lt;h.setAttribute("position",new ut(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Xt(h,f),b=this;function g(r,n){const a=t.update(p);f.uniforms.shadow_pass.value=r.map.texture,f.uniforms.resolution.value=r.mapSize,f.uniforms.radius.value=r.radius,e.setRenderTarget(r.mapPass),e.clear(),e.renderBufferDirect(n,null,a,f,p,null),l.uniforms.shadow_pass.value=r.mapPass.texture,l.uniforms.resolution.value=r.mapSize,l.uniforms.radius.value=r.radius,e.setRenderTarget(r.map),e.clear(),e.renderBufferDirect(n,null,a,l,p,null)}function m(e,t,r){const n=e<<0|t<<1|r<<2;let a=s[n];return void 0===a&&(a=new la({depthPacking:3201,morphTargets:e,skinning:t}),s[n]=a),a}function v(e,t,r){const n=e<<0|t<<1|r<<2;let a=c[n];return void 0===a&&(a=new ha({morphTargets:e,skinning:t}),c[n]=a),a}function y(t,r,n,a,i,o,s){let c=null,f=m,l=t.customDepthMaterial;if(!0===a.isPointLight&&(f=v,l=t.customDistanceMaterial),void 0===l){let e=!1;!0===n.morphTargets&&(e=r.morphAttributes&&r.morphAttributes.position&&r.morphAttributes.position.length>0);let a=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?a=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));c=f(e,a,!0===t.isInstancedMesh)}else c=l;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){const e=c.uuid,t=n.uuid;let r=d[e];void 0===r&&(r={},d[e]=r);let a=r[t];void 0===a&&(a=c.clone(),r[t]=a),c=a}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=3===s?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===a.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(a.matrixWorld),c.nearDistance=i,c.farDistance=o),c}function x(r,a,i,o,s){if(!1===r.visible)return;if(r.layers.test(a.layers)&&(r.isMesh||r.isLine||r.isPoints)&&(r.castShadow||r.receiveShadow&&3===s)&&(!r.frustumCulled||n.intersectsObject(r))){r.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,r.matrixWorld);const n=t.update(r),a=r.material;if(Array.isArray(a)){const t=n.groups;for(let c=0,d=t.length;c<d;c++){const d=t[c],u=a[d.materialIndex];if(u&&u.visible){const t=y(r,n,u,o,i.near,i.far,s);e.renderBufferDirect(i,null,n,t,r,d)}}}else if(a.visible){const t=y(r,n,a,o,i.near,i.far,s);e.renderBufferDirect(i,null,n,t,r,null)}}const c=r.children;for(let e=0,t=c.length;e<t;e++)x(c[e],a,i,o,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,s,c){if(!1===b.enabled)return;if(!1===b.autoUpdate&&!1===b.needsUpdate)return;if(0===t.length)return;const d=e.getRenderTarget(),u=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),l=e.state;l.setBlending(0),l.buffers.color.setClear(1,1,1,1),l.buffers.depth.setTest(!0),l.setScissorTest(!1);for(let d=0,u=t.length;d<u;d++){const u=t[d],f=u.shadow;if(!1===f.autoUpdate&&!1===f.needsUpdate)continue;if(void 0===f){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}a.copy(f.mapSize);const h=f.getFrameExtents();if(a.multiply(h),i.copy(f.mapSize),(a.x>r||a.y>r)&&(a.x>r&&(i.x=Math.floor(r/h.x),a.x=i.x*h.x,f.mapSize.x=i.x),a.y>r&&(i.y=Math.floor(r/h.y),a.y=i.y*h.y,f.mapSize.y=i.y)),null===f.map&&!f.isPointLightShadow&&3===this.type){const e={minFilter:1006,magFilter:1006,format:1023};f.map=new k(a.x,a.y,e),f.map.texture.name=u.name+".shadowMap",f.mapPass=new k(a.x,a.y,e),f.camera.updateProjectionMatrix()}if(null===f.map){const e={minFilter:1003,magFilter:1003,format:1023};f.map=new k(a.x,a.y,e),f.map.texture.name=u.name+".shadowMap",f.camera.updateProjectionMatrix()}e.setRenderTarget(f.map),e.clear();const p=f.getViewportCount();for(let e=0;e<p;e++){const t=f.getViewport(e);o.set(i.x*t.x,i.y*t.y,i.x*t.z,i.y*t.w),l.viewport(o),f.updateMatrices(u,e),n=f.getFrustum(),x(s,c,f.camera,u,this.type)}f.isPointLightShadow||3!==this.type||g(f,c),f.needsUpdate=!1}b.needsUpdate=!1,e.setRenderTarget(d,u,f)}}function ba(e,t,r){const n=r.isWebGL2;const a=new function(){let t=!1;const r=new R;let n=null;const a=new R(0,0,0,0);return{setMask:function(r){n===r||t||(e.colorMask(r,r,r,r),n=r)},setLocked:function(e){t=e},setClear:function(t,n,i,o,s){!0===s&&(t*=o,n*=o,i*=o),r.set(t,n,i,o),!1===a.equals(r)&&(e.clearColor(t,n,i,o),a.copy(r))},reset:function(){t=!1,n=null,a.set(-1,0,0,0)}}},i=new function(){let t=!1,r=null,n=null,a=null;return{setTest:function(e){e?D(2929):I(2929)},setMask:function(n){r===n||t||(e.depthMask(n),r=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){a!==t&&(e.clearDepth(t),a=t)},reset:function(){t=!1,r=null,n=null,a=null}}},o=new function(){let t=!1,r=null,n=null,a=null,i=null,o=null,s=null,c=null,d=null;return{setTest:function(e){t||(e?D(2960):I(2960))},setMask:function(n){r===n||t||(e.stencilMask(n),r=n)},setFunc:function(t,r,o){n===t&&a===r&&i===o||(e.stencilFunc(t,r,o),n=t,a=r,i=o)},setOp:function(t,r,n){o===t&&s===r&&c===n||(e.stencilOp(t,r,n),o=t,s=r,c=n)},setLocked:function(e){t=e},setClear:function(t){d!==t&&(e.clearStencil(t),d=t)},reset:function(){t=!1,r=null,n=null,a=null,i=null,o=null,s=null,c=null,d=null}}};let s={},c=null,d=null,u=null,f=null,l=null,h=null,p=null,b=null,g=null,m=!1,v=null,y=null,x=null,w=null,_=null;const M=e.getParameter(35661);let S=!1,T=0;const E=e.getParameter(7938);-1!==E.indexOf("WebGL")?(T=parseFloat(/^WebGL\ ([0-9])/.exec(E)[1]),S=T>=1):-1!==E.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(E)[1]),S=T>=2);let A=null,C={};const L=new R,P=new R;function k(t,r,n){const a=new Uint8Array(4),i=e.createTexture();e.bindTexture(t,i),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<n;t++)e.texImage2D(r+t,0,6408,1,1,0,6408,5121,a);return i}const O={};function D(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function I(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}O[3553]=k(3553,3553,1),O[34067]=k(34067,34069,6),a.setClear(0,0,0,1),i.setClear(1),o.setClear(0),D(2929),i.setFunc(3),j(!1),F(1),D(2884),z(0);const N={100:32774,101:32778,102:32779};if(n)N[103]=32775,N[104]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(N[103]=e.MIN_EXT,N[104]=e.MAX_EXT)}const B={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function z(t,r,n,a,i,o,s,c){if(0!==t){if(d||(D(3042),d=!0),5===t)i=i||r,o=o||n,s=s||a,r===f&&i===p||(e.blendEquationSeparate(N[r],N[i]),f=r,p=i),n===l&&a===h&&o===b&&s===g||(e.blendFuncSeparate(B[n],B[a],B[o],B[s]),l=n,h=a,b=o,g=s),u=t,m=null;else if(t!==u||c!==m){if(100===f&&100===p||(e.blendEquation(32774),f=100,p=100),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}l=null,h=null,b=null,g=null,u=t,m=c}}else d&&(I(3042),d=!1)}function j(t){v!==t&&(t?e.frontFace(2304):e.frontFace(2305),v=t)}function F(t){0!==t?(D(2884),t!==y&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):I(2884),y=t}function U(t,r,n){t?(D(32823),w===r&&_===n||(e.polygonOffset(r,n),w=r,_=n)):I(32823)}function G(t){void 0===t&&(t=33984+M-1),A!==t&&(e.activeTexture(t),A=t)}return{buffers:{color:a,depth:i,stencil:o},enable:D,disable:I,useProgram:function(t){return c!==t&&(e.useProgram(t),c=t,!0)},setBlending:z,setMaterial:function(e,t){2===e.side?I(2884):D(2884);let r=1===e.side;t&&(r=!r),j(r),1===e.blending&&!1===e.transparent?z(0):z(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),i.setFunc(e.depthFunc),i.setTest(e.depthTest),i.setMask(e.depthWrite),a.setMask(e.colorWrite);const n=e.stencilWrite;o.setTest(n),n&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),U(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:j,setCullFace:F,setLineWidth:function(t){t!==x&&(S&&e.lineWidth(t),x=t)},setPolygonOffset:U,setScissorTest:function(e){e?D(3089):I(3089)},activeTexture:G,bindTexture:function(t,r){null===A&&G();let n=C[A];void 0===n&&(n={type:void 0,texture:void 0},C[A]=n),n.type===t&&n.texture===r||(e.bindTexture(t,r||O[t]),n.type=t,n.texture=r)},unbindTexture:function(){const t=C[A];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===L.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),L.copy(t))},viewport:function(t){!1===P.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),P.copy(t))},reset:function(){s={},A=null,C={},c=null,u=null,v=null,y=null,a.reset(),i.reset(),o.reset()}}}function ga(e,t,r,n,a,i,o){const s=a.isWebGL2,c=a.maxTextures,d=a.maxCubemapSize,u=a.maxTextureSize,f=a.maxSamples,l=new WeakMap;let h,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function b(e,t){return p?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,r,n){let a=1;if((e.width>n||e.height>n)&&(a=n/Math.max(e.width,e.height)),a<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const n=t?S.floorPowerOfTwo:Math.floor,i=n(a*e.width),o=n(a*e.height);void 0===h&&(h=b(i,o));const s=r?b(i,o):h;s.width=i,s.height=o;return s.getContext("2d").drawImage(e,0,0,i,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+i+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function m(e){return S.isPowerOfTwo(e.width)&&S.isPowerOfTwo(e.height)}function v(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function y(t,r,a,i){e.generateMipmap(t);n.get(r).__maxMipLevel=Math.log(Math.max(a,i))*Math.LOG2E}function x(r,n,a){if(!1===s)return n;if(null!==r){if(void 0!==e[r])return e[r];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+r+"'")}let i=n;return 6403===n&&(5126===a&&(i=33326),5131===a&&(i=33325),5121===a&&(i=33321)),6407===n&&(5126===a&&(i=34837),5131===a&&(i=34843),5121===a&&(i=32849)),6408===n&&(5126===a&&(i=34836),5131===a&&(i=34842),5121===a&&(i=32856)),33325!==i&&33326!==i&&34842!==i&&34836!==i||t.get("EXT_color_buffer_float"),i}function w(e){return 1003===e||1004===e||1005===e?9728:9729}function _(t){const r=t.target;r.removeEventListener("dispose",_),function(t){const r=n.get(t);if(void 0===r.__webglInit)return;e.deleteTexture(r.__webglTexture),n.remove(t)}(r),r.isVideoTexture&&l.delete(r),o.memory.textures--}function M(t){const r=t.target;r.removeEventListener("dispose",M),function(t){const r=n.get(t),a=n.get(t.texture);if(!t)return;void 0!==a.__webglTexture&&e.deleteTexture(a.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(r.__webglFramebuffer[t]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[t]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);n.remove(t.texture),n.remove(t)}(r),o.memory.textures--}let T=0;function E(e,t){const a=n.get(e);if(e.isVideoTexture&&function(e){const t=o.render.frame;l.get(e)!==t&&(l.set(e,t),e.update())}(e),e.version>0&&a.__version!==e.version){const r=e.image;if(void 0===r)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==r.complete)return void O(a,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}r.activeTexture(33984+t),r.bindTexture(3553,a.__webglTexture)}function A(t,a){if(6!==t.image.length)return;const o=n.get(t);if(t.version>0&&o.__version!==t.version){k(o,t),r.activeTexture(33984+a),r.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);const n=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),c=t.image[0]&&t.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=n||c?c?t.image[e].image:t.image[e]:g(t.image[e],!1,!0,d);const f=u[0],l=m(f)||s,h=i.convert(t.format),p=i.convert(t.type),b=x(t.internalFormat,h,p);let w;if(R(34067,t,l),n){for(let e=0;e<6;e++){w=u[e].mipmaps;for(let n=0;n<w.length;n++){const a=w[n];1023!==t.format&&1022!==t.format?null!==h?r.compressedTexImage2D(34069+e,n,b,a.width,a.height,0,a.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+e,n,b,a.width,a.height,0,h,p,a.data)}}o.__maxMipLevel=w.length-1}else{w=t.mipmaps;for(let e=0;e<6;e++)if(c){r.texImage2D(34069+e,0,b,u[e].width,u[e].height,0,h,p,u[e].data);for(let t=0;t<w.length;t++){const n=w[t].image[e].image;r.texImage2D(34069+e,t+1,b,n.width,n.height,0,h,p,n.data)}}else{r.texImage2D(34069+e,0,b,h,p,u[e]);for(let t=0;t<w.length;t++){const n=w[t];r.texImage2D(34069+e,t+1,b,h,p,n.image[e])}}o.__maxMipLevel=w.length}v(t,l)&&y(34067,t,f.width,f.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else r.activeTexture(33984+a),r.bindTexture(34067,o.__webglTexture)}function C(e,t){r.activeTexture(33984+t),r.bindTexture(34067,n.get(e).__webglTexture)}const L={1e3:10497,1001:33071,1002:33648},P={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function R(r,i,o){o?(e.texParameteri(r,10242,L[i.wrapS]),e.texParameteri(r,10243,L[i.wrapT]),32879!==r&&35866!==r||e.texParameteri(r,32882,L[i.wrapR]),e.texParameteri(r,10240,P[i.magFilter]),e.texParameteri(r,10241,P[i.minFilter])):(e.texParameteri(r,10242,33071),e.texParameteri(r,10243,33071),32879!==r&&35866!==r||e.texParameteri(r,32882,33071),1001===i.wrapS&&1001===i.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(r,10240,w(i.magFilter)),e.texParameteri(r,10241,w(i.minFilter)),1003!==i.minFilter&&1006!==i.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const c=t.get("EXT_texture_filter_anisotropic");if(c){if(1015===i.type&&null===t.get("OES_texture_float_linear"))return;if(1016===i.type&&null===(s||t.get("OES_texture_half_float_linear")))return;(i.anisotropy>1||n.get(i).__currentAnisotropy)&&(e.texParameterf(r,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,a.getMaxAnisotropy())),n.get(i).__currentAnisotropy=i.anisotropy)}}function k(t,r){void 0===t.__webglInit&&(t.__webglInit=!0,r.addEventListener("dispose",_),t.__webglTexture=e.createTexture(),o.memory.textures++)}function O(t,n,a){let o=3553;n.isDataTexture2DArray&&(o=35866),n.isDataTexture3D&&(o=32879),k(t,n),r.activeTexture(33984+a),r.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);const c=function(e){return!s&&(1001!==e.wrapS||1001!==e.wrapT||1003!==e.minFilter&&1006!==e.minFilter)}(n)&&!1===m(n.image),d=g(n.image,c,!1,u),f=m(d)||s,l=i.convert(n.format);let h,p=i.convert(n.type),b=x(n.internalFormat,l,p);R(o,n,f);const w=n.mipmaps;if(n.isDepthTexture)b=6402,s?b=1015===n.type?36012:1014===n.type?33190:1020===n.type?35056:33189:1015===n.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===n.format&&6402===b&&1012!==n.type&&1014!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=1012,p=i.convert(n.type)),1027===n.format&&6402===b&&(b=34041,1020!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=1020,p=i.convert(n.type))),r.texImage2D(3553,0,b,d.width,d.height,0,l,p,null);else if(n.isDataTexture)if(w.length>0&&f){for(let e=0,t=w.length;e<t;e++)h=w[e],r.texImage2D(3553,e,b,h.width,h.height,0,l,p,h.data);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,b,d.width,d.height,0,l,p,d.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(let e=0,t=w.length;e<t;e++)h=w[e],1023!==n.format&&1022!==n.format?null!==l?r.compressedTexImage2D(3553,e,b,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,e,b,h.width,h.height,0,l,p,h.data);t.__maxMipLevel=w.length-1}else if(n.isDataTexture2DArray)r.texImage3D(35866,0,b,d.width,d.height,d.depth,0,l,p,d.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)r.texImage3D(32879,0,b,d.width,d.height,d.depth,0,l,p,d.data),t.__maxMipLevel=0;else if(w.length>0&&f){for(let e=0,t=w.length;e<t;e++)h=w[e],r.texImage2D(3553,e,b,l,p,h);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else r.texImage2D(3553,0,b,l,p,d),t.__maxMipLevel=0;v(n,f)&&y(o,n,d.width,d.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function D(t,a,o,s){const c=i.convert(a.texture.format),d=i.convert(a.texture.type),u=x(a.texture.internalFormat,c,d);r.texImage2D(s,0,u,a.width,a.height,0,c,d,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,n.get(a.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function I(t,r,n){if(e.bindRenderbuffer(36161,t),r.depthBuffer&&!r.stencilBuffer){let a=33189;if(n){const t=r.depthTexture;t&&t.isDepthTexture&&(1015===t.type?a=36012:1014===t.type&&(a=33190));const n=B(r);e.renderbufferStorageMultisample(36161,n,a,r.width,r.height)}else e.renderbufferStorage(36161,a,r.width,r.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(r.depthBuffer&&r.stencilBuffer){if(n){const t=B(r);e.renderbufferStorageMultisample(36161,t,35056,r.width,r.height)}else e.renderbufferStorage(36161,34041,r.width,r.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=i.convert(r.texture.format),a=i.convert(r.texture.type),o=x(r.texture.internalFormat,t,a);if(n){const t=B(r);e.renderbufferStorageMultisample(36161,t,o,r.width,r.height)}else e.renderbufferStorage(36161,o,r.width,r.height)}e.bindRenderbuffer(36161,null)}function N(t){const r=n.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),E(r.depthTexture,0);const a=n.get(r.depthTexture).__webglTexture;if(1026===r.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,a,0);else{if(1027!==r.depthTexture.format)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,a,0)}}(r.__webglFramebuffer,t)}else if(a){r.__webglDepthbuffer=[];for(let n=0;n<6;n++)e.bindFramebuffer(36160,r.__webglFramebuffer[n]),r.__webglDepthbuffer[n]=e.createRenderbuffer(),I(r.__webglDepthbuffer[n],t,!1)}else e.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),I(r.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function B(e){return s&&e.isWebGLMultisampleRenderTarget?Math.min(f,e.samples):0}let z=!1,j=!1;this.allocateTextureUnit=function(){const e=T;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),T+=1,e},this.resetTextureUnits=function(){T=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){const a=n.get(e);e.version>0&&a.__version!==e.version?O(a,e,t):(r.activeTexture(33984+t),r.bindTexture(35866,a.__webglTexture))},this.setTexture3D=function(e,t){const a=n.get(e);e.version>0&&a.__version!==e.version?O(a,e,t):(r.activeTexture(33984+t),r.bindTexture(32879,a.__webglTexture))},this.setTextureCube=A,this.setTextureCubeDynamic=C,this.setupRenderTarget=function(t){const a=n.get(t),c=n.get(t.texture);t.addEventListener("dispose",M),c.__webglTexture=e.createTexture(),o.memory.textures++;const d=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,f=m(t)||s;if(!s||1022!==t.texture.format||1015!==t.texture.type&&1016!==t.texture.type||(t.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),d){a.__webglFramebuffer=[];for(let t=0;t<6;t++)a.__webglFramebuffer[t]=e.createFramebuffer()}else if(a.__webglFramebuffer=e.createFramebuffer(),u)if(s){a.__webglMultisampledFramebuffer=e.createFramebuffer(),a.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,a.__webglColorRenderbuffer);const r=i.convert(t.texture.format),n=i.convert(t.texture.type),o=x(t.texture.internalFormat,r,n),s=B(t);e.renderbufferStorageMultisample(36161,s,o,t.width,t.height),e.bindFramebuffer(36160,a.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,a.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(a.__webglDepthRenderbuffer=e.createRenderbuffer(),I(a.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(d){r.bindTexture(34067,c.__webglTexture),R(34067,t.texture,f);for(let e=0;e<6;e++)D(a.__webglFramebuffer[e],t,36064,34069+e);v(t.texture,f)&&y(34067,t.texture,t.width,t.height),r.bindTexture(34067,null)}else r.bindTexture(3553,c.__webglTexture),R(3553,t.texture,f),D(a.__webglFramebuffer,t,36064,3553),v(t.texture,f)&&y(3553,t.texture,t.width,t.height),r.bindTexture(3553,null);t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){const t=e.texture;if(v(t,m(e)||s)){const a=e.isWebGLCubeRenderTarget?34067:3553,i=n.get(t).__webglTexture;r.bindTexture(a,i),y(a,t,e.width,e.height),r.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(s){const r=n.get(t);e.bindFramebuffer(36008,r.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,r.__webglFramebuffer);const a=t.width,i=t.height;let o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,a,i,0,0,a,i,o,9728),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===j&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),j=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?A(e,t):C(e,t)}}function ma(e,t,r){const n=r.isWebGL2;return{convert:function(e){let r;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e)return n?5131:(r=t.get("OES_texture_half_float"),null!==r?r.HALF_FLOAT_OES:null);if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(33776===e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(35840===e)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return r=t.get("WEBGL_compressed_texture_etc1"),null!==r?r.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&(r=t.get("WEBGL_compressed_texture_etc"),null!==r)){if(37492===e)return r.COMPRESSED_RGB8_ETC2;if(37496===e)return r.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?(r=t.get("WEBGL_compressed_texture_astc"),null!==r?e:null):36492===e?(r=t.get("EXT_texture_compression_bptc"),null!==r?e:null):1020===e?n?34042:(r=t.get("WEBGL_depth_texture"),null!==r?r.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function va(e){cr.call(this),this.cameras=e||[]}function ya(){de.call(this),this.type="Group"}function xa(){this._targetRay=null,this._grip=null}function wa(e,t){const r=this;let n=null,a=1,i=null,o="local-floor",s=null;const c=[],d=new Map,u=new cr;u.layers.enable(1),u.viewport=new R;const f=new cr;f.layers.enable(2),f.viewport=new R;const l=[u,f],h=new va;h.layers.enable(1),h.layers.enable(2);let p=null,b=null;function g(e){const t=d.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function m(){d.forEach((function(e,t){e.disconnect(t)})),d.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}function v(e){i=e,S.setContext(n),S.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}function y(e){const t=n.inputSources;for(let e=0;e<c.length;e++)d.set(t[e],c[e]);for(let t=0;t<e.removed.length;t++){const r=e.removed[t],n=d.get(r);n&&(n.dispatchEvent({type:"disconnected",data:r}),d.delete(r))}for(let t=0;t<e.added.length;t++){const r=e.added[t],n=d.get(r);n&&n.dispatchEvent({type:"connected",data:r})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=c[e];return void 0===t&&(t=new xa,c[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=c[e];return void 0===t&&(t=new xa,c[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){a=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===r.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return i},this.getSession=function(){return n},this.setSession=function(e){if(n=e,null!==n){n.addEventListener("select",g),n.addEventListener("selectstart",g),n.addEventListener("selectend",g),n.addEventListener("squeeze",g),n.addEventListener("squeezestart",g),n.addEventListener("squeezeend",g),n.addEventListener("end",m);const e=t.getContextAttributes();!0!==e.xrCompatible&&t.makeXRCompatible();const r={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:a},i=new XRWebGLLayer(n,t,r);n.updateRenderState({baseLayer:i}),n.requestReferenceSpace(o).then(v),n.addEventListener("inputsourceschange",y)}};const x=new B,w=new B;function _(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){h.near=f.near=u.near=e.near,h.far=f.far=u.far=e.far,p===h.near&&b===h.far||(n.updateRenderState({depthNear:h.near,depthFar:h.far}),p=h.near,b=h.far);const t=e.parent,r=h.cameras;_(h,t);for(let e=0;e<r.length;e++)_(r[e],t);e.matrixWorld.copy(h.matrixWorld);const a=e.children;for(let e=0,t=a.length;e<t;e++)a[e].updateMatrixWorld(!0);return 2===r.length?function(e,t,r){x.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(r.matrixWorld);const n=x.distanceTo(w),a=t.projectionMatrix.elements,i=r.projectionMatrix.elements,o=a[14]/(a[10]-1),s=a[14]/(a[10]+1),c=(a[9]+1)/a[5],d=(a[9]-1)/a[5],u=(a[8]-1)/a[0],f=(i[8]+1)/i[0],l=o*u,h=o*f,p=n/(-u+f),b=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(b),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);const g=o+p,m=s+p,v=l-b,y=h+(n-b),_=c*s/m*g,M=d*s/m*g;e.projectionMatrix.makePerspective(v,y,_,M,g,m)}(h,u,f):h.projectionMatrix.copy(u.projectionMatrix),h};let M=null;const S=new gr;S.setAnimationLoop((function(t,r){if(s=r.getViewerPose(i),null!==s){const t=s.views,r=n.renderState.baseLayer;e.setFramebuffer(r.framebuffer);let a=!1;t.length!==h.cameras.length&&(h.cameras.length=0,a=!0);for(let e=0;e<t.length;e++){const n=t[e],i=r.getViewport(n),o=l[e];o.matrix.fromArray(n.transform.matrix),o.projectionMatrix.fromArray(n.projectionMatrix),o.viewport.set(i.x,i.y,i.width,i.height),0===e&&h.matrix.copy(o.matrix),!0===a&&h.cameras.push(o)}}const a=n.inputSources;for(let e=0;e<c.length;e++){const t=c[e],n=a[e];t.update(n,r,i)}M&&M(t,r)})),this.setAnimationLoop=function(e){M=e},this.dispose=function(){}}function _a(e){function t(t,r,n){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap);const a=r.envMap||n;let i,o;a&&(t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio,t.maxMipLevel.value=e.get(a).__maxMipLevel),r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap&&(i=r.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),r.aoMap?o=r.aoMap:r.lightMap&&(o=r.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function r(e,t,r){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||r)&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,a,i,o){n.isMeshBasicMaterial?t(e,n):n.isMeshLambertMaterial?(t(e,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,n)):n.isMeshToonMaterial?(t(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshPhongMaterial?(t(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshStandardMaterial?(t(e,n,a),n.isMeshPhysicalMaterial?function(e,t,n){r(e,t,n),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(e,n,a):r(e,n,a)):n.isMeshMatcapMaterial?(t(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDepthMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDistanceMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?(t(e,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,r,n){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*n,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let a;t.map?a=t.map:t.alphaMap&&(a=t.alphaMap);void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),e.uvTransform.value.copy(a.matrix))}(e,n,i,o):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function Ma(e){const t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,a=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,d=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let f=null,l=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const h=this;let p=!1,b=null,g=0,m=0,v=null,y=null,x=-1,w=null,_=null;const M=new R,E=new R;let A=null,C=t.width,L=t.height,P=1,k=null,O=null;const D=new R(0,0,C,L),I=new R(0,0,C,L);let N=!1;const z=new pr,j=new Er;let F=!1,U=!1;const G=new W,H=new B,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function q(){return null===v?P:1}let X,Y,Z,J,Q,K,$,ee,te,re,ne,ae,ie,oe,se,ce,de,ue,fe,le=r;function he(e,r){for(let n=0;n<e.length;n++){const a=e[n],i=t.getContext(a,r);if(null!==i)return i}return null}try{const e={alpha:n,depth:a,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",me,!1),t.addEventListener("webglcontextrestored",ve,!1),null===le){const t=["webgl2","webgl","experimental-webgl"];if(!0===h.isWebGL1Renderer&&t.shift(),le=he(t,e),null===le)throw he(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function pe(){X=new Ar(le),Y=new Tr(le,X,e),!1===Y.isWebGL2&&(X.get("WEBGL_depth_texture"),X.get("OES_texture_float"),X.get("OES_texture_half_float"),X.get("OES_texture_half_float_linear"),X.get("OES_standard_derivatives"),X.get("OES_element_index_uint"),X.get("OES_vertex_array_object"),X.get("ANGLE_instanced_arrays")),X.get("OES_texture_float_linear"),ue=new ma(le,X,Y),Z=new ba(le,X,Y),Z.scissor(E.copy(I).multiplyScalar(P).floor()),Z.viewport(M.copy(D).multiplyScalar(P).floor()),J=new Pr(le),Q=new ta,K=new ga(le,X,Z,Q,Y,ue,J),$=new mr(le,Y),fe=new Mr(le,X,$,Y),ee=new Cr(le,$,J,fe),te=new Dr(le,ee,$,J),se=new Or(le),re=new ea(h,X,Y,fe),ne=new _a(Q),ae=new ia,ie=new fa,oe=new _r(h,Z,te,s),ce=new Sr(le,X,J,Y),de=new Lr(le,X,J,Y),J.programs=re.programs,h.capabilities=Y,h.extensions=X,h.properties=Q,h.renderLists=ae,h.state=Z,h.info=J}pe();const be=new wa(h,le);this.xr=be;const ge=new pa(h,te,Y.maxTextureSize);function me(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,pe()}function ye(e){const t=e.target;t.removeEventListener("dispose",ye),function(e){xe(e),Q.remove(e)}(t)}function xe(e){const t=Q.get(e).program;e.program=void 0,void 0!==t&&re.releaseProgram(t)}this.shadowMap=ge,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const e=X.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=X.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(C,L,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new T),e.set(C,L)},this.setSize=function(e,r,n){be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=e,L=r,t.width=Math.floor(e*P),t.height=Math.floor(r*P),!1!==n&&(t.style.width=e+"px",t.style.height=r+"px"),this.setViewport(0,0,e,r))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new T),e.set(C*P,L*P).floor()},this.setDrawingBufferSize=function(e,r,n){C=e,L=r,P=n,t.width=Math.floor(e*n),t.height=Math.floor(r*n),this.setViewport(0,0,e,r)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new R),e.copy(M)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,r,n){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,r,n),Z.viewport(M.copy(D).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,r,n){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,r,n),Z.scissor(E.copy(I).multiplyScalar(P).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){Z.setScissorTest(N=e)},this.setOpaqueSort=function(e){k=e},this.setTransparentSort=function(e){O=e},this.getClearColor=function(){return oe.getClearColor()},this.setClearColor=function(){oe.setClearColor.apply(oe,arguments)},this.getClearAlpha=function(){return oe.getClearAlpha()},this.setClearAlpha=function(){oe.setClearAlpha.apply(oe,arguments)},this.clear=function(e,t,r){let n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===r||r)&&(n|=1024),le.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",me,!1),t.removeEventListener("webglcontextrestored",ve,!1),ae.dispose(),ie.dispose(),Q.dispose(),te.dispose(),fe.dispose(),be.dispose(),_e.stop()},this.renderBufferImmediate=function(e,t){fe.initAttributes();const r=Q.get(e);e.hasPositions&&!r.position&&(r.position=le.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=le.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=le.createBuffer()),e.hasColors&&!r.color&&(r.color=le.createBuffer());const n=t.getAttributes();e.hasPositions&&(le.bindBuffer(34962,r.position),le.bufferData(34962,e.positionArray,35048),fe.enableAttribute(n.position),le.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(le.bindBuffer(34962,r.normal),le.bufferData(34962,e.normalArray,35048),fe.enableAttribute(n.normal),le.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(le.bindBuffer(34962,r.uv),le.bufferData(34962,e.uvArray,35048),fe.enableAttribute(n.uv),le.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(le.bindBuffer(34962,r.color),le.bufferData(34962,e.colorArray,35048),fe.enableAttribute(n.color),le.vertexAttribPointer(n.color,3,5126,!1,0,0)),fe.disableUnusedAttributes(),le.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,a,i){null===t&&(t=V);const o=a.isMesh&&a.matrixWorld.determinant()<0,s=Ae(e,t,n,a);Z.setMaterial(n,o);let c=r.index;const d=r.attributes.position;if(null===c){if(void 0===d||0===d.count)return}else if(0===c.count)return;let u,f=1;!0===n.wireframe&&(c=ee.getWireframeAttribute(r),f=2),(n.morphTargets||n.morphNormals)&&se.update(a,r,n,s),fe.setup(a,n,s,r,c);let l=ce;null!==c&&(u=$.get(c),l=de,l.setIndex(u));const h=null!==c?c.count:d.count,p=r.drawRange.start*f,b=r.drawRange.count*f,g=null!==i?i.start*f:0,m=null!==i?i.count*f:1/0,v=Math.max(p,g),y=Math.min(h,p+b,g+m)-1,x=Math.max(0,y-v+1);if(0!==x){if(a.isMesh)!0===n.wireframe?(Z.setLineWidth(n.wireframeLinewidth*q()),l.setMode(1)):l.setMode(4);else if(a.isLine){let e=n.linewidth;void 0===e&&(e=1),Z.setLineWidth(e*q()),a.isLineSegments?l.setMode(1):a.isLineLoop?l.setMode(2):l.setMode(3)}else a.isPoints?l.setMode(0):a.isSprite&&l.setMode(4);if(a.isInstancedMesh)l.renderInstances(r,v,x,a.count);else if(r.isInstancedBufferGeometry){const e=Math.min(r.instanceCount,r._maxInstanceCount);l.renderInstances(r,v,x,e)}else l.render(v,x)}},this.compile=function(e,t){l=ie.get(e,t),l.init(),e.traverse((function(e){e.isLight&&(l.pushLight(e),e.castShadow&&l.pushShadow(e))})),l.setupLights(t);const r=new WeakMap;e.traverse((function(t){let n=t.material;if(n)if(Array.isArray(n))for(let a=0;a<n.length;a++){let i=n[a];!1===r.has(i)&&(Ee(i,e,t),r.set(i))}else!1===r.has(n)&&(Ee(n,e,t),r.set(n))}))};let we=null;const _e=new gr;function Me(e,t,r,n){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)l.pushLight(e),e.castShadow&&l.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||z.intersectsSprite(e)){n&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G);const t=te.update(e),a=e.material;a.visible&&f.push(e,t,a,r,H.z,null)}}else if(e.isImmediateRenderObject)n&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G),f.push(e,null,e.material,r,H.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==J.render.frame&&(e.skeleton.update(),e.skeleton.frame=J.render.frame),!e.frustumCulled||z.intersectsObject(e))){n&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(G);const t=te.update(e),a=e.material;if(Array.isArray(a)){const n=t.groups;for(let i=0,o=n.length;i<o;i++){const o=n[i],s=a[o.materialIndex];s&&s.visible&&f.push(e,t,s,r,H.z,o)}}else a.visible&&f.push(e,t,a,r,H.z,null)}const a=e.children;for(let e=0,i=a.length;e<i;e++)Me(a[e],t,r,n)}function Se(e,t,r){const n=!0===t.isScene?t.overrideMaterial:null;for(let a=0,i=e.length;a<i;a++){const i=e[a],o=i.object,s=i.geometry,c=null===n?i.material:n,d=i.group;if(r.isArrayCamera){_=r;const e=r.cameras;for(let r=0,n=e.length;r<n;r++){const n=e[r];o.layers.test(n.layers)&&(Z.viewport(M.copy(n.viewport)),l.setupLights(n),Te(o,t,n,s,c,d))}}else _=null,Te(o,t,r,s,c,d)}}function Te(e,t,r,n,a,i){if(e.onBeforeRender(h,t,r,n,a,i),l=ie.get(t,_||r),e.modelViewMatrix.multiplyMatrices(r.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const n=Ae(r,t,a,e);Z.setMaterial(a),fe.reset(),function(e,t){e.render((function(e){h.renderBufferImmediate(e,t)}))}(e,n)}else h.renderBufferDirect(r,t,n,a,e,i);e.onAfterRender(h,t,r,n,a,i),l=ie.get(t,_||r)}function Ee(e,t,r){!0!==t.isScene&&(t=V);const n=Q.get(e),a=l.state.lights,i=l.state.shadowsArray,o=a.state.version,s=re.getParameters(e,a.state,i,t,j.numPlanes,j.numIntersection,r),c=re.getProgramCacheKey(s);let d=n.program,u=!0;if(void 0===d)e.addEventListener("dispose",ye);else if(d.cacheKey!==c)xe(e);else if(n.lightsStateVersion!==o)n.lightsStateVersion=o,u=!1;else{if(void 0!==s.shaderID)return;u=!1}u&&(d=re.acquireProgram(s,c),n.program=d,n.uniforms=s.uniforms,n.outputEncoding=s.outputEncoding,e.program=d);const f=d.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(let t=0;t<h.maxMorphTargets;t++)f["morphTarget"+t]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(let t=0;t<h.maxMorphNormals;t++)f["morphNormal"+t]>=0&&e.numSupportedMorphNormals++}const p=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=j.numPlanes,n.numIntersection=j.numIntersection,p.clippingPlanes=j.uniform),n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=o,n.needsLights&&(p.ambientLightColor.value=a.state.ambient,p.lightProbe.value=a.state.probe,p.directionalLights.value=a.state.directional,p.directionalLightShadows.value=a.state.directionalShadow,p.spotLights.value=a.state.spot,p.spotLightShadows.value=a.state.spotShadow,p.rectAreaLights.value=a.state.rectArea,p.pointLights.value=a.state.point,p.pointLightShadows.value=a.state.pointShadow,p.hemisphereLights.value=a.state.hemi,p.directionalShadowMap.value=a.state.directionalShadowMap,p.directionalShadowMatrix.value=a.state.directionalShadowMatrix,p.spotShadowMap.value=a.state.spotShadowMap,p.spotShadowMatrix.value=a.state.spotShadowMatrix,p.pointShadowMap.value=a.state.pointShadowMap,p.pointShadowMatrix.value=a.state.pointShadowMatrix);const b=n.program.getUniforms(),g=On.seqWithValue(b.seq,p);n.uniformsList=g}function Ae(e,t,r,n){!0!==t.isScene&&(t=V),K.resetTextureUnits();const a=t.fog,i=r.isMeshStandardMaterial?t.environment:null,o=null===v?h.outputEncoding:v.texture.encoding,s=Q.get(r),c=l.state.lights;if(!0===F&&(!0===U||e!==w)){const t=e===w&&r.id===x;j.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,s,t)}r.version===s.__version?void 0===s.program||r.fog&&s.fog!==a||s.environment!==i||s.needsLights&&s.lightsStateVersion!==c.state.version?Ee(r,t,n):void 0===s.numClippingPlanes||s.numClippingPlanes===j.numPlanes&&s.numIntersection===j.numIntersection?s.outputEncoding!==o&&Ee(r,t,n):Ee(r,t,n):(Ee(r,t,n),s.__version=r.version);let d=!1,u=!1,f=!1;const p=s.program,b=p.getUniforms(),g=s.uniforms;if(Z.useProgram(p.program)&&(d=!0,u=!0,f=!0),r.id!==x&&(x=r.id,u=!0),d||w!==e){if(b.setValue(le,"projectionMatrix",e.projectionMatrix),Y.logarithmicDepthBuffer&&b.setValue(le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,u=!0,f=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=b.map.cameraPosition;void 0!==t&&t.setValue(le,H.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&b.setValue(le,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||r.skinning)&&b.setValue(le,"viewMatrix",e.matrixWorldInverse)}if(r.skinning){b.setOptional(le,n,"bindMatrix"),b.setOptional(le,n,"bindMatrixInverse");const e=n.skeleton;if(e){const t=e.bones;if(Y.floatVertexTextures){if(void 0===e.boneTexture){let r=Math.sqrt(4*t.length);r=S.ceilPowerOfTwo(r),r=Math.max(r,4);const n=new Float32Array(r*r*4);n.set(e.boneMatrices);const a=new fr(n,r,r,1023,1015);e.boneMatrices=n,e.boneTexture=a,e.boneTextureSize=r}b.setValue(le,"boneTexture",e.boneTexture,K),b.setValue(le,"boneTextureSize",e.boneTextureSize)}else b.setOptional(le,e,"boneMatrices")}}var m,y;return(u||s.receiveShadow!==n.receiveShadow)&&(s.receiveShadow=n.receiveShadow,b.setValue(le,"receiveShadow",n.receiveShadow)),u&&(b.setValue(le,"toneMappingExposure",h.toneMappingExposure),s.needsLights&&(y=f,(m=g).ambientLightColor.needsUpdate=y,m.lightProbe.needsUpdate=y,m.directionalLights.needsUpdate=y,m.directionalLightShadows.needsUpdate=y,m.pointLights.needsUpdate=y,m.pointLightShadows.needsUpdate=y,m.spotLights.needsUpdate=y,m.spotLightShadows.needsUpdate=y,m.rectAreaLights.needsUpdate=y,m.hemisphereLights.needsUpdate=y),a&&r.fog&&ne.refreshFogUniforms(g,a),ne.refreshMaterialUniforms(g,r,i,P,L),void 0!==g.ltc_1&&(g.ltc_1.value=br.LTC_1),void 0!==g.ltc_2&&(g.ltc_2.value=br.LTC_2),On.upload(le,s.uniformsList,g,K)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(On.upload(le,s.uniformsList,g,K),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&b.setValue(le,"center",n.center),b.setValue(le,"modelViewMatrix",n.modelViewMatrix),b.setValue(le,"normalMatrix",n.normalMatrix),b.setValue(le,"modelMatrix",n.matrixWorld),p}_e.setAnimationLoop((function(e){be.isPresenting||we&&we(e)})),"undefined"!=typeof window&&_e.setContext(window),this.setAnimationLoop=function(e){we=e,be.setAnimationLoop(e),null===e?_e.stop():_e.start()},this.render=function(e,t){let r,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===p)return;fe.resetDefaultState(),x=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(t=be.getCamera(t)),!0===e.isScene&&e.onBeforeRender(h,e,t,r||v),l=ie.get(e,t),l.init(),G.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),z.setFromProjectionMatrix(G),U=this.localClippingEnabled,F=j.init(this.clippingPlanes,U,t),f=ae.get(e,t),f.init(),Me(e,t,0,h.sortObjects),f.finish(),!0===h.sortObjects&&f.sort(k,O),!0===F&&j.beginShadows();const a=l.state.shadowsArray;ge.render(a,e,t),l.setupLights(t),!0===F&&j.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),oe.render(f,e,t,n);const i=f.opaque,o=f.transparent;i.length>0&&Se(i,e,t),o.length>0&&Se(o,e,t),!0===e.isScene&&e.onAfterRender(h,e,t),null!==v&&(K.updateRenderTargetMipmap(v),K.updateMultisampleRenderTarget(v)),Z.buffers.depth.setTest(!0),Z.buffers.depth.setMask(!0),Z.buffers.color.setMask(!0),Z.setPolygonOffset(!1),f=null,l=null},this.setFramebuffer=function(e){b!==e&&null===v&&le.bindFramebuffer(36160,e),b=e},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return m},this.getRenderTarget=function(){return v},this.setRenderTarget=function(e,t,r){v=e,g=t,m=r,e&&void 0===Q.get(e).__webglFramebuffer&&K.setupRenderTarget(e);let n=b,a=!1;if(e){const r=Q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(n=r[t||0],a=!0):n=e.isWebGLMultisampleRenderTarget?Q.get(e).__webglMultisampledFramebuffer:r,M.copy(e.viewport),E.copy(e.scissor),A=e.scissorTest}else M.copy(D).multiplyScalar(P).floor(),E.copy(I).multiplyScalar(P).floor(),A=N;if(y!==n&&(le.bindFramebuffer(36160,n),y=n),Z.viewport(M),Z.scissor(E),Z.setScissorTest(A),a){const n=Q.get(e.texture);le.framebufferTexture2D(36160,36064,34069+(t||0),n.__webglTexture,r||0)}},this.readRenderTargetPixels=function(e,t,r,n,a,i,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){let o=!1;s!==y&&(le.bindFramebuffer(36160,s),o=!0);try{const s=e.texture,c=s.format,d=s.type;if(1023!==c&&ue.convert(c)!==le.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===d||ue.convert(d)===le.getParameter(35738)||1015===d&&(Y.isWebGL2||X.get("OES_texture_float")||X.get("WEBGL_color_buffer_float"))||1016===d&&(Y.isWebGL2?X.get("EXT_color_buffer_float"):X.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===le.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&r>=0&&r<=e.height-a&&le.readPixels(t,r,n,a,ue.convert(c),ue.convert(d),i):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{o&&le.bindFramebuffer(36160,y)}}},this.copyFramebufferToTexture=function(e,t,r){void 0===r&&(r=0);const n=Math.pow(2,-r),a=Math.floor(t.image.width*n),i=Math.floor(t.image.height*n),o=ue.convert(t.format);K.setTexture2D(t,0),le.copyTexImage2D(3553,r,o,e.x,e.y,a,i,0),Z.unbindTexture()},this.copyTextureToTexture=function(e,t,r,n){void 0===n&&(n=0);const a=t.image.width,i=t.image.height,o=ue.convert(r.format),s=ue.convert(r.type);K.setTexture2D(r,0),le.pixelStorei(37440,r.flipY),le.pixelStorei(37441,r.premultiplyAlpha),le.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?le.texSubImage2D(3553,n,e.x,e.y,a,i,o,s,t.image.data):t.isCompressedTexture?le.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):le.texSubImage2D(3553,n,e.x,e.y,o,s,t.image),0===n&&r.generateMipmaps&&le.generateMipmap(3553),Z.unbindTexture()},this.initTexture=function(e){K.setTexture2D(e,0),Z.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Sa(e){Ma.call(this,e)}function Ta(e,t){this.name="",this.color=new et(e),this.density=void 0!==t?t:25e-5}function Ea(e,t,r){this.name="",this.color=new et(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3}function Aa(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=S.generateUUID()}y.WebGLUtils=ma,y.ArrayCamera=va,va.prototype=Object.assign(Object.create(cr.prototype),{constructor:va,isArrayCamera:!0}),y.Group=ya,ya.prototype=Object.assign(Object.create(de.prototype),{constructor:ya,isGroup:!0}),Object.assign(xa.prototype,{constructor:xa,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new ya,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new ya,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,r){let n=null,a=null;const i=this._targetRay,o=this._grip;return e&&(null!==i&&(n=t.getPose(e.targetRaySpace,r),null!==n&&(i.matrix.fromArray(n.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale))),null!==o&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),null!==a&&(o.matrix.fromArray(a.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)))),null!==i&&(i.visible=null!==n),null!==o&&(o.visible=null!==a),this}}),Object.assign(wa.prototype,_.prototype),y.WebGLRenderer=Ma,y.WebGL1Renderer=Sa,Sa.prototype=Object.assign(Object.create(Ma.prototype),{constructor:Sa,isWebGL1Renderer:!0}),y.FogExp2=Ta,Object.assign(Ta.prototype,{isFogExp2:!0,clone:function(){return new Ta(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),y.Fog=Ea,Object.assign(Ea.prototype,{isFog:!0,clone:function(){return new Ea(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),y.InterleavedBuffer=Aa,Object.defineProperty(Aa.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Aa.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,r){e*=this.stride,r*=t.stride;for(let n=0,a=this.stride;n<a;n++)this.array[e+n]=t.array[r+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=S.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new Aa(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=S.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const Ca=new B;function La(e,t,r,n){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===n}function Pa(e){ot.call(this),this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}let Ra;y.InterleavedBufferAttribute=La,Object.defineProperties(La.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(La.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,r=this.data.count;t<r;t++)Ca.x=this.getX(t),Ca.y=this.getY(t),Ca.z=this.getZ(t),Ca.applyMatrix4(e),this.setXYZ(t,Ca.x,Ca.y,Ca.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this},setXYZW:function(e,t,r,n,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=a,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return new ut(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new La(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const r=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[r+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),y.SpriteMaterial=Pa,Pa.prototype=Object.create(ot.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isSpriteMaterial=!0,Pa.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};const ka=new B,Oa=new B,Da=new B,Ia=new T,Na=new T,Ba=new W,za=new B,ja=new B,Fa=new B,Ua=new T,Ga=new T,Ha=new T;function Va(e){if(de.call(this),this.type="Sprite",void 0===Ra){Ra=new Lt;const e=new Aa(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Ra.setIndex([0,1,2,0,2,3]),Ra.setAttribute("position",new La(e,3,0,!1)),Ra.setAttribute("uv",new La(e,2,3,!1))}this.geometry=Ra,this.material=void 0!==e?e:new Pa,this.center=new T(.5,.5)}function Wa(e,t,r,n,a,i){Ia.subVectors(e,r).addScalar(.5).multiply(n),void 0!==a?(Na.x=i*Ia.x-a*Ia.y,Na.y=a*Ia.x+i*Ia.y):Na.copy(Ia),e.copy(t),e.x+=Na.x,e.y+=Na.y,e.applyMatrix4(Ba)}y.Sprite=Va,Va.prototype=Object.assign(Object.create(de.prototype),{constructor:Va,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Oa.setFromMatrixScale(this.matrixWorld),Ba.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Da.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Oa.multiplyScalar(-Da.z);const r=this.material.rotation;let n,a;0!==r&&(a=Math.cos(r),n=Math.sin(r));const i=this.center;Wa(za.set(-.5,-.5,0),Da,i,Oa,n,a),Wa(ja.set(.5,-.5,0),Da,i,Oa,n,a),Wa(Fa.set(.5,.5,0),Da,i,Oa,n,a),Ua.set(0,0),Ga.set(1,0),Ha.set(1,1);let o=e.ray.intersectTriangle(za,ja,Fa,!1,ka);if(null===o&&(Wa(ja.set(-.5,.5,0),Da,i,Oa,n,a),Ga.set(0,1),o=e.ray.intersectTriangle(za,Fa,ja,!1,ka),null===o))return;const s=e.ray.origin.distanceTo(ka);s<e.near||s>e.far||t.push({distance:s,point:ka.clone(),uv:Je.getUV(ka,za,ja,Fa,Ua,Ga,Ha,new T),face:null,object:this})},copy:function(e){return de.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});const qa=new B,Xa=new B;function Ya(){de.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Za(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Xt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new W,this.bindMatrixInverse=new W}y.LOD=Ya,Ya.prototype=Object.assign(Object.create(de.prototype),{constructor:Ya,isLOD:!0,copy:function(e){de.prototype.copy.call(this,e,!1);const t=e.levels;for(let e=0,r=t.length;e<r;e++){const r=t[e];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);const r=this.levels;let n;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let r,n;for(r=1,n=t.length;r<n&&!(e<t[r].distance);r++);return t[r-1].object}return null},raycast:function(e,t){if(this.levels.length>0){qa.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(qa);this.getObjectForDistance(r).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){qa.setFromMatrixPosition(e.matrixWorld),Xa.setFromMatrixPosition(this.matrixWorld);const r=qa.distanceTo(Xa)/e.zoom;let n,a;for(t[0].object.visible=!0,n=1,a=t.length;n<a&&r>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<a;n++)t[n].object.visible=!1}},toJSON:function(e){const t=de.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let e=0,n=r.length;e<n;e++){const n=r[e];t.object.levels.push({object:n.object.uuid,distance:n.distance})}return t}}),y.SkinnedMesh=Za,Za.prototype=Object.assign(Object.create(Xt.prototype),{constructor:Za,isSkinnedMesh:!0,copy:function(e){return Xt.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new R,t=this.geometry.attributes.skinWeight;for(let r=0,n=t.count;r<n;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const n=1/e.manhattanLength();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Xt.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new B,t=new R,r=new R,n=new B,a=new W;return function(i,o){const s=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,i),r.fromBufferAttribute(c.attributes.skinWeight,i),e.fromBufferAttribute(c.attributes.position,i).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(let i=0;i<4;i++){const c=r.getComponent(i);if(0!==c){const r=t.getComponent(i);a.multiplyMatrices(s.bones[r].matrixWorld,s.boneInverses[r]),o.addScaledVector(n.copy(e).applyMatrix4(a),c)}}return o.applyMatrix4(this.bindMatrixInverse)}}()});const Ja=new W,Qa=new W;function Ka(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new W)}}function $a(){de.call(this),this.type="Bone"}y.Skeleton=Ka,Object.assign(Ka.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const t=new W;this.bones[e]&&t.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(t)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}},update:function(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture;for(let n=0,a=e.length;n<a;n++){const a=e[n]?e[n].matrixWorld:Qa;Ja.multiplyMatrices(a,t[n]),Ja.toArray(r,16*n)}void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new Ka(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,r=this.bones.length;t<r;t++){const r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),y.Bone=$a,$a.prototype=Object.assign(Object.create(de.prototype),{constructor:$a,isBone:!0});const ei=new W,ti=new W,ri=[],ni=new Xt;function ai(e,t,r){Xt.call(this,e,t),this.instanceMatrix=new ut(new Float32Array(16*r),16),this.count=r,this.frustumCulled=!1}function ii(e){ot.call(this),this.type="LineBasicMaterial",this.color=new et(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}y.InstancedMesh=ai,ai.prototype=Object.assign(Object.create(Xt.prototype),{constructor:ai,isInstancedMesh:!0,copy:function(e){return Xt.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){const r=this.matrixWorld,n=this.count;if(ni.geometry=this.geometry,ni.material=this.material,void 0!==ni.material)for(let a=0;a<n;a++){this.getMatrixAt(a,ei),ti.multiplyMatrices(r,ei),ni.matrixWorld=ti,ni.raycast(e,ri);for(let e=0,r=ri.length;e<r;e++){const r=ri[e];r.instanceId=a,r.object=this,t.push(r)}ri.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),y.LineBasicMaterial=ii,ii.prototype=Object.create(ot.prototype),ii.prototype.constructor=ii,ii.prototype.isLineBasicMaterial=!0,ii.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const oi=new B,si=new B,ci=new W,di=new Ie,ui=new Ae;function fi(e,t,r){1===r&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),de.call(this),this.type="Line",this.geometry=void 0!==e?e:new Lt,this.material=void 0!==t?t:new ii,this.updateMorphTargets()}y.Line=fi,fi.prototype=Object.assign(Object.create(de.prototype),{constructor:fi,isLine:!0,copy:function(e){return de.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[0];for(let e=1,n=t.count;e<n;e++)oi.fromBufferAttribute(t,e-1),si.fromBufferAttribute(t,e),r[e]=r[e-1],r[e]+=oi.distanceTo(si);e.setAttribute("lineDistance",new vt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,r=e.lineDistances;r[0]=0;for(let e=1,n=t.length;e<n;e++)r[e]=r[e-1],r[e]+=t[e-1].distanceTo(t[e])}return this},raycast:function(e,t){const r=this.geometry,n=this.matrixWorld,a=e.params.Line.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),ui.copy(r.boundingSphere),ui.applyMatrix4(n),ui.radius+=a,!1===e.ray.intersectsSphere(ui))return;ci.getInverse(n),di.copy(e.ray).applyMatrix4(ci);const i=a/((this.scale.x+this.scale.y+this.scale.z)/3),o=i*i,s=new B,c=new B,d=new B,u=new B,f=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){const n=r.index,a=r.attributes.position.array;if(null!==n){const r=n.array;for(let n=0,i=r.length-1;n<i;n+=f){const i=r[n],f=r[n+1];s.fromArray(a,3*i),c.fromArray(a,3*f);if(di.distanceSqToSegment(s,c,u,d)>o)continue;u.applyMatrix4(this.matrixWorld);const l=e.ray.origin.distanceTo(u);l<e.near||l>e.far||t.push({distance:l,point:d.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else for(let r=0,n=a.length/3-1;r<n;r+=f){s.fromArray(a,3*r),c.fromArray(a,3*r+3);if(di.distanceSqToSegment(s,c,u,d)>o)continue;u.applyMatrix4(this.matrixWorld);const n=e.ray.origin.distanceTo(u);n<e.near||n>e.far||t.push({distance:n,point:d.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else if(r.isGeometry){const n=r.vertices,a=n.length;for(let r=0;r<a-1;r+=f){if(di.distanceSqToSegment(n[r],n[r+1],u,d)>o)continue;u.applyMatrix4(this.matrixWorld);const a=e.ray.origin.distanceTo(u);a<e.near||a>e.far||t.push({distance:a,point:d.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const li=new B,hi=new B;function pi(e,t){fi.call(this,e,t),this.type="LineSegments"}function bi(e,t){fi.call(this,e,t),this.type="LineLoop"}function gi(e){ot.call(this),this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}y.LineSegments=pi,pi.prototype=Object.assign(Object.create(fi.prototype),{constructor:pi,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,r=[];for(let e=0,n=t.count;e<n;e+=2)li.fromBufferAttribute(t,e),hi.fromBufferAttribute(t,e+1),r[e]=0===e?0:r[e-1],r[e+1]=r[e]+li.distanceTo(hi);e.setAttribute("lineDistance",new vt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,r=e.lineDistances;for(let e=0,n=t.length;e<n;e+=2)li.copy(t[e]),hi.copy(t[e+1]),r[e]=0===e?0:r[e-1],r[e+1]=r[e]+li.distanceTo(hi)}return this}}),y.LineLoop=bi,bi.prototype=Object.assign(Object.create(fi.prototype),{constructor:bi,isLineLoop:!0}),y.PointsMaterial=gi,gi.prototype=Object.create(ot.prototype),gi.prototype.constructor=gi,gi.prototype.isPointsMaterial=!0,gi.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const mi=new W,vi=new Ie,yi=new Ae,xi=new B;function wi(e,t){de.call(this),this.type="Points",this.geometry=void 0!==e?e:new Lt,this.material=void 0!==t?t:new gi,this.updateMorphTargets()}function _i(e,t,r,n,a,i,o){const s=vi.distanceSqToPoint(e);if(s<r){const r=new B;vi.closestPointToPoint(e,r),r.applyMatrix4(n);const c=a.ray.origin.distanceTo(r);if(c<a.near||c>a.far)return;i.push({distance:c,distanceToRay:Math.sqrt(s),point:r,index:t,face:null,object:o})}}function Mi(e,t,r,n,a,i,o,s,c){P.call(this,e,t,r,n,a,i,o,s,c),this.format=void 0!==o?o:1022,this.minFilter=void 0!==i?i:1006,this.magFilter=void 0!==a?a:1006,this.generateMipmaps=!1}function Si(e,t,r,n,a,i,o,s,c,d,u,f){P.call(this,null,i,o,s,c,d,n,a,u,f),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ti(e,t,r,n,a,i,o,s,c){P.call(this,e,t,r,n,a,i,o,s,c),this.needsUpdate=!0}function Ei(e,t,r,n,a,i,o,s,c,d){if(1026!==(d=void 0!==d?d:1026)&&1027!==d)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===r&&1026===d&&(r=1012),void 0===r&&1027===d&&(r=1020),P.call(this,null,n,a,i,o,s,d,r,c),this.image={width:e,height:t},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}function Ai(e){Lt.call(this),this.type="WireframeGeometry";const t=[],r=[0,0],n={},a=["a","b","c"];if(e&&e.isGeometry){const i=e.faces;for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0;e<3;e++){const i=t[a[e]],o=t[a[(e+1)%3]];r[0]=Math.min(i,o),r[1]=Math.max(i,o);const s=r[0]+","+r[1];void 0===n[s]&&(n[s]={index1:r[0],index2:r[1]})}}for(const r in n){const a=n[r];let i=e.vertices[a.index1];t.push(i.x,i.y,i.z),i=e.vertices[a.index2],t.push(i.x,i.y,i.z)}}else if(e&&e.isBufferGeometry){let a=new B;if(null!==e.index){const i=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,t=s.length;e<t;++e){const t=s[e],a=t.start;for(let e=a,i=a+t.count;e<i;e+=3)for(let t=0;t<3;t++){const a=o.getX(e+t),i=o.getX(e+(t+1)%3);r[0]=Math.min(a,i),r[1]=Math.max(a,i);const s=r[0]+","+r[1];void 0===n[s]&&(n[s]={index1:r[0],index2:r[1]})}}for(const e in n){const r=n[e];a.fromBufferAttribute(i,r.index1),t.push(a.x,a.y,a.z),a.fromBufferAttribute(i,r.index2),t.push(a.x,a.y,a.z)}}else{const r=e.attributes.position;for(let e=0,n=r.count/3;e<n;e++)for(let n=0;n<3;n++){const i=3*e+n;a.fromBufferAttribute(r,i),t.push(a.x,a.y,a.z);const o=3*e+(n+1)%3;a.fromBufferAttribute(r,o),t.push(a.x,a.y,a.z)}}}this.setAttribute("position",new vt(t,3))}function Ci(e,t,r){er.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r},this.fromBufferGeometry(new Li(e,t,r)),this.mergeVertices()}function Li(e,t,r){Lt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:r};const n=[],a=[],i=[],o=[],s=1e-5,c=new B,d=new B,u=new B,f=new B,l=new B;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const h=t+1;for(let n=0;n<=r;n++){const h=n/r;for(let r=0;r<=t;r++){const n=r/t;e(n,h,d),a.push(d.x,d.y,d.z),n-s>=0?(e(n-s,h,u),f.subVectors(d,u)):(e(n+s,h,u),f.subVectors(u,d)),h-s>=0?(e(n,h-s,u),l.subVectors(d,u)):(e(n,h+s,u),l.subVectors(u,d)),c.crossVectors(f,l).normalize(),i.push(c.x,c.y,c.z),o.push(n,h)}}for(let e=0;e<r;e++)for(let r=0;r<t;r++){const t=e*h+r,a=e*h+r+1,i=(e+1)*h+r+1,o=(e+1)*h+r;n.push(t,a,o),n.push(a,i,o)}this.setIndex(n),this.setAttribute("position",new vt(a,3)),this.setAttribute("normal",new vt(i,3)),this.setAttribute("uv",new vt(o,2))}function Pi(e,t,r,n){er.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},this.fromBufferGeometry(new Ri(e,t,r,n)),this.mergeVertices()}function Ri(e,t,r,n){Lt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1;const a=[],i=[];function o(e,t,r,n){const a=Math.pow(2,n),i=[];for(let n=0;n<=a;n++){i[n]=[];const o=e.clone().lerp(r,n/a),s=t.clone().lerp(r,n/a),c=a-n;for(let e=0;e<=c;e++)i[n][e]=0===e&&n===a?o:o.clone().lerp(s,e/c)}for(let e=0;e<a;e++)for(let t=0;t<2*(a-e)-1;t++){const r=Math.floor(t/2);t%2==0?(s(i[e][r+1]),s(i[e+1][r]),s(i[e][r])):(s(i[e][r+1]),s(i[e+1][r+1]),s(i[e+1][r]))}}function s(e){a.push(e.x,e.y,e.z)}function c(t,r){const n=3*t;r.x=e[n+0],r.y=e[n+1],r.z=e[n+2]}function d(e,t,r,n){n<0&&1===e.x&&(i[t]=e.x-1),0===r.x&&0===r.z&&(i[t]=n/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const r=new B,n=new B,a=new B;for(let i=0;i<t.length;i+=3)c(t[i+0],r),c(t[i+1],n),c(t[i+2],a),o(r,n,a,e)}(n=n||0),function(e){const t=new B;for(let r=0;r<a.length;r+=3)t.x=a[r+0],t.y=a[r+1],t.z=a[r+2],t.normalize().multiplyScalar(e),a[r+0]=t.x,a[r+1]=t.y,a[r+2]=t.z}(r),function(){const e=new B;for(let r=0;r<a.length;r+=3){e.x=a[r+0],e.y=a[r+1],e.z=a[r+2];const n=u(e)/2/Math.PI+.5,o=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);i.push(n,1-o)}var t;(function(){const e=new B,t=new B,r=new B,n=new B,o=new T,s=new T,c=new T;for(let f=0,l=0;f<a.length;f+=9,l+=6){e.set(a[f+0],a[f+1],a[f+2]),t.set(a[f+3],a[f+4],a[f+5]),r.set(a[f+6],a[f+7],a[f+8]),o.set(i[l+0],i[l+1]),s.set(i[l+2],i[l+3]),c.set(i[l+4],i[l+5]),n.copy(e).add(t).add(r).divideScalar(3);const h=u(n);d(o,l+0,e,h),d(s,l+2,t,h),d(c,l+4,r,h)}})(),function(){for(let e=0;e<i.length;e+=6){const t=i[e+0],r=i[e+2],n=i[e+4],a=Math.max(t,r,n),o=Math.min(t,r,n);a>.9&&o<.1&&(t<.2&&(i[e+0]+=1),r<.2&&(i[e+2]+=1),n<.2&&(i[e+4]+=1))}}()}(),this.setAttribute("position",new vt(a,3)),this.setAttribute("normal",new vt(a.slice(),3)),this.setAttribute("uv",new vt(i,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function ki(e,t){er.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Oi(e,t)),this.mergeVertices()}function Oi(e,t){Ri.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Di(e,t){er.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ii(e,t)),this.mergeVertices()}function Ii(e,t){Ri.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ni(e,t){er.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Bi(e,t)),this.mergeVertices()}function Bi(e,t){const r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1];Ri.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function zi(e,t){er.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ji(e,t)),this.mergeVertices()}function ji(e,t){const r=(1+Math.sqrt(5))/2,n=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n];Ri.call(this,a,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Fi(e,t,r,n,a,i){er.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:a},void 0!==i&&console.warn("THREE.TubeGeometry: taper has been removed.");const o=new Ui(e,t,r,n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function Ui(e,t,r,n,a){Lt.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:n,closed:a},t=t||64,r=r||1,n=n||8,a=a||!1;const i=e.computeFrenetFrames(t,a);this.tangents=i.tangents,this.normals=i.normals,this.binormals=i.binormals;const o=new B,s=new B,c=new T;let d=new B;const u=[],f=[],l=[],h=[];function p(a){d=e.getPointAt(a/t,d);const c=i.normals[a],l=i.binormals[a];for(let e=0;e<=n;e++){const t=e/n*Math.PI*2,a=Math.sin(t),i=-Math.cos(t);s.x=i*c.x+a*l.x,s.y=i*c.y+a*l.y,s.z=i*c.z+a*l.z,s.normalize(),f.push(s.x,s.y,s.z),o.x=d.x+r*s.x,o.y=d.y+r*s.y,o.z=d.z+r*s.z,u.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===a?t:0),function(){for(let e=0;e<=t;e++)for(let r=0;r<=n;r++)c.x=e/t,c.y=r/n,l.push(c.x,c.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=n;t++){const r=(n+1)*(e-1)+(t-1),a=(n+1)*e+(t-1),i=(n+1)*e+t,o=(n+1)*(e-1)+t;h.push(r,a,o),h.push(a,i,o)}}()}(),this.setIndex(h),this.setAttribute("position",new vt(u,3)),this.setAttribute("normal",new vt(f,3)),this.setAttribute("uv",new vt(l,2))}function Gi(e,t,r,n,a,i,o){er.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:a,q:i},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Hi(e,t,r,n,a,i)),this.mergeVertices()}function Hi(e,t,r,n,a,i){Lt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:a,q:i},e=e||1,t=t||.4,r=Math.floor(r)||64,n=Math.floor(n)||8,a=a||2,i=i||3;const o=[],s=[],c=[],d=[],u=new B,f=new B,l=new B,h=new B,p=new B,b=new B,g=new B;for(let o=0;o<=r;++o){const v=o/r*a*Math.PI*2;m(v,a,i,e,l),m(v+.01,a,i,e,h),b.subVectors(h,l),g.addVectors(h,l),p.crossVectors(b,g),g.crossVectors(p,b),p.normalize(),g.normalize();for(let e=0;e<=n;++e){const a=e/n*Math.PI*2,i=-t*Math.cos(a),h=t*Math.sin(a);u.x=l.x+(i*g.x+h*p.x),u.y=l.y+(i*g.y+h*p.y),u.z=l.z+(i*g.z+h*p.z),s.push(u.x,u.y,u.z),f.subVectors(u,l).normalize(),c.push(f.x,f.y,f.z),d.push(o/r),d.push(e/n)}}for(let e=1;e<=r;e++)for(let t=1;t<=n;t++){const r=(n+1)*(e-1)+(t-1),a=(n+1)*e+(t-1),i=(n+1)*e+t,s=(n+1)*(e-1)+t;o.push(r,a,s),o.push(a,i,s)}function m(e,t,r,n,a){const i=Math.cos(e),o=Math.sin(e),s=r/t*e,c=Math.cos(s);a.x=n*(2+c)*.5*i,a.y=n*(2+c)*o*.5,a.z=n*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new vt(s,3)),this.setAttribute("normal",new vt(c,3)),this.setAttribute("uv",new vt(d,2))}function Vi(e,t,r,n,a){er.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:a},this.fromBufferGeometry(new Wi(e,t,r,n,a)),this.mergeVertices()}function Wi(e,t,r,n,a){Lt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:a},e=e||1,t=t||.4,r=Math.floor(r)||8,n=Math.floor(n)||6,a=a||2*Math.PI;const i=[],o=[],s=[],c=[],d=new B,u=new B,f=new B;for(let i=0;i<=r;i++)for(let l=0;l<=n;l++){const h=l/n*a,p=i/r*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(h),u.y=(e+t*Math.cos(p))*Math.sin(h),u.z=t*Math.sin(p),o.push(u.x,u.y,u.z),d.x=e*Math.cos(h),d.y=e*Math.sin(h),f.subVectors(u,d).normalize(),s.push(f.x,f.y,f.z),c.push(l/n),c.push(i/r)}for(let e=1;e<=r;e++)for(let t=1;t<=n;t++){const r=(n+1)*e+t-1,a=(n+1)*(e-1)+t-1,o=(n+1)*(e-1)+t,s=(n+1)*e+t;i.push(r,a,s),i.push(a,o,s)}this.setIndex(i),this.setAttribute("position",new vt(o,3)),this.setAttribute("normal",new vt(s,3)),this.setAttribute("uv",new vt(c,2))}y.Points=wi,wi.prototype=Object.assign(Object.create(de.prototype),{constructor:wi,isPoints:!0,copy:function(e){return de.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const r=this.geometry,n=this.matrixWorld,a=e.params.Points.threshold;if(null===r.boundingSphere&&r.computeBoundingSphere(),yi.copy(r.boundingSphere),yi.applyMatrix4(n),yi.radius+=a,!1===e.ray.intersectsSphere(yi))return;mi.getInverse(n),vi.copy(e.ray).applyMatrix4(mi);const i=a/((this.scale.x+this.scale.y+this.scale.z)/3),o=i*i;if(r.isBufferGeometry){const a=r.index,i=r.attributes.position.array;if(null!==a){const r=a.array;for(let a=0,s=r.length;a<s;a++){const s=r[a];xi.fromArray(i,3*s),_i(xi,s,o,n,e,t,this)}}else for(let r=0,a=i.length/3;r<a;r++)xi.fromArray(i,3*r),_i(xi,r,o,n,e,t,this)}else{const a=r.vertices;for(let r=0,i=a.length;r<i;r++)_i(a[r],r,o,n,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const e=t[r[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,r=e.length;t<r;t++){const r=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),y.VideoTexture=Mi,Mi.prototype=Object.assign(Object.create(P.prototype),{constructor:Mi,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),y.CompressedTexture=Si,Si.prototype=Object.create(P.prototype),Si.prototype.constructor=Si,Si.prototype.isCompressedTexture=!0,y.CanvasTexture=Ti,Ti.prototype=Object.create(P.prototype),Ti.prototype.constructor=Ti,Ti.prototype.isCanvasTexture=!0,y.DepthTexture=Ei,Ei.prototype=Object.create(P.prototype),Ei.prototype.constructor=Ei,Ei.prototype.isDepthTexture=!0,y.WireframeGeometry=Ai,Ai.prototype=Object.create(Lt.prototype),Ai.prototype.constructor=Ai,y.ParametricGeometry=Ci,Ci.prototype=Object.create(er.prototype),Ci.prototype.constructor=Ci,y.ParametricBufferGeometry=Li,Li.prototype=Object.create(Lt.prototype),Li.prototype.constructor=Li,y.PolyhedronGeometry=Pi,Pi.prototype=Object.create(er.prototype),Pi.prototype.constructor=Pi,y.PolyhedronBufferGeometry=Ri,Ri.prototype=Object.create(Lt.prototype),Ri.prototype.constructor=Ri,y.TetrahedronGeometry=ki,ki.prototype=Object.create(er.prototype),ki.prototype.constructor=ki,y.TetrahedronBufferGeometry=Oi,Oi.prototype=Object.create(Ri.prototype),Oi.prototype.constructor=Oi,y.OctahedronGeometry=Di,Di.prototype=Object.create(er.prototype),Di.prototype.constructor=Di,y.OctahedronBufferGeometry=Ii,Ii.prototype=Object.create(Ri.prototype),Ii.prototype.constructor=Ii,y.IcosahedronGeometry=Ni,Ni.prototype=Object.create(er.prototype),Ni.prototype.constructor=Ni,y.IcosahedronBufferGeometry=Bi,Bi.prototype=Object.create(Ri.prototype),Bi.prototype.constructor=Bi,y.DodecahedronGeometry=zi,zi.prototype=Object.create(er.prototype),zi.prototype.constructor=zi,y.DodecahedronBufferGeometry=ji,ji.prototype=Object.create(Ri.prototype),ji.prototype.constructor=ji,y.TubeGeometry=Fi,Fi.prototype=Object.create(er.prototype),Fi.prototype.constructor=Fi,y.TubeBufferGeometry=Ui,Ui.prototype=Object.create(Lt.prototype),Ui.prototype.constructor=Ui,Ui.prototype.toJSON=function(){const e=Lt.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},y.TorusKnotGeometry=Gi,Gi.prototype=Object.create(er.prototype),Gi.prototype.constructor=Gi,y.TorusKnotBufferGeometry=Hi,Hi.prototype=Object.create(Lt.prototype),Hi.prototype.constructor=Hi,y.TorusGeometry=Vi,Vi.prototype=Object.create(er.prototype),Vi.prototype.constructor=Vi,y.TorusBufferGeometry=Wi,Wi.prototype=Object.create(Lt.prototype),Wi.prototype.constructor=Wi;const qi=function(e,t,r){r=r||2;let n,a,i,o,s,c,d,u=t&&t.length,f=u?t[0]*r:e.length,l=Xi(e,0,f,r,!0),h=[];if(!l||l.next===l.prev)return h;if(u&&(l=function(e,t,r,n){let a,i,o,s,c,d=[];for(a=0,i=t.length;a<i;a++)o=t[a]*n,s=a<i-1?t[a+1]*n:e.length,c=Xi(e,o,s,n,!1),c===c.next&&(c.steiner=!0),d.push(ao(c));for(d.sort(eo),a=0;a<d.length;a++)to(d[a],r),r=Yi(r,r.next);return r}(e,t,l,r)),e.length>80*r){n=i=e[0],a=o=e[1];for(let t=r;t<f;t+=r)s=e[t],c=e[t+1],s<n&&(n=s),c<a&&(a=c),s>i&&(i=s),c>o&&(o=c);d=Math.max(i-n,o-a),d=0!==d?1/d:0}return Zi(l,h,r,n,a,d),h};function Xi(e,t,r,n,a){let i,o;if(a===function(e,t,r,n){let a=0;for(let i=t,o=r-n;i<r;i+=n)a+=(e[o]-e[i])*(e[i+1]+e[o+1]),o=i;return a}(e,t,r,n)>0)for(i=t;i<r;i+=n)o=bo(i,e[i],e[i+1],o);else for(i=r-n;i>=t;i-=n)o=bo(i,e[i],e[i+1],o);return o&&co(o,o.next)&&(go(o),o=o.next),o}function Yi(e,t){if(!e)return e;t||(t=e);let r,n=e;do{if(r=!1,n.steiner||!co(n,n.next)&&0!==so(n.prev,n,n.next))n=n.next;else{if(go(n),n=t=n.prev,n===n.next)break;r=!0}}while(r||n!==t);return t}function Zi(e,t,r,n,a,i,o){if(!e)return;!o&&i&&function(e,t,r,n){let a=e;do{null===a.z&&(a.z=no(a.x,a.y,t,r,n)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next}while(a!==e);a.prevZ.nextZ=null,a.prevZ=null,function(e){let t,r,n,a,i,o,s,c,d=1;do{for(r=e,e=null,i=null,o=0;r;){for(o++,n=r,s=0,t=0;t<d&&(s++,n=n.nextZ,n);t++);for(c=d;s>0||c>0&&n;)0!==s&&(0===c||!n||r.z<=n.z)?(a=r,r=r.nextZ,s--):(a=n,n=n.nextZ,c--),i?i.nextZ=a:e=a,a.prevZ=i,i=a;r=n}i.nextZ=null,d*=2}while(o>1)}(a)}(e,n,a,i);let s,c,d=e;for(;e.prev!==e.next;)if(s=e.prev,c=e.next,i?Qi(e,n,a,i):Ji(e))t.push(s.i/r),t.push(e.i/r),t.push(c.i/r),go(e),e=c.next,d=c.next;else if((e=c)===d){o?1===o?Zi(e=Ki(Yi(e),t,r),t,r,n,a,i,2):2===o&&$i(e,t,r,n,a,i):Zi(Yi(e),t,r,n,a,i,1);break}}function Ji(e){let t=e.prev,r=e,n=e.next;if(so(t,r,n)>=0)return!1;let a=e.next.next;for(;a!==e.prev;){if(io(t.x,t.y,r.x,r.y,n.x,n.y,a.x,a.y)&&so(a.prev,a,a.next)>=0)return!1;a=a.next}return!0}function Qi(e,t,r,n){let a=e.prev,i=e,o=e.next;if(so(a,i,o)>=0)return!1;let s=a.x<i.x?a.x<o.x?a.x:o.x:i.x<o.x?i.x:o.x,c=a.y<i.y?a.y<o.y?a.y:o.y:i.y<o.y?i.y:o.y,d=a.x>i.x?a.x>o.x?a.x:o.x:i.x>o.x?i.x:o.x,u=a.y>i.y?a.y>o.y?a.y:o.y:i.y>o.y?i.y:o.y,f=no(s,c,t,r,n),l=no(d,u,t,r,n),h=e.prevZ,p=e.nextZ;for(;h&&h.z>=f&&p&&p.z<=l;){if(h!==e.prev&&h!==e.next&&io(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&so(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&io(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&so(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&io(a.x,a.y,i.x,i.y,o.x,o.y,h.x,h.y)&&so(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=l;){if(p!==e.prev&&p!==e.next&&io(a.x,a.y,i.x,i.y,o.x,o.y,p.x,p.y)&&so(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ki(e,t,r){let n=e;do{let a=n.prev,i=n.next.next;!co(a,i)&&uo(a,n,n.next,i)&&ho(a,i)&&ho(i,a)&&(t.push(a.i/r),t.push(n.i/r),t.push(i.i/r),go(n),go(n.next),n=e=i),n=n.next}while(n!==e);return Yi(n)}function $i(e,t,r,n,a,i){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&oo(o,e)){let s=po(o,e);return o=Yi(o,o.next),s=Yi(s,s.next),Zi(o,t,r,n,a,i),void Zi(s,t,r,n,a,i)}e=e.next}o=o.next}while(o!==e)}function eo(e,t){return e.x-t.x}function to(e,t){if(t=function(e,t){let r,n=t,a=e.x,i=e.y,o=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){let e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=a&&e>o){if(o=e,e===a){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(a===o)return r;let s,c=r,d=r.x,u=r.y,f=1/0;n=r;do{a>=n.x&&n.x>=d&&a!==n.x&&io(i<u?a:o,i,d,u,i<u?o:a,i,n.x,n.y)&&(s=Math.abs(i-n.y)/(a-n.x),ho(n,e)&&(s<f||s===f&&(n.x>r.x||n.x===r.x&&ro(r,n)))&&(r=n,f=s)),n=n.next}while(n!==c);return r}(e,t)){const r=po(t,e);Yi(t,t.next),Yi(r,r.next)}}function ro(e,t){return so(e.prev,e,t.prev)<0&&so(t.next,e,e.next)<0}function no(e,t,r,n,a){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*a)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*a)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ao(e){let t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function io(e,t,r,n,a,i,o,s){return(a-o)*(t-s)-(e-o)*(i-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(i-s)-(a-o)*(n-s)>=0}function oo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&uo(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(ho(e,t)&&ho(t,e)&&function(e,t){let r=e,n=!1,a=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&a<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(so(e.prev,e,t.prev)||so(e,t.prev,t))||co(e,t)&&so(e.prev,e,e.next)>0&&so(t.prev,t,t.next)>0)}function so(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function co(e,t){return e.x===t.x&&e.y===t.y}function uo(e,t,r,n){const a=lo(so(e,t,r)),i=lo(so(e,t,n)),o=lo(so(r,n,e)),s=lo(so(r,n,t));return a!==i&&o!==s||(!(0!==a||!fo(e,r,t))||(!(0!==i||!fo(e,n,t))||(!(0!==o||!fo(r,e,n))||!(0!==s||!fo(r,t,n)))))}function fo(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function lo(e){return e>0?1:e<0?-1:0}function ho(e,t){return so(e.prev,e,e.next)<0?so(e,t,e.next)>=0&&so(e,e.prev,t)>=0:so(e,t,e.prev)<0||so(e,e.next,t)<0}function po(e,t){let r=new mo(e.i,e.x,e.y),n=new mo(t.i,t.x,t.y),a=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=a,a.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function bo(e,t,r,n){const a=new mo(e,t,r);return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function go(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function mo(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const vo={area:function(e){const t=e.length;let r=0;for(let n=t-1,a=0;a<t;n=a++)r+=e[n].x*e[a].y-e[a].x*e[n].y;return.5*r},isClockWise:function(e){return vo.area(e)<0},triangulateShape:function(e,t){const r=[],n=[],a=[];yo(e),xo(r,e);let i=e.length;t.forEach(yo);for(let e=0;e<t.length;e++)n.push(i),i+=t[e].length,xo(r,t[e]);const o=qi(r,n);for(let e=0;e<o.length;e+=3)a.push(o.slice(e,e+3));return a}};function yo(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function xo(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}function wo(e,t){er.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new _o(e,t)),this.mergeVertices()}function _o(e,t){Lt.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,n=[],a=[];for(let t=0,r=e.length;t<r;t++){i(e[t])}function i(e){const i=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1;let c=void 0!==t.depth?t.depth:100,d=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:u-2,l=void 0!==t.bevelOffset?t.bevelOffset:0,h=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,b=void 0!==t.UVGenerator?t.UVGenerator:Mo;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);let g,m,v,y,x,w=!1;p&&(g=p.getSpacedPoints(s),w=!0,d=!1,m=p.computeFrenetFrames(s,!1),v=new B,y=new B,x=new B),d||(h=0,u=0,f=0,l=0);const _=e.extractPoints(o);let M=_.shape;const S=_.holes;if(!vo.isClockWise(M)){M=M.reverse();for(let e=0,t=S.length;e<t;e++){const t=S[e];vo.isClockWise(t)&&(S[e]=t.reverse())}}const E=vo.triangulateShape(M,S),A=M;for(let e=0,t=S.length;e<t;e++){const t=S[e];M=M.concat(t)}function C(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}const L=M.length,P=E.length;function R(e,t,r){let n,a,i;const o=e.x-t.x,s=e.y-t.y,c=r.x-e.x,d=r.y-e.y,u=o*o+s*s,f=o*d-s*c;if(Math.abs(f)>Number.EPSILON){const f=Math.sqrt(u),l=Math.sqrt(c*c+d*d),h=t.x-s/f,p=t.y+o/f,b=((r.x-d/l-h)*d-(r.y+c/l-p)*c)/(o*d-s*c);n=h+o*b-e.x,a=p+s*b-e.y;const g=n*n+a*a;if(g<=2)return new T(n,a);i=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?c>Number.EPSILON&&(e=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(d)&&(e=!0),e?(n=-s,a=o,i=Math.sqrt(u)):(n=o,a=s,i=Math.sqrt(u/2))}return new T(n/i,a/i)}const k=[];for(let e=0,t=A.length,r=t-1,n=e+1;e<t;e++,r++,n++)r===t&&(r=0),n===t&&(n=0),k[e]=R(A[e],A[r],A[n]);const O=[];let D,I=k.concat();for(let e=0,t=S.length;e<t;e++){const t=S[e];D=[];for(let e=0,r=t.length,n=r-1,a=e+1;e<r;e++,n++,a++)n===r&&(n=0),a===r&&(a=0),D[e]=R(t[e],t[n],t[a]);O.push(D),I=I.concat(D)}for(let e=0;e<h;e++){const t=e/h,r=u*Math.cos(t*Math.PI/2),n=f*Math.sin(t*Math.PI/2)+l;for(let e=0,t=A.length;e<t;e++){const t=C(A[e],k[e],n);j(t.x,t.y,-r)}for(let e=0,t=S.length;e<t;e++){const t=S[e];D=O[e];for(let e=0,a=t.length;e<a;e++){const a=C(t[e],D[e],n);j(a.x,a.y,-r)}}}const N=f+l;for(let e=0;e<L;e++){const t=d?C(M[e],I[e],N):M[e];w?(y.copy(m.normals[0]).multiplyScalar(t.x),v.copy(m.binormals[0]).multiplyScalar(t.y),x.copy(g[0]).add(y).add(v),j(x.x,x.y,x.z)):j(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<L;t++){const r=d?C(M[t],I[t],N):M[t];w?(y.copy(m.normals[e]).multiplyScalar(r.x),v.copy(m.binormals[e]).multiplyScalar(r.y),x.copy(g[e]).add(y).add(v),j(x.x,x.y,x.z)):j(r.x,r.y,c/s*e)}for(let e=h-1;e>=0;e--){const t=e/h,r=u*Math.cos(t*Math.PI/2),n=f*Math.sin(t*Math.PI/2)+l;for(let e=0,t=A.length;e<t;e++){const t=C(A[e],k[e],n);j(t.x,t.y,c+r)}for(let e=0,t=S.length;e<t;e++){const t=S[e];D=O[e];for(let e=0,a=t.length;e<a;e++){const a=C(t[e],D[e],n);w?j(a.x,a.y+g[s-1].y,g[s-1].x+r):j(a.x,a.y,c+r)}}}function z(e,t){let r=e.length;for(;--r>=0;){const n=r;let a=r-1;a<0&&(a=e.length-1);for(let e=0,r=s+2*h;e<r;e++){const r=L*e,i=L*(e+1);U(t+n+r,t+a+r,t+a+i,t+n+i)}}}function j(e,t,r){i.push(e),i.push(t),i.push(r)}function F(e,t,a){G(e),G(t),G(a);const i=n.length/3,o=b.generateTopUV(r,n,i-3,i-2,i-1);H(o[0]),H(o[1]),H(o[2])}function U(e,t,a,i){G(e),G(t),G(i),G(t),G(a),G(i);const o=n.length/3,s=b.generateSideWallUV(r,n,o-6,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[3]),H(s[1]),H(s[2]),H(s[3])}function G(e){n.push(i[3*e+0]),n.push(i[3*e+1]),n.push(i[3*e+2])}function H(e){a.push(e.x),a.push(e.y)}!function(){const e=n.length/3;if(d){let e=0,t=L*e;for(let e=0;e<P;e++){const r=E[e];F(r[2]+t,r[1]+t,r[0]+t)}e=s+2*h,t=L*e;for(let e=0;e<P;e++){const r=E[e];F(r[0]+t,r[1]+t,r[2]+t)}}else{for(let e=0;e<P;e++){const t=E[e];F(t[2],t[1],t[0])}for(let e=0;e<P;e++){const t=E[e];F(t[0]+L*s,t[1]+L*s,t[2]+L*s)}}r.addGroup(e,n.length/3-e,0)}(),function(){const e=n.length/3;let t=0;z(A,t),t+=A.length;for(let e=0,r=S.length;e<r;e++){const r=S[e];z(r,t),t+=r.length}r.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new vt(n,3)),this.setAttribute("uv",new vt(a,2)),this.computeVertexNormals()}y.ShapeUtils=vo,y.ExtrudeGeometry=wo,wo.prototype=Object.create(er.prototype),wo.prototype.constructor=wo,wo.prototype.toJSON=function(){const e=er.prototype.toJSON.call(this);return So(this.parameters.shapes,this.parameters.options,e)},y.ExtrudeBufferGeometry=_o,_o.prototype=Object.create(Lt.prototype),_o.prototype.constructor=_o,_o.prototype.toJSON=function(){const e=Lt.prototype.toJSON.call(this);return So(this.parameters.shapes,this.parameters.options,e)};const Mo={generateTopUV:function(e,t,r,n,a){const i=t[3*r],o=t[3*r+1],s=t[3*n],c=t[3*n+1],d=t[3*a],u=t[3*a+1];return[new T(i,o),new T(s,c),new T(d,u)]},generateSideWallUV:function(e,t,r,n,a,i){const o=t[3*r],s=t[3*r+1],c=t[3*r+2],d=t[3*n],u=t[3*n+1],f=t[3*n+2],l=t[3*a],h=t[3*a+1],p=t[3*a+2],b=t[3*i],g=t[3*i+1],m=t[3*i+2];return Math.abs(s-u)<.01?[new T(o,1-c),new T(d,1-f),new T(l,1-p),new T(b,1-m)]:[new T(s,1-c),new T(u,1-f),new T(h,1-p),new T(g,1-m)]}};function So(e,t,r){if(r.shapes=[],Array.isArray(e))for(let t=0,n=e.length;t<n;t++){const n=e[t];r.shapes.push(n.uuid)}else r.shapes.push(e.uuid);return void 0!==t.extrudePath&&(r.options.extrudePath=t.extrudePath.toJSON()),r}function To(e,t){er.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Eo(e,t)),this.mergeVertices()}function Eo(e,t){const r=(t=t||{}).font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new er;const n=r.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),_o.call(this,n,t),this.type="TextBufferGeometry"}function Ao(e,t,r,n,a,i,o){er.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:a,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Co(e,t,r,n,a,i,o)),this.mergeVertices()}function Co(e,t,r,n,a,i,o){Lt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:a,thetaStart:i,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?i:0,o=void 0!==o?o:Math.PI;const s=Math.min(i+o,Math.PI);let c=0;const d=[],u=new B,f=new B,l=[],h=[],p=[],b=[];for(let l=0;l<=r;l++){const g=[],m=l/r;let v=0;0==l&&0==i?v=.5/t:l==r&&s==Math.PI&&(v=-.5/t);for(let r=0;r<=t;r++){const s=r/t;u.x=-e*Math.cos(n+s*a)*Math.sin(i+m*o),u.y=e*Math.cos(i+m*o),u.z=e*Math.sin(n+s*a)*Math.sin(i+m*o),h.push(u.x,u.y,u.z),f.copy(u).normalize(),p.push(f.x,f.y,f.z),b.push(s+v,1-m),g.push(c++)}d.push(g)}for(let e=0;e<r;e++)for(let n=0;n<t;n++){const t=d[e][n+1],a=d[e][n],o=d[e+1][n],c=d[e+1][n+1];(0!==e||i>0)&&l.push(t,a,c),(e!==r-1||s<Math.PI)&&l.push(a,o,c)}this.setIndex(l),this.setAttribute("position",new vt(h,3)),this.setAttribute("normal",new vt(p,3)),this.setAttribute("uv",new vt(b,2))}function Lo(e,t,r,n,a,i){er.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:a,thetaLength:i},this.fromBufferGeometry(new Po(e,t,r,n,a,i)),this.mergeVertices()}function Po(e,t,r,n,a,i){Lt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:a,thetaLength:i},e=e||.5,t=t||1,a=void 0!==a?a:0,i=void 0!==i?i:2*Math.PI,r=void 0!==r?Math.max(3,r):8;const o=[],s=[],c=[],d=[];let u=e;const f=(t-e)/(n=void 0!==n?Math.max(1,n):1),l=new B,h=new T;for(let e=0;e<=n;e++){for(let e=0;e<=r;e++){const n=a+e/r*i;l.x=u*Math.cos(n),l.y=u*Math.sin(n),s.push(l.x,l.y,l.z),c.push(0,0,1),h.x=(l.x/t+1)/2,h.y=(l.y/t+1)/2,d.push(h.x,h.y)}u+=f}for(let e=0;e<n;e++){const t=e*(r+1);for(let e=0;e<r;e++){const n=e+t,a=n,i=n+r+1,s=n+r+2,c=n+1;o.push(a,i,c),o.push(i,s,c)}}this.setIndex(o),this.setAttribute("position",new vt(s,3)),this.setAttribute("normal",new vt(c,3)),this.setAttribute("uv",new vt(d,2))}function Ro(e,t,r,n){er.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},this.fromBufferGeometry(new ko(e,t,r,n)),this.mergeVertices()}function ko(e,t,r,n){Lt.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t)||12,r=r||0,n=n||2*Math.PI,n=S.clamp(n,0,2*Math.PI);const a=[],i=[],o=[],s=1/t,c=new B,d=new T;for(let a=0;a<=t;a++){const u=r+a*s*n,f=Math.sin(u),l=Math.cos(u);for(let r=0;r<=e.length-1;r++)c.x=e[r].x*f,c.y=e[r].y,c.z=e[r].x*l,i.push(c.x,c.y,c.z),d.x=a/t,d.y=r/(e.length-1),o.push(d.x,d.y)}for(let r=0;r<t;r++)for(let t=0;t<e.length-1;t++){const n=t+r*e.length,i=n,o=n+e.length,s=n+e.length+1,c=n+1;a.push(i,o,c),a.push(o,s,c)}if(this.setIndex(a),this.setAttribute("position",new vt(i,3)),this.setAttribute("uv",new vt(o,2)),this.computeVertexNormals(),n===2*Math.PI){const r=this.attributes.normal.array,n=new B,a=new B,i=new B,o=t*e.length*3;for(let t=0,s=0;t<e.length;t++,s+=3)n.x=r[s+0],n.y=r[s+1],n.z=r[s+2],a.x=r[o+s+0],a.y=r[o+s+1],a.z=r[o+s+2],i.addVectors(n,a).normalize(),r[s+0]=r[o+s+0]=i.x,r[s+1]=r[o+s+1]=i.y,r[s+2]=r[o+s+2]=i.z}}function Oo(e,t){er.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Do(e,t)),this.mergeVertices()}function Do(e,t){Lt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const r=[],n=[],a=[],i=[];let o=0,s=0;if(!1===Array.isArray(e))c(e);else for(let t=0;t<e.length;t++)c(e[t]),this.addGroup(o,s,t),o+=s,s=0;function c(e){const o=n.length/3,c=e.extractPoints(t);let d=c.shape;const u=c.holes;!1===vo.isClockWise(d)&&(d=d.reverse());for(let e=0,t=u.length;e<t;e++){const t=u[e];!0===vo.isClockWise(t)&&(u[e]=t.reverse())}const f=vo.triangulateShape(d,u);for(let e=0,t=u.length;e<t;e++){const t=u[e];d=d.concat(t)}for(let e=0,t=d.length;e<t;e++){const t=d[e];n.push(t.x,t.y,0),a.push(0,0,1),i.push(t.x,t.y)}for(let e=0,t=f.length;e<t;e++){const t=f[e],n=t[0]+o,a=t[1]+o,i=t[2]+o;r.push(n,a,i),s+=3}}this.setIndex(r),this.setAttribute("position",new vt(n,3)),this.setAttribute("normal",new vt(a,3)),this.setAttribute("uv",new vt(i,2))}function Io(e,t){if(t.shapes=[],Array.isArray(e))for(let r=0,n=e.length;r<n;r++){const n=e[r];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return t}function No(e,t){Lt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;const r=[],n=Math.cos(S.DEG2RAD*t),a=[0,0],i={};let o,s,c;const d=["a","b","c"];let u;e.isBufferGeometry?(u=new er,u.fromBufferGeometry(e)):u=e.clone(),u.mergeVertices(),u.computeFaceNormals();const f=u.vertices,l=u.faces;for(let e=0,t=l.length;e<t;e++){const t=l[e];for(let r=0;r<3;r++)o=t[d[r]],s=t[d[(r+1)%3]],a[0]=Math.min(o,s),a[1]=Math.max(o,s),c=a[0]+","+a[1],void 0===i[c]?i[c]={index1:a[0],index2:a[1],face1:e,face2:void 0}:i[c].face2=e}for(c in i){const e=i[c];if(void 0===e.face2||l[e.face1].normal.dot(l[e.face2].normal)<=n){let t=f[e.index1];r.push(t.x,t.y,t.z),t=f[e.index2],r.push(t.x,t.y,t.z)}}this.setAttribute("position",new vt(r,3))}function Bo(e,t,r,n,a,i,o,s){er.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:a,openEnded:i,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new zo(e,t,r,n,a,i,o,s)),this.mergeVertices()}function zo(e,t,r,n,a,i,o,s){Lt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:a,openEnded:i,thetaStart:o,thetaLength:s};const c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,r=r||1,n=Math.floor(n)||8,a=Math.floor(a)||1,i=void 0!==i&&i,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;const d=[],u=[],f=[],l=[];let h=0;const p=[],b=r/2;let g=0;function m(r){let a,i;const p=new T,m=new B;let v=0;const y=!0===r?e:t,x=!0===r?1:-1;a=h;for(let e=1;e<=n;e++)u.push(0,b*x,0),f.push(0,x,0),l.push(.5,.5),h++;i=h;for(let e=0;e<=n;e++){const t=e/n*s+o,r=Math.cos(t),a=Math.sin(t);m.x=y*a,m.y=b*x,m.z=y*r,u.push(m.x,m.y,m.z),f.push(0,x,0),p.x=.5*r+.5,p.y=.5*a*x+.5,l.push(p.x,p.y),h++}for(let e=0;e<n;e++){const t=a+e,n=i+e;!0===r?d.push(n,n+1,t):d.push(n+1,n,t),v+=3}c.addGroup(g,v,!0===r?1:2),g+=v}!function(){const i=new B,m=new B;let v=0;const y=(t-e)/r;for(let c=0;c<=a;c++){const d=[],g=c/a,v=g*(t-e)+e;for(let e=0;e<=n;e++){const t=e/n,a=t*s+o,c=Math.sin(a),p=Math.cos(a);m.x=v*c,m.y=-g*r+b,m.z=v*p,u.push(m.x,m.y,m.z),i.set(c,y,p).normalize(),f.push(i.x,i.y,i.z),l.push(t,1-g),d.push(h++)}p.push(d)}for(let e=0;e<n;e++)for(let t=0;t<a;t++){const r=p[t][e],n=p[t+1][e],a=p[t+1][e+1],i=p[t][e+1];d.push(r,n,i),d.push(n,a,i),v+=6}c.addGroup(g,v,0),g+=v}(),!1===i&&(e>0&&m(!0),t>0&&m(!1)),this.setIndex(d),this.setAttribute("position",new vt(u,3)),this.setAttribute("normal",new vt(f,3)),this.setAttribute("uv",new vt(l,2))}function jo(e,t,r,n,a,i,o){Bo.call(this,0,e,t,r,n,a,i,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:i,thetaLength:o}}function Fo(e,t,r,n,a,i,o){zo.call(this,0,e,t,r,n,a,i,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:i,thetaLength:o}}function Uo(e,t,r,n){er.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},this.fromBufferGeometry(new Go(e,t,r,n)),this.mergeVertices()}function Go(e,t,r,n){Lt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||1,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;const a=[],i=[],o=[],s=[],c=new B,d=new T;i.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let a=0,u=3;a<=t;a++,u+=3){const f=r+a/t*n;c.x=e*Math.cos(f),c.y=e*Math.sin(f),i.push(c.x,c.y,c.z),o.push(0,0,1),d.x=(i[u]/e+1)/2,d.y=(i[u+1]/e+1)/2,s.push(d.x,d.y)}for(let e=1;e<=t;e++)a.push(e,e+1,0);this.setIndex(a),this.setAttribute("position",new vt(i,3)),this.setAttribute("normal",new vt(o,3)),this.setAttribute("uv",new vt(s,2))}y.TextGeometry=To,To.prototype=Object.create(er.prototype),To.prototype.constructor=To,y.TextBufferGeometry=Eo,Eo.prototype=Object.create(_o.prototype),Eo.prototype.constructor=Eo,y.SphereGeometry=Ao,Ao.prototype=Object.create(er.prototype),Ao.prototype.constructor=Ao,y.SphereBufferGeometry=Co,Co.prototype=Object.create(Lt.prototype),Co.prototype.constructor=Co,y.RingGeometry=Lo,Lo.prototype=Object.create(er.prototype),Lo.prototype.constructor=Lo,y.RingBufferGeometry=Po,Po.prototype=Object.create(Lt.prototype),Po.prototype.constructor=Po,y.LatheGeometry=Ro,Ro.prototype=Object.create(er.prototype),Ro.prototype.constructor=Ro,y.LatheBufferGeometry=ko,ko.prototype=Object.create(Lt.prototype),ko.prototype.constructor=ko,y.ShapeGeometry=Oo,Oo.prototype=Object.create(er.prototype),Oo.prototype.constructor=Oo,Oo.prototype.toJSON=function(){const e=er.prototype.toJSON.call(this);return Io(this.parameters.shapes,e)},y.ShapeBufferGeometry=Do,Do.prototype=Object.create(Lt.prototype),Do.prototype.constructor=Do,Do.prototype.toJSON=function(){const e=Lt.prototype.toJSON.call(this);return Io(this.parameters.shapes,e)},y.EdgesGeometry=No,No.prototype=Object.create(Lt.prototype),No.prototype.constructor=No,y.CylinderGeometry=Bo,Bo.prototype=Object.create(er.prototype),Bo.prototype.constructor=Bo,y.CylinderBufferGeometry=zo,zo.prototype=Object.create(Lt.prototype),zo.prototype.constructor=zo,y.ConeGeometry=jo,jo.prototype=Object.create(Bo.prototype),jo.prototype.constructor=jo,y.ConeBufferGeometry=Fo,Fo.prototype=Object.create(zo.prototype),Fo.prototype.constructor=Fo,y.CircleGeometry=Uo,Uo.prototype=Object.create(er.prototype),Uo.prototype.constructor=Uo,y.CircleBufferGeometry=Go,Go.prototype=Object.create(Lt.prototype),Go.prototype.constructor=Go;var Ho=Object.freeze({__proto__:null,WireframeGeometry:Ai,ParametricGeometry:Ci,ParametricBufferGeometry:Li,TetrahedronGeometry:ki,TetrahedronBufferGeometry:Oi,OctahedronGeometry:Di,OctahedronBufferGeometry:Ii,IcosahedronGeometry:Ni,IcosahedronBufferGeometry:Bi,DodecahedronGeometry:zi,DodecahedronBufferGeometry:ji,PolyhedronGeometry:Pi,PolyhedronBufferGeometry:Ri,TubeGeometry:Fi,TubeBufferGeometry:Ui,TorusKnotGeometry:Gi,TorusKnotBufferGeometry:Hi,TorusGeometry:Vi,TorusBufferGeometry:Wi,TextGeometry:To,TextBufferGeometry:Eo,SphereGeometry:Ao,SphereBufferGeometry:Co,RingGeometry:Lo,RingBufferGeometry:Po,PlaneGeometry:vr,PlaneBufferGeometry:yr,LatheGeometry:Ro,LatheBufferGeometry:ko,ShapeGeometry:Oo,ShapeBufferGeometry:Do,ExtrudeGeometry:wo,ExtrudeBufferGeometry:_o,EdgesGeometry:No,ConeGeometry:jo,ConeBufferGeometry:Fo,CylinderGeometry:Bo,CylinderBufferGeometry:zo,CircleGeometry:Uo,CircleBufferGeometry:Go,BoxGeometry:tr,BoxBufferGeometry:rr});function Vo(e){ot.call(this),this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.setValues(e)}function Wo(e){or.call(this,e),this.type="RawShaderMaterial"}function qo(e){ot.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new T(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function Xo(e){qo.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new T(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function Yo(e){ot.call(this),this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new T(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Zo(e){ot.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new T(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Jo(e){ot.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new T(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Qo(e){ot.call(this),this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ko(e){ot.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new T(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function $o(e){ii.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}y.ShadowMaterial=Vo,Vo.prototype=Object.create(ot.prototype),Vo.prototype.constructor=Vo,Vo.prototype.isShadowMaterial=!0,Vo.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this},y.RawShaderMaterial=Wo,Wo.prototype=Object.create(or.prototype),Wo.prototype.constructor=Wo,Wo.prototype.isRawShaderMaterial=!0,y.MeshStandardMaterial=qo,qo.prototype=Object.create(ot.prototype),qo.prototype.constructor=qo,qo.prototype.isMeshStandardMaterial=!0,qo.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},y.MeshPhysicalMaterial=Xo,Xo.prototype=Object.create(qo.prototype),Xo.prototype.constructor=Xo,Xo.prototype.isMeshPhysicalMaterial=!0,Xo.prototype.copy=function(e){return qo.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new et).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this},y.MeshPhongMaterial=Yo,Yo.prototype=Object.create(ot.prototype),Yo.prototype.constructor=Yo,Yo.prototype.isMeshPhongMaterial=!0,Yo.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},y.MeshToonMaterial=Zo,Zo.prototype=Object.create(ot.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isMeshToonMaterial=!0,Zo.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},y.MeshNormalMaterial=Jo,Jo.prototype=Object.create(ot.prototype),Jo.prototype.constructor=Jo,Jo.prototype.isMeshNormalMaterial=!0,Jo.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},y.MeshLambertMaterial=Qo,Qo.prototype=Object.create(ot.prototype),Qo.prototype.constructor=Qo,Qo.prototype.isMeshLambertMaterial=!0,Qo.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},y.MeshMatcapMaterial=Ko,Ko.prototype=Object.create(ot.prototype),Ko.prototype.constructor=Ko,Ko.prototype.isMeshMatcapMaterial=!0,Ko.prototype.copy=function(e){return ot.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},y.LineDashedMaterial=$o,$o.prototype=Object.create(ii.prototype),$o.prototype.constructor=$o,$o.prototype.isLineDashedMaterial=!0,$o.prototype.copy=function(e){return ii.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var es=Object.freeze({__proto__:null,ShadowMaterial:Vo,SpriteMaterial:Pa,RawShaderMaterial:Wo,ShaderMaterial:or,PointsMaterial:gi,MeshPhysicalMaterial:Xo,MeshStandardMaterial:qo,MeshPhongMaterial:Yo,MeshToonMaterial:Zo,MeshNormalMaterial:Jo,MeshLambertMaterial:Qo,MeshDepthMaterial:la,MeshDistanceMaterial:ha,MeshBasicMaterial:st,MeshMatcapMaterial:Ko,LineDashedMaterial:$o,LineBasicMaterial:ii,Material:ot});const ts={arraySlice:function(e,t,r){return ts.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,r=new Array(t);for(let e=0;e!==t;++e)r[e]=e;return r.sort((function(t,r){return e[t]-e[r]})),r},sortedArray:function(e,t,r){const n=e.length,a=new e.constructor(n);for(let i=0,o=0;o!==n;++i){const n=r[i]*t;for(let r=0;r!==t;++r)a[o++]=e[n+r]}return a},flattenJSON:function(e,t,r,n){let a=1,i=e[0];for(;void 0!==i&&void 0===i[n];)i=e[a++];if(void 0===i)return;let o=i[n];if(void 0!==o)if(Array.isArray(o))do{o=i[n],void 0!==o&&(t.push(i.time),r.push.apply(r,o)),i=e[a++]}while(void 0!==i);else if(void 0!==o.toArray)do{o=i[n],void 0!==o&&(t.push(i.time),o.toArray(r,r.length)),i=e[a++]}while(void 0!==i);else do{o=i[n],void 0!==o&&(t.push(i.time),r.push(o)),i=e[a++]}while(void 0!==i)},subclip:function(e,t,r,n,a){a=a||30;const i=e.clone();i.name=t;const o=[];for(let e=0;e<i.tracks.length;++e){const t=i.tracks[e],s=t.getValueSize(),c=[],d=[];for(let e=0;e<t.times.length;++e){const i=t.times[e]*a;if(!(i<r||i>=n)){c.push(t.times[e]);for(let r=0;r<s;++r)d.push(t.values[e*s+r])}}0!==c.length&&(t.times=ts.convertArray(c,t.times.constructor),t.values=ts.convertArray(d,t.values.constructor),o.push(t))}i.tracks=o;let s=1/0;for(let e=0;e<i.tracks.length;++e)s>i.tracks[e].times[0]&&(s=i.tracks[e].times[0]);for(let e=0;e<i.tracks.length;++e)i.tracks[e].shift(-1*s);return i.resetDuration(),i},makeClipAdditive:function(e,t,r,n){void 0===t&&(t=0),void 0===r&&(r=e),(void 0===n||n<=0)&&(n=30);const a=e.tracks.length,i=t/n;for(let t=0;t<a;++t){const n=r.tracks[t],a=n.ValueTypeName;if("bool"===a||"string"===a)continue;const o=e.tracks.find((function(e){return e.name===n.name&&e.ValueTypeName===a}));if(void 0===o)continue;const s=n.getValueSize(),c=n.times.length-1;let d;if(i<=n.times[0])d=ts.arraySlice(n.values,0,n.valueSize);else if(i>=n.times[c]){const e=c*s;d=ts.arraySlice(n.values,e)}else{const e=n.createInterpolant();e.evaluate(i),d=e.resultBuffer}if("quaternion"===a){new D(d[0],d[1],d[2],d[3]).normalize().conjugate().toArray(d)}const u=o.times.length;for(let e=0;e<u;++e){const t=e*s;if("quaternion"===a)D.multiplyQuaternionsFlat(o.values,t,d,0,o.values,t);else for(let e=0;e<s;++e)o.values[t+e]-=d[e]}}return e.blendMode=2501,e}};function rs(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r}function ns(e,t,r,n){rs.call(this,e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function as(e,t,r,n){rs.call(this,e,t,r,n)}function is(e,t,r,n){rs.call(this,e,t,r,n)}function os(e,t,r,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ts.convertArray(t,this.TimeBufferType),this.values=ts.convertArray(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function ss(e,t,r){os.call(this,e,t,r)}function cs(e,t,r,n){os.call(this,e,t,r,n)}function ds(e,t,r,n){os.call(this,e,t,r,n)}function us(e,t,r,n){rs.call(this,e,t,r,n)}function fs(e,t,r,n){os.call(this,e,t,r,n)}function ls(e,t,r,n){os.call(this,e,t,r,n)}function hs(e,t,r,n){os.call(this,e,t,r,n)}function ps(e,t,r,n){this.name=e,this.tracks=r,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==n?n:2500,this.uuid=S.generateUUID(),this.duration<0&&this.resetDuration()}function bs(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ds;case"vector":case"vector2":case"vector3":case"vector4":return hs;case"color":return cs;case"quaternion":return fs;case"bool":case"boolean":return ss;case"string":return ls}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],r=[];ts.flattenJSON(e.keys,t,r,"value"),e.times=t,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}y.AnimationUtils=ts,y.Interpolant=rs,Object.assign(rs.prototype,{evaluate:function(e){let t=this.parameterPositions,r=this._cachedIndex,n=t[r],a=t[r-1];e:{t:{let i;r:{n:if(!(e<n)){for(let i=r+2;;){if(void 0===n){if(e<a)break n;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,a)}if(r===i)break;if(a=n,n=t[++r],e<n)break t}i=t.length;break r}if(e>=a)break e;{const o=t[1];e<o&&(r=2,a=o);for(let i=r-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(r===i)break;if(n=a,a=t[--r-1],e>=a)break t}i=r,r=0}}for(;r<i;){const n=r+i>>>1;e<t[n]?i=n:r=n+1}if(n=t[r],a=t[r-1],void 0===a)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,a,e)}this._cachedIndex=r,this.intervalChanged_(r,a,n)}return this.interpolate_(r,a,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,a=e*n;for(let e=0;e!==n;++e)t[e]=r[a+e];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(rs.prototype,{beforeStart_:rs.prototype.copySampleValue_,afterEnd_:rs.prototype.copySampleValue_}),y.CubicInterpolant=ns,ns.prototype=Object.assign(Object.create(rs.prototype),{constructor:ns,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,r){let n=this.parameterPositions,a=e-2,i=e+1,o=n[a],s=n[i];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:a=e,o=2*t-r;break;case 2402:a=n.length-2,o=t+n[a]-n[a+1];break;default:a=e,o=r}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:i=e,s=2*r-t;break;case 2402:i=1,s=r+n[1]-n[0];break;default:i=e-1,s=t}const c=.5*(r-t),d=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(s-r),this._offsetPrev=a*d,this._offsetNext=i*d},interpolate_:function(e,t,r,n){const a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,l=this._weightNext,h=(r-t)/(n-t),p=h*h,b=p*h,g=-f*b+2*f*p-f*h,m=(1+f)*b+(-1.5-2*f)*p+(-.5+f)*h+1,v=(-1-l)*b+(1.5+l)*p+.5*h,y=l*b-l*p;for(let e=0;e!==o;++e)a[e]=g*i[d+e]+m*i[c+e]+v*i[s+e]+y*i[u+e];return a}}),y.LinearInterpolant=as,as.prototype=Object.assign(Object.create(rs.prototype),{constructor:as,interpolate_:function(e,t,r,n){const a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,d=(r-t)/(n-t),u=1-d;for(let e=0;e!==o;++e)a[e]=i[c+e]*u+i[s+e]*d;return a}}),y.DiscreteInterpolant=is,is.prototype=Object.assign(Object.create(rs.prototype),{constructor:is,interpolate_:function(e){return this.copySampleValue_(e-1)}}),y.KeyframeTrack=os,Object.assign(os,{toJSON:function(e){const t=e.constructor;let r;if(void 0!==t.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ts.convertArray(e.times,Array),values:ts.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(r.interpolation=t)}return r.type=e.ValueTypeName,r}}),Object.assign(os.prototype,{constructor:os,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new is(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new as(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new ns(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]+=e}return this},scale:function(e){if(1!==e){const t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]*=e}return this},trim:function(e,t){const r=this.times,n=r.length;let a=0,i=n-1;for(;a!==n&&r[a]<e;)++a;for(;-1!==i&&r[i]>t;)--i;if(++i,0!==a||i!==n){a>=i&&(i=Math.max(i,1),a=i-1);const e=this.getValueSize();this.times=ts.arraySlice(r,a,i),this.values=ts.arraySlice(this.values,a*e,i*e)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,n=this.values,a=r.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let i=null;for(let t=0;t!==a;t++){const n=r[t];if("number"==typeof n&&isNaN(n)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,n),e=!1;break}if(null!==i&&i>n){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,n,i),e=!1;break}i=n}if(void 0!==n&&ts.isTypedArray(n))for(let t=0,r=n.length;t!==r;++t){const r=n[t];if(isNaN(r)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,r),e=!1;break}}return e},optimize:function(){const e=ts.arraySlice(this.times),t=ts.arraySlice(this.values),r=this.getValueSize(),n=2302===this.getInterpolation(),a=e.length-1;let i=1;for(let o=1;o<a;++o){let a=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==s[0]))if(n)a=!0;else{const e=o*r,n=e-r,i=e+r;for(let o=0;o!==r;++o){const r=t[e+o];if(r!==t[n+o]||r!==t[i+o]){a=!0;break}}}if(a){if(o!==i){e[i]=e[o];const n=o*r,a=i*r;for(let e=0;e!==r;++e)t[a+e]=t[n+e]}++i}}if(a>0){e[i]=e[a];for(let e=a*r,n=i*r,o=0;o!==r;++o)t[n+o]=t[e+o];++i}return i!==e.length?(this.times=ts.arraySlice(e,0,i),this.values=ts.arraySlice(t,0,i*r)):(this.times=e,this.values=t),this},clone:function(){const e=ts.arraySlice(this.times,0),t=ts.arraySlice(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}),y.BooleanKeyframeTrack=ss,ss.prototype=Object.assign(Object.create(os.prototype),{constructor:ss,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),y.ColorKeyframeTrack=cs,cs.prototype=Object.assign(Object.create(os.prototype),{constructor:cs,ValueTypeName:"color"}),y.NumberKeyframeTrack=ds,ds.prototype=Object.assign(Object.create(os.prototype),{constructor:ds,ValueTypeName:"number"}),y.QuaternionLinearInterpolant=us,us.prototype=Object.assign(Object.create(rs.prototype),{constructor:us,interpolate_:function(e,t,r,n){const a=this.resultBuffer,i=this.sampleValues,o=this.valueSize,s=(r-t)/(n-t);let c=e*o;for(let e=c+o;c!==e;c+=4)D.slerpFlat(a,0,i,c-o,i,c,s);return a}}),y.QuaternionKeyframeTrack=fs,fs.prototype=Object.assign(Object.create(os.prototype),{constructor:fs,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new us(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),y.StringKeyframeTrack=ls,ls.prototype=Object.assign(Object.create(os.prototype),{constructor:ls,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),y.VectorKeyframeTrack=hs,hs.prototype=Object.assign(Object.create(os.prototype),{constructor:hs,ValueTypeName:"vector"}),y.AnimationClip=ps,Object.assign(ps,{parse:function(e){const t=[],r=e.tracks,n=1/(e.fps||1);for(let e=0,a=r.length;e!==a;++e)t.push(bs(r[e]).scale(n));return new ps(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,n=r.length;e!==n;++e)t.push(os.toJSON(r[e]));return n},CreateFromMorphTargetSequence:function(e,t,r,n){const a=t.length,i=[];for(let e=0;e<a;e++){let o=[],s=[];o.push((e+a-1)%a,e,(e+1)%a),s.push(0,1,0);const c=ts.getKeyframeOrder(o);o=ts.sortedArray(o,1,c),s=ts.sortedArray(s,1,c),n||0!==o[0]||(o.push(a),s.push(s[0])),i.push(new ds(".morphTargetInfluences["+t[e].name+"]",o,s).scale(1/r))}return new ps(e,-1,i)},findByName:function(e,t){let r=e;if(!Array.isArray(e)){const t=e;r=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<r.length;e++)if(r[e].name===t)return r[e];return null},CreateClipsFromMorphTargetSequences:function(e,t,r){const n={},a=/^([\w-]*?)([\d]+)$/;for(let t=0,r=e.length;t<r;t++){const r=e[t],i=r.name.match(a);if(i&&i.length>1){const e=i[1];let t=n[e];t||(n[e]=t=[]),t.push(r)}}const i=[];for(const e in n)i.push(ps.CreateFromMorphTargetSequence(e,n[e],t,r));return i},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(e,t,r,n,a){if(0!==r.length){const i=[],o=[];ts.flattenJSON(r,i,o,n),0!==i.length&&a.push(new e(t,i,o))}},n=[],a=e.name||"default",i=e.fps||30,o=e.blendMode;let s=e.length||-1;const c=e.hierarchy||[];for(let e=0;e<c.length;e++){const a=c[e].keys;if(a&&0!==a.length)if(a[0].morphTargets){const e={};let t;for(t=0;t<a.length;t++)if(a[t].morphTargets)for(let r=0;r<a[t].morphTargets.length;r++)e[a[t].morphTargets[r]]=-1;for(const r in e){const e=[],i=[];for(let n=0;n!==a[t].morphTargets.length;++n){const n=a[t];e.push(n.time),i.push(n.morphTarget===r?1:0)}n.push(new ds(".morphTargetInfluence["+r+"]",e,i))}s=e.length*(i||1)}else{const i=".bones["+t[e].name+"]";r(hs,i+".position",a,"pos",n),r(fs,i+".quaternion",a,"rot",n),r(hs,i+".scale",a,"scl",n)}}if(0===n.length)return null;return new ps(a,s,n,o)}}),Object.assign(ps.prototype,{resetDuration:function(){let e=0;for(let t=0,r=this.tracks.length;t!==r;++t){const r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new ps(this.name,this.duration,e,this.blendMode)}});const gs={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function ms(e,t,r){const n=this;let a=!1,i=0,o=0,s=void 0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){o++,!1===a&&void 0!==n.onStart&&n.onStart(e,i,o),a=!0},this.itemEnd=function(e){i++,void 0!==n.onProgress&&n.onProgress(e,i,o),i===o&&(a=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){const t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(let t=0,r=c.length;t<r;t+=2){const r=c[t],n=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return n}return null}}y.Cache=gs,y.LoadingManager=ms;const vs=new ms;function ys(e){this.manager=void 0!==e?e:vs,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}y.DefaultLoadingManager=vs,y.Loader=ys,Object.assign(ys.prototype,{load:function(){},loadAsync:function(e,t){const r=this;return new Promise((function(n,a){r.load(e,n,t,a)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const xs={};function ws(e){ys.call(this,e)}function _s(e){ys.call(this,e)}function Ms(e){ys.call(this,e)}function Ss(e){ys.call(this,e)}function Ts(e){ys.call(this,e)}function Es(e){ys.call(this,e)}function As(e){ys.call(this,e)}function Cs(){this.type="Curve",this.arcLengthDivisions=200}function Ls(e,t,r,n,a,i,o,s){Cs.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=r||1,this.yRadius=n||1,this.aStartAngle=a||0,this.aEndAngle=i||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Ps(e,t,r,n,a,i){Ls.call(this,e,t,r,r,n,a,i),this.type="ArcCurve"}function Rs(){let e=0,t=0,r=0,n=0;function a(a,i,o,s){e=a,t=o,r=-3*a+3*i-2*o-s,n=2*a-2*i+o+s}return{initCatmullRom:function(e,t,r,n,i){a(t,r,i*(r-e),i*(n-t))},initNonuniformCatmullRom:function(e,t,r,n,i,o,s){let c=(t-e)/i-(r-e)/(i+o)+(r-t)/o,d=(r-t)/o-(n-t)/(o+s)+(n-r)/s;c*=o,d*=o,a(t,r,c,d)},calc:function(a){const i=a*a;return e+t*a+r*i+n*(i*a)}}}y.FileLoader=ws,ws.prototype=Object.assign(Object.create(ys.prototype),{constructor:ws,load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,i=gs.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;if(void 0!==xs[e])return void xs[e].push({onLoad:t,onProgress:r,onError:n});const o=e.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(o){const r=o[1],i=!!o[2];let s=o[3];s=decodeURIComponent(s),i&&(s=atob(s));try{let n;const i=(this.responseType||"").toLowerCase();switch(i){case"arraybuffer":case"blob":const e=new Uint8Array(s.length);for(let t=0;t<s.length;t++)e[t]=s.charCodeAt(t);n="blob"===i?new Blob([e.buffer],{type:r}):e.buffer;break;case"document":const t=new DOMParser;n=t.parseFromString(s,r);break;case"json":n=JSON.parse(s);break;default:n=s}setTimeout((function(){t&&t(n),a.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){n&&n(t),a.manager.itemError(e),a.manager.itemEnd(e)}),0)}}else{xs[e]=[],xs[e].push({onLoad:t,onProgress:r,onError:n}),s=new XMLHttpRequest,s.open("GET",e,!0),s.addEventListener("load",(function(t){const r=this.response,n=xs[e];if(delete xs[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),gs.add(e,r);for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onLoad&&t.onLoad(r)}a.manager.itemEnd(e)}else{for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}}),!1),s.addEventListener("progress",(function(t){const r=xs[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onProgress&&n.onProgress(t)}}),!1),s.addEventListener("error",(function(t){const r=xs[e];delete xs[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),s.addEventListener("abort",(function(t){const r=xs[e];delete xs[e];for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}a.manager.itemError(e),a.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)s.setRequestHeader(e,this.requestHeader[e]);s.send(null)}return a.manager.itemStart(e),s},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),y.AnimationLoader=_s,_s.prototype=Object.assign(Object.create(ys.prototype),{constructor:_s,load:function(e,t,r,n){const a=this,i=new ws(a.manager);i.setPath(a.path),i.load(e,(function(r){try{t(a.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),a.manager.itemError(e)}}),r,n)},parse:function(e){const t=[];for(let r=0;r<e.length;r++){const n=ps.parse(e[r]);t.push(n)}return t}}),y.CompressedTextureLoader=Ms,Ms.prototype=Object.assign(Object.create(ys.prototype),{constructor:Ms,load:function(e,t,r,n){const a=this,i=[],o=new Si;o.image=i;const s=new ws(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer");let c=0;function d(d){s.load(e[d],(function(e){const r=a.parse(e,!0);i[d]={width:r.width,height:r.height,format:r.format,mipmaps:r.mipmaps},c+=1,6===c&&(1===r.mipmapCount&&(o.minFilter=1006),o.format=r.format,o.needsUpdate=!0,t&&t(o))}),r,n)}if(Array.isArray(e))for(let t=0,r=e.length;t<r;++t)d(t);else s.load(e,(function(e){const r=a.parse(e,!0);if(r.isCubemap){const e=r.mipmaps.length/r.mipmapCount;for(let t=0;t<e;t++){i[t]={mipmaps:[]};for(let e=0;e<r.mipmapCount;e++)i[t].mipmaps.push(r.mipmaps[t*r.mipmapCount+e]),i[t].format=r.format,i[t].width=r.width,i[t].height=r.height}}else o.image.width=r.width,o.image.height=r.height,o.mipmaps=r.mipmaps;1===r.mipmapCount&&(o.minFilter=1006),o.format=r.format,o.needsUpdate=!0,t&&t(o)}),r,n);return o}}),y.DataTextureLoader=Ss,Ss.prototype=Object.assign(Object.create(ys.prototype),{constructor:Ss,load:function(e,t,r,n){const a=this,i=new fr,o=new ws(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(e,(function(e){const r=a.parse(e);r&&(void 0!==r.image?i.image=r.image:void 0!==r.data&&(i.image.width=r.width,i.image.height=r.height,i.image.data=r.data),i.wrapS=void 0!==r.wrapS?r.wrapS:1001,i.wrapT=void 0!==r.wrapT?r.wrapT:1001,i.magFilter=void 0!==r.magFilter?r.magFilter:1006,i.minFilter=void 0!==r.minFilter?r.minFilter:1006,i.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(i.format=r.format),void 0!==r.type&&(i.type=r.type),void 0!==r.mipmaps&&(i.mipmaps=r.mipmaps,i.minFilter=1008),1===r.mipmapCount&&(i.minFilter=1006),i.needsUpdate=!0,t&&t(i,r))}),r,n),i}}),y.ImageLoader=Ts,Ts.prototype=Object.assign(Object.create(ys.prototype),{constructor:Ts,load:function(e,t,r,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,i=gs.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),gs.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),n&&n(t),a.manager.itemError(e),a.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}),y.CubeTextureLoader=Es,Es.prototype=Object.assign(Object.create(ys.prototype),{constructor:Es,load:function(e,t,r,n){const a=new Ir,i=new Ts(this.manager);i.setCrossOrigin(this.crossOrigin),i.setPath(this.path);let o=0;function s(r){i.load(e[r],(function(e){a.images[r]=e,o++,6===o&&(a.needsUpdate=!0,t&&t(a))}),void 0,n)}for(let t=0;t<e.length;++t)s(t);return a}}),y.TextureLoader=As,As.prototype=Object.assign(Object.create(ys.prototype),{constructor:As,load:function(e,t,r,n){const a=new P,i=new Ts(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(function(r){a.image=r;const n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);a.format=n?1022:1023,a.needsUpdate=!0,void 0!==t&&t(a)}),r,n),a}}),y.Curve=Cs,Object.assign(Cs.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)},getPoints:function(e){void 0===e&&(e=5);const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,n=this.getPoint(0),a=0;t.push(0);for(let i=1;i<=e;i++)r=this.getPoint(i/e),a+=r.distanceTo(n),t.push(a),n=r;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const r=this.getLengths();let n,a=0,i=r.length;n=t||e*r[i-1];let o,s=0,c=i-1;for(;s<=c;)if(a=Math.floor(s+(c-s)/2),o=r[a]-n,o<0)s=a+1;else{if(!(o>0)){c=a;break}c=a-1}if(a=c,r[a]===n)return a/(i-1);const d=r[a];return(a+(n-d)/(r[a+1]-d))/(i-1)},getTangent:function(e,t){let r=e-1e-4,n=e+1e-4;r<0&&(r=0),n>1&&(n=1);const a=this.getPoint(r),i=this.getPoint(n),o=t||(a.isVector2?new T:new B);return o.copy(i).sub(a).normalize(),o},getTangentAt:function(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)},computeFrenetFrames:function(e,t){const r=new B,n=[],a=[],i=[],o=new B,s=new W;for(let t=0;t<=e;t++){const r=t/e;n[t]=this.getTangentAt(r,new B),n[t].normalize()}a[0]=new B,i[0]=new B;let c=Number.MAX_VALUE;const d=Math.abs(n[0].x),u=Math.abs(n[0].y),f=Math.abs(n[0].z);d<=c&&(c=d,r.set(1,0,0)),u<=c&&(c=u,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(n[0],r).normalize(),a[0].crossVectors(n[0],o),i[0].crossVectors(n[0],a[0]);for(let t=1;t<=e;t++){if(a[t]=a[t-1].clone(),i[t]=i[t-1].clone(),o.crossVectors(n[t-1],n[t]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(S.clamp(n[t-1].dot(n[t]),-1,1));a[t].applyMatrix4(s.makeRotationAxis(o,e))}i[t].crossVectors(n[t],a[t])}if(!0===t){let t=Math.acos(S.clamp(a[0].dot(a[e]),-1,1));t/=e,n[0].dot(o.crossVectors(a[0],a[e]))>0&&(t=-t);for(let r=1;r<=e;r++)a[r].applyMatrix4(s.makeRotationAxis(n[r],t*r)),i[r].crossVectors(n[r],a[r])}return{tangents:n,normals:a,binormals:i}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),y.EllipseCurve=Ls,Ls.prototype=Object.create(Cs.prototype),Ls.prototype.constructor=Ls,Ls.prototype.isEllipseCurve=!0,Ls.prototype.getPoint=function(e,t){const r=t||new T,n=2*Math.PI;let a=this.aEndAngle-this.aStartAngle;const i=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=n;for(;a>n;)a-=n;a<Number.EPSILON&&(a=i?0:n),!0!==this.aClockwise||i||(a===n?a=-n:a-=n);const o=this.aStartAngle+e*a;let s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),r=s-this.aX,n=c-this.aY;s=r*e-n*t+this.aX,c=r*t+n*e+this.aY}return r.set(s,c)},Ls.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Ls.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Ls.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},y.ArcCurve=Ps,Ps.prototype=Object.create(Ls.prototype),Ps.prototype.constructor=Ps,Ps.prototype.isArcCurve=!0;const ks=new B,Os=new Rs,Ds=new Rs,Is=new Rs;function Ns(e,t,r,n){Cs.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=r||"centripetal",this.tension=n||.5}function Bs(e,t,r,n,a){const i=.5*(n-t),o=.5*(a-r),s=e*e;return(2*r-2*n+i+o)*(e*s)+(-3*r+3*n-2*i-o)*s+i*e+r}function zs(e,t,r,n){return function(e,t){const r=1-e;return r*r*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,r)+function(e,t){return e*e*t}(e,n)}function js(e,t,r,n,a){return function(e,t){const r=1-e;return r*r*r*t}(e,t)+function(e,t){const r=1-e;return 3*r*r*e*t}(e,r)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,a)}function Fs(e,t,r,n){Cs.call(this),this.type="CubicBezierCurve",this.v0=e||new T,this.v1=t||new T,this.v2=r||new T,this.v3=n||new T}function Us(e,t,r,n){Cs.call(this),this.type="CubicBezierCurve3",this.v0=e||new B,this.v1=t||new B,this.v2=r||new B,this.v3=n||new B}function Gs(e,t){Cs.call(this),this.type="LineCurve",this.v1=e||new T,this.v2=t||new T}function Hs(e,t){Cs.call(this),this.type="LineCurve3",this.v1=e||new B,this.v2=t||new B}function Vs(e,t,r){Cs.call(this),this.type="QuadraticBezierCurve",this.v0=e||new T,this.v1=t||new T,this.v2=r||new T}function Ws(e,t,r){Cs.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new B,this.v1=t||new B,this.v2=r||new B}function qs(e){Cs.call(this),this.type="SplineCurve",this.points=e||[]}y.CatmullRomCurve3=Ns,Ns.prototype=Object.create(Cs.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isCatmullRomCurve3=!0,Ns.prototype.getPoint=function(e,t){const r=t||new B,n=this.points,a=n.length,i=(a-(this.closed?0:1))*e;let o,s,c,d,u=Math.floor(i),f=i-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:0===f&&u===a-1&&(u=a-2,f=1),this.closed||u>0?o=n[(u-1)%a]:(ks.subVectors(n[0],n[1]).add(n[0]),o=ks),s=n[u%a],c=n[(u+1)%a],this.closed||u+2<a?d=n[(u+2)%a]:(ks.subVectors(n[a-1],n[a-2]).add(n[a-1]),d=ks),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(s),e),r=Math.pow(s.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(d),e);r<1e-4&&(r=1),t<1e-4&&(t=r),n<1e-4&&(n=r),Os.initNonuniformCatmullRom(o.x,s.x,c.x,d.x,t,r,n),Ds.initNonuniformCatmullRom(o.y,s.y,c.y,d.y,t,r,n),Is.initNonuniformCatmullRom(o.z,s.z,c.z,d.z,t,r,n)}else"catmullrom"===this.curveType&&(Os.initCatmullRom(o.x,s.x,c.x,d.x,this.tension),Ds.initCatmullRom(o.y,s.y,c.y,d.y,this.tension),Is.initCatmullRom(o.z,s.z,c.z,d.z,this.tension));return r.set(Os.calc(f),Ds.calc(f),Is.calc(f)),r},Ns.prototype.copy=function(e){Cs.prototype.copy.call(this,e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Ns.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);e.points=[];for(let t=0,r=this.points.length;t<r;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Ns.prototype.fromJSON=function(e){Cs.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push((new B).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},y.CubicBezierCurve=Fs,Fs.prototype=Object.create(Cs.prototype),Fs.prototype.constructor=Fs,Fs.prototype.isCubicBezierCurve=!0,Fs.prototype.getPoint=function(e,t){const r=t||new T,n=this.v0,a=this.v1,i=this.v2,o=this.v3;return r.set(js(e,n.x,a.x,i.x,o.x),js(e,n.y,a.y,i.y,o.y)),r},Fs.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Fs.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Fs.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},y.CubicBezierCurve3=Us,Us.prototype=Object.create(Cs.prototype),Us.prototype.constructor=Us,Us.prototype.isCubicBezierCurve3=!0,Us.prototype.getPoint=function(e,t){const r=t||new B,n=this.v0,a=this.v1,i=this.v2,o=this.v3;return r.set(js(e,n.x,a.x,i.x,o.x),js(e,n.y,a.y,i.y,o.y),js(e,n.z,a.z,i.z,o.z)),r},Us.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Us.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Us.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},y.LineCurve=Gs,Gs.prototype=Object.create(Cs.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isLineCurve=!0,Gs.prototype.getPoint=function(e,t){const r=t||new T;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Gs.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Gs.prototype.getTangent=function(e,t){const r=t||new T;return r.copy(this.v2).sub(this.v1).normalize(),r},Gs.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Gs.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Gs.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},y.LineCurve3=Hs,Hs.prototype=Object.create(Cs.prototype),Hs.prototype.constructor=Hs,Hs.prototype.isLineCurve3=!0,Hs.prototype.getPoint=function(e,t){const r=t||new B;return 1===e?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r},Hs.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Hs.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Hs.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Hs.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},y.QuadraticBezierCurve=Vs,Vs.prototype=Object.create(Cs.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isQuadraticBezierCurve=!0,Vs.prototype.getPoint=function(e,t){const r=t||new T,n=this.v0,a=this.v1,i=this.v2;return r.set(zs(e,n.x,a.x,i.x),zs(e,n.y,a.y,i.y)),r},Vs.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Vs.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Vs.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},y.QuadraticBezierCurve3=Ws,Ws.prototype=Object.create(Cs.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isQuadraticBezierCurve3=!0,Ws.prototype.getPoint=function(e,t){const r=t||new B,n=this.v0,a=this.v1,i=this.v2;return r.set(zs(e,n.x,a.x,i.x),zs(e,n.y,a.y,i.y),zs(e,n.z,a.z,i.z)),r},Ws.prototype.copy=function(e){return Cs.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ws.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ws.prototype.fromJSON=function(e){return Cs.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},y.SplineCurve=qs,qs.prototype=Object.create(Cs.prototype),qs.prototype.constructor=qs,qs.prototype.isSplineCurve=!0,qs.prototype.getPoint=function(e,t){const r=t||new T,n=this.points,a=(n.length-1)*e,i=Math.floor(a),o=a-i,s=n[0===i?i:i-1],c=n[i],d=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return r.set(Bs(o,s.x,c.x,d.x,u.x),Bs(o,s.y,c.y,d.y,u.y)),r},qs.prototype.copy=function(e){Cs.prototype.copy.call(this,e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push(r.clone())}return this},qs.prototype.toJSON=function(){const e=Cs.prototype.toJSON.call(this);e.points=[];for(let t=0,r=this.points.length;t<r;t++){const r=this.points[t];e.points.push(r.toArray())}return e},qs.prototype.fromJSON=function(e){Cs.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const r=e.points[t];this.points.push((new T).fromArray(r))}return this};var Xs=Object.freeze({__proto__:null,ArcCurve:Ps,CatmullRomCurve3:Ns,CubicBezierCurve:Fs,CubicBezierCurve3:Us,EllipseCurve:Ls,LineCurve:Gs,LineCurve3:Hs,QuadraticBezierCurve:Vs,QuadraticBezierCurve3:Ws,SplineCurve:qs});function Ys(){Cs.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Zs(e){Ys.call(this),this.type="Path",this.currentPoint=new T,e&&this.setFromPoints(e)}function Js(e){Zs.call(this,e),this.uuid=S.generateUUID(),this.type="Shape",this.holes=[]}function Qs(e,t){de.call(this),this.type="Light",this.color=new et(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Ks(e,t,r){Qs.call(this,e,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(de.DefaultUp),this.updateMatrix(),this.groundColor=new et(t)}function $s(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new T(512,512),this.map=null,this.mapPass=null,this.matrix=new W,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new pr,this._frameExtents=new T(1,1),this._viewportCount=1,this._viewports=[new R(0,0,1,1)]}function ec(){$s.call(this,new cr(50,1,.5,500))}function tc(e,t,r,n,a,i){Qs.call(this,e,t),this.type="SpotLight",this.position.copy(de.DefaultUp),this.updateMatrix(),this.target=new de,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==a?a:0,this.decay=void 0!==i?i:1,this.shadow=new ec}function rc(){$s.call(this,new cr(90,1,.5,500)),this._frameExtents=new T(4,2),this._viewportCount=6,this._viewports=[new R(2,1,1,1),new R(0,1,1,1),new R(3,1,1,1),new R(1,1,1,1),new R(3,0,1,1),new R(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}function nc(e,t,r,n){Qs.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==r?r:0,this.decay=void 0!==n?n:1,this.shadow=new rc}function ac(e,t,r,n,a,i){sr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==r?r:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==a?a:.1,this.far=void 0!==i?i:2e3,this.updateProjectionMatrix()}function ic(){$s.call(this,new ac(-5,5,5,-5,.5,500))}function oc(e,t){Qs.call(this,e,t),this.type="DirectionalLight",this.position.copy(de.DefaultUp),this.updateMatrix(),this.target=new de,this.shadow=new ic}function sc(e,t){Qs.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function cc(e,t,r,n){Qs.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==r?r:10,this.height=void 0!==n?n:10}function dc(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new B)}function uc(e,t){Qs.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new dc}function fc(e){ys.call(this,e),this.textures={}}y.CurvePath=Ys,Ys.prototype=Object.assign(Object.create(Cs.prototype),{constructor:Ys,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Gs(t,e))},getPoint:function(e){const t=e*this.getLength(),r=this.getCurveLengths();let n=0;for(;n<r.length;){if(r[n]>=t){const e=r[n]-t,a=this.curves[n],i=a.getLength(),o=0===i?0:1-e/i;return a.getPointAt(o)}n++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let r;for(let n=0,a=this.curves;n<a.length;n++){const i=a[n],o=i&&i.isEllipseCurve?2*e:i&&(i.isLineCurve||i.isLineCurve3)?1:i&&i.isSplineCurve?e*i.points.length:e,s=i.getPoints(o);for(let e=0;e<s.length;e++){const n=s[e];r&&r.equals(n)||(t.push(n),r=n)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Cs.prototype.copy.call(this,e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Cs.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Cs.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const r=e.curves[t];this.curves.push((new Xs[r.type]).fromJSON(r))}return this}}),y.Path=Zs,Zs.prototype=Object.assign(Object.create(Ys.prototype),{constructor:Zs,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const r=new Gs(this.currentPoint.clone(),new T(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,r,n){const a=new Vs(this.currentPoint.clone(),new T(e,t),new T(r,n));return this.curves.push(a),this.currentPoint.set(r,n),this},bezierCurveTo:function(e,t,r,n,a,i){const o=new Fs(this.currentPoint.clone(),new T(e,t),new T(r,n),new T(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this},splineThru:function(e){const t=new qs([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,r,n,a,i){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,r,n,a,i),this},absarc:function(e,t,r,n,a,i){return this.absellipse(e,t,r,r,n,a,i),this},ellipse:function(e,t,r,n,a,i,o,s){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,r,n,a,i,o,s),this},absellipse:function(e,t,r,n,a,i,o,s){const c=new Ls(e,t,r,n,a,i,o,s);if(this.curves.length>0){const e=c.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this},copy:function(e){return Ys.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Ys.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Ys.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),y.Shape=Js,Js.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Js,getPointsHoles:function(e){const t=[];for(let r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Zs.prototype.copy.call(this,e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){const e=Zs.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Zs.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const r=e.holes[t];this.holes.push((new Zs).fromJSON(r))}return this}}),y.Light=Qs,Qs.prototype=Object.assign(Object.create(de.prototype),{constructor:Qs,isLight:!0,copy:function(e){return de.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=de.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),y.HemisphereLight=Ks,Ks.prototype=Object.assign(Object.create(Qs.prototype),{constructor:Ks,isHemisphereLight:!0,copy:function(e){return Qs.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),y.LightShadow=$s,Object.assign($s.prototype,{_projScreenMatrix:new W,_lightPositionWorld:new B,_lookTarget:new B,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,r=this.matrix,n=this._projScreenMatrix,a=this._lookTarget,i=this._lightPositionWorld;i.setFromMatrixPosition(e.matrixWorld),t.position.copy(i),a.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(a),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),y.SpotLightShadow=ec,ec.prototype=Object.assign(Object.create($s.prototype),{constructor:ec,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,r=2*S.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&n===t.aspect&&a===t.far||(t.fov=r,t.aspect=n,t.far=a,t.updateProjectionMatrix()),$s.prototype.updateMatrices.call(this,e)}}),y.SpotLight=tc,tc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:tc,isSpotLight:!0,copy:function(e){return Qs.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),rc.prototype=Object.assign(Object.create($s.prototype),{constructor:rc,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);const r=this.camera,n=this.matrix,a=this._lightPositionWorld,i=this._lookTarget,o=this._projScreenMatrix;a.setFromMatrixPosition(e.matrixWorld),r.position.copy(a),i.copy(r.position),i.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(i),r.updateMatrixWorld(),n.makeTranslation(-a.x,-a.y,-a.z),o.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),y.PointLight=nc,nc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:nc,isPointLight:!0,copy:function(e){return Qs.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),y.OrthographicCamera=ac,ac.prototype=Object.assign(Object.create(sr.prototype),{constructor:ac,isOrthographicCamera:!0,copy:function(e,t){return sr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,r,n,a,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=a,this.view.height=i,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let a=r-e,i=r+e,o=n+t,s=n-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=e*this.view.offsetX,i=a+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(a,i,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=de.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),y.DirectionalLightShadow=ic,ic.prototype=Object.assign(Object.create($s.prototype),{constructor:ic,isDirectionalLightShadow:!0,updateMatrices:function(e){$s.prototype.updateMatrices.call(this,e)}}),y.DirectionalLight=oc,oc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:oc,isDirectionalLight:!0,copy:function(e){return Qs.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),y.AmbientLight=sc,sc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:sc,isAmbientLight:!0}),y.RectAreaLight=cc,cc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:cc,isRectAreaLight:!0,copy:function(e){return Qs.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Qs.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),y.SphericalHarmonics3=dc,Object.assign(dc.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const r=e.x,n=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.282095),t.addScaledVector(i[1],.488603*n),t.addScaledVector(i[2],.488603*a),t.addScaledVector(i[3],.488603*r),t.addScaledVector(i[4],r*n*1.092548),t.addScaledVector(i[5],n*a*1.092548),t.addScaledVector(i[6],.315392*(3*a*a-1)),t.addScaledVector(i[7],r*a*1.092548),t.addScaledVector(i[8],.546274*(r*r-n*n)),t},getIrradianceAt:function(e,t){const r=e.x,n=e.y,a=e.z,i=this.coefficients;return t.copy(i[0]).multiplyScalar(.886227),t.addScaledVector(i[1],1.023328*n),t.addScaledVector(i[2],1.023328*a),t.addScaledVector(i[3],1.023328*r),t.addScaledVector(i[4],.858086*r*n),t.addScaledVector(i[5],.858086*n*a),t.addScaledVector(i[6],.743125*a*a-.247708),t.addScaledVector(i[7],.858086*r*a),t.addScaledVector(i[8],.429043*(r*r-n*n)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);const r=this.coefficients;for(let n=0;n<9;n++)r[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const r=this.coefficients;for(let n=0;n<9;n++)r[n].toArray(e,t+3*n);return e}}),Object.assign(dc,{getBasisAt:function(e,t){const r=e.x,n=e.y,a=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*n,t[5]=1.092548*n*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-n*n)}}),y.LightProbe=uc,uc.prototype=Object.assign(Object.create(Qs.prototype),{constructor:uc,isLightProbe:!0,copy:function(e){return Qs.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Qs.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),y.MaterialLoader=fc,fc.prototype=Object.assign(Object.create(ys.prototype),{constructor:fc,load:function(e,t,r,n){const a=this,i=new ws(a.manager);i.setPath(a.path),i.load(e,(function(r){try{t(a.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),a.manager.itemError(e)}}),r,n)},parse:function(e){const t=this.textures;function r(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const n=new es[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new et).setHex(e.sheen)),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.vertexTangents&&(n.vertexTangents=e.vertexTangents),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const a=e.uniforms[t];switch(n.uniforms[t]={},a.type){case"t":n.uniforms[t].value=r(a.value);break;case"c":n.uniforms[t].value=(new et).setHex(a.value);break;case"v2":n.uniforms[t].value=(new T).fromArray(a.value);break;case"v3":n.uniforms[t].value=(new B).fromArray(a.value);break;case"v4":n.uniforms[t].value=(new R).fromArray(a.value);break;case"m3":n.uniforms[t].value=(new E).fromArray(a.value);case"m4":n.uniforms[t].value=(new W).fromArray(a.value);break;default:n.uniforms[t].value=a.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const t in e.extensions)n.extensions[t]=e.extensions[t];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=r(e.map)),void 0!==e.matcap&&(n.matcap=r(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=r(e.alphaMap)),void 0!==e.bumpMap&&(n.bumpMap=r(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=r(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),n.normalScale=(new T).fromArray(t)}return void 0!==e.displacementMap&&(n.displacementMap=r(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=r(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=r(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=r(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=r(e.specularMap)),void 0!==e.envMap&&(n.envMap=r(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=r(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=r(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=r(e.gradientMap)),void 0!==e.clearcoatMap&&(n.clearcoatMap=r(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=r(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new T).fromArray(e.clearcoatNormalScale)),n},setTextures:function(e){return this.textures=e,this}});const lc={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,n=e.length;r<n;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function hc(){Lt.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function pc(e,t,r,n){"number"==typeof r&&(n=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ut.call(this,e,t,r),this.meshPerAttribute=n||1}function bc(e){ys.call(this,e)}y.LoaderUtils=lc,y.InstancedBufferGeometry=hc,hc.prototype=Object.assign(Object.create(Lt.prototype),{constructor:hc,isInstancedBufferGeometry:!0,copy:function(e){return Lt.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e=Lt.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),y.InstancedBufferAttribute=pc,pc.prototype=Object.assign(Object.create(ut.prototype),{constructor:pc,isInstancedBufferAttribute:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=ut.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),y.BufferGeometryLoader=bc,bc.prototype=Object.assign(Object.create(ys.prototype),{constructor:bc,load:function(e,t,r,n){const a=this,i=new ws(a.manager);i.setPath(a.path),i.load(e,(function(r){try{t(a.parse(JSON.parse(r)))}catch(t){n?n(t):console.error(t),a.manager.itemError(e)}}),r,n)},parse:function(e){const t={},r={};function n(e,n){if(void 0!==t[n])return t[n];const a=e.interleavedBuffers[n],i=function(e,t){if(void 0!==r[t])return r[t];const n=e.arrayBuffers[t],a=new Uint32Array(n).buffer;return r[t]=a,a}(e,a.buffer),o=new Aa(new gc[a.type](i),a.stride);return o.uuid=a.uuid,t[n]=o,o}const a=e.isInstancedBufferGeometry?new hc:new Lt,i=e.data.index;if(void 0!==i){const e=new gc[i.type](i.array);a.setIndex(new ut(e,1))}const o=e.data.attributes;for(const t in o){const r=o[t];let i;if(r.isInterleavedBufferAttribute){i=new La(n(e.data,r.data),r.itemSize,r.offset,r.normalized)}else{const e=new gc[r.type](r.array);i=new(r.isInstancedBufferAttribute?pc:ut)(e,r.itemSize,r.normalized)}void 0!==r.name&&(i.name=r.name),a.setAttribute(t,i)}const s=e.data.morphAttributes;if(s)for(const t in s){const r=s[t],i=[];for(let t=0,a=r.length;t<a;t++){const a=r[t];let o;if(a.isInterleavedBufferAttribute){o=new La(n(e.data,a.data),a.itemSize,a.offset,a.normalized)}else{o=new ut(new gc[a.type](a.array),a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),i.push(o)}a.morphAttributes[t]=i}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(let e=0,t=c.length;e!==t;++e){const t=c[e];a.addGroup(t.start,t.count,t.materialIndex)}const d=e.data.boundingSphere;if(void 0!==d){const e=new B;void 0!==d.center&&e.fromArray(d.center),a.boundingSphere=new Ae(e,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}});const gc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function mc(e){ys.call(this,e)}y.ObjectLoader=mc,mc.prototype=Object.assign(Object.create(ys.prototype),{constructor:mc,load:function(e,t,r,n){const a=this,i=""===this.path?lc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new ws(a.manager);o.setPath(this.path),o.load(e,(function(r){let i=null;try{i=JSON.parse(r)}catch(t){return void 0!==n&&n(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const o=i.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?a.parse(i,t):console.error("THREE.ObjectLoader: Can't load "+e)}),r,n)},parse:function(e,t){const r=this.parseShape(e.shapes),n=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),i=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,i),s=this.parseObject(e.object,n,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){const t={};if(void 0!==e)for(let r=0,n=e.length;r<n;r++){const n=(new Js).fromJSON(e[r]);t[n.uuid]=n}return t},parseGeometries:function(e,t){const r={};let n;if(void 0!==e){const a=new bc;for(let i=0,o=e.length;i<o;i++){let o;const s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Ho[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Ho[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Ho[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Ho[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Ho[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Ho[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Ho[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Ho[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Ho[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Ho[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Ho[s.type]((new Xs[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Ho[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Ho[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(let e=0,r=s.shapes.length;e<r;e++){const r=t[s.shapes[e]];n.push(r)}o=new Ho[s.type](n,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(let e=0,r=s.shapes.length;e<r;e++){const r=t[s.shapes[e]];n.push(r)}const e=s.options.extrudePath;void 0!==e&&(s.options.extrudePath=(new Xs[e.type]).fromJSON(e)),o=new Ho[s.type](n,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=a.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),r[s.uuid]=o}}return r},parseMaterials:function(e,t){const r={},n={};if(void 0!==e){const a=new fc;a.setTextures(t);for(let t=0,i=e.length;t<i;t++){const i=e[t];if("MultiMaterial"===i.type){const e=[];for(let t=0;t<i.materials.length;t++){const n=i.materials[t];void 0===r[n.uuid]&&(r[n.uuid]=a.parse(n)),e.push(r[n.uuid])}n[i.uuid]=e}else void 0===r[i.uuid]&&(r[i.uuid]=a.parse(i)),n[i.uuid]=r[i.uuid]}}return n},parseAnimations:function(e){const t=[];for(let r=0;r<e.length;r++){const n=e[r],a=ps.parse(n);void 0!==n.uuid&&(a.uuid=n.uuid),t.push(a)}return t},parseImages:function(e,t){const r=this,n={};let a;function i(e){return r.manager.itemStart(e),a.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){const o=new ms(t);a=new Ts(o),a.setCrossOrigin(this.crossOrigin);for(let t=0,a=e.length;t<a;t++){const a=e[t],o=a.url;if(Array.isArray(o)){n[a.uuid]=[];for(let e=0,t=o.length;e<t;e++){const t=o[e],s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t;n[a.uuid].push(i(s))}}else{const e=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a.url)?a.url:r.resourcePath+a.url;n[a.uuid]=i(e)}}}return n},parseTextures:function(e,t){function r(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const n={};if(void 0!==e)for(let a=0,i=e.length;a<i;a++){const i=e[a];let o;void 0===i.image&&console.warn('THREE.ObjectLoader: No "image" specified for',i.uuid),void 0===t[i.image]&&console.warn("THREE.ObjectLoader: Undefined image",i.image),o=Array.isArray(t[i.image])?new Ir(t[i.image]):new P(t[i.image]),o.needsUpdate=!0,o.uuid=i.uuid,void 0!==i.name&&(o.name=i.name),void 0!==i.mapping&&(o.mapping=r(i.mapping,vc)),void 0!==i.offset&&o.offset.fromArray(i.offset),void 0!==i.repeat&&o.repeat.fromArray(i.repeat),void 0!==i.center&&o.center.fromArray(i.center),void 0!==i.rotation&&(o.rotation=i.rotation),void 0!==i.wrap&&(o.wrapS=r(i.wrap[0],yc),o.wrapT=r(i.wrap[1],yc)),void 0!==i.format&&(o.format=i.format),void 0!==i.type&&(o.type=i.type),void 0!==i.encoding&&(o.encoding=i.encoding),void 0!==i.minFilter&&(o.minFilter=r(i.minFilter,xc)),void 0!==i.magFilter&&(o.magFilter=r(i.magFilter,xc)),void 0!==i.anisotropy&&(o.anisotropy=i.anisotropy),void 0!==i.flipY&&(o.flipY=i.flipY),void 0!==i.premultiplyAlpha&&(o.premultiplyAlpha=i.premultiplyAlpha),void 0!==i.unpackAlignment&&(o.unpackAlignment=i.unpackAlignment),n[i.uuid]=o}return n},parseObject:function(e,t,r){let n,a,i;function o(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let n=0,a=e.length;n<a;n++){const a=e[n];void 0===r[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(r[a])}return t}return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}}switch(e.type){case"Scene":n=new ue,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new et(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new Ea(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new Ta(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new cr(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new ac(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new sc(e.color,e.intensity);break;case"DirectionalLight":n=new oc(e.color,e.intensity);break;case"PointLight":n=new nc(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new cc(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new tc(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new Ks(e.color,e.groundColor,e.intensity);break;case"LightProbe":n=(new uc).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":a=o(e.geometry),i=s(e.material),n=new Xt(a,i);break;case"InstancedMesh":a=o(e.geometry),i=s(e.material);const t=e.count,r=e.instanceMatrix;n=new ai(a,i,t),n.instanceMatrix=new ut(new Float32Array(r.array),16);break;case"LOD":n=new Ya;break;case"Line":n=new fi(o(e.geometry),s(e.material),e.mode);break;case"LineLoop":n=new bi(o(e.geometry),s(e.material));break;case"LineSegments":n=new pi(o(e.geometry),s(e.material));break;case"PointCloud":case"Points":n=new wi(o(e.geometry),s(e.material));break;case"Sprite":n=new Va(s(e.material));break;case"Group":n=new ya;break;default:n=new de}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(n.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.frustumCulled&&(n.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(n.renderOrder=e.renderOrder),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.layers&&(n.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)n.add(this.parseObject(a[e],t,r))}if("LOD"===e.type){void 0!==e.autoUpdate&&(n.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const r=t[e],a=n.getObjectByProperty("uuid",r.object);void 0!==a&&n.addLevel(a,r.distance)}}return n}});const vc={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},yc={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},xc={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};function wc(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ys.call(this,e),this.options={premultiplyAlpha:"none"}}function _c(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}function Mc(e){this.type="Font",this.data=e}function Sc(e,t,r,n,a){const i=a.glyphs[e]||a.glyphs["?"];if(!i)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".");const o=new _c;let s,c,d,u,f,l,h,p;if(i.o){const e=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let a=0,i=e.length;a<i;){switch(e[a++]){case"m":s=e[a++]*t+r,c=e[a++]*t+n,o.moveTo(s,c);break;case"l":s=e[a++]*t+r,c=e[a++]*t+n,o.lineTo(s,c);break;case"q":d=e[a++]*t+r,u=e[a++]*t+n,f=e[a++]*t+r,l=e[a++]*t+n,o.quadraticCurveTo(f,l,d,u);break;case"b":d=e[a++]*t+r,u=e[a++]*t+n,f=e[a++]*t+r,l=e[a++]*t+n,h=e[a++]*t+r,p=e[a++]*t+n,o.bezierCurveTo(f,l,h,p,d,u)}}}return{offsetX:i.ha*t,path:o}}function Tc(e){ys.call(this,e)}let Ec;y.ImageBitmapLoader=wc,wc.prototype=Object.assign(Object.create(ys.prototype),{constructor:wc,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,r,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,i=gs.get(e);if(void 0!==i)return a.manager.itemStart(e),setTimeout((function(){t&&t(i),a.manager.itemEnd(e)}),0),i;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,a.options)})).then((function(r){gs.add(e,r),t&&t(r),a.manager.itemEnd(e)})).catch((function(t){n&&n(t),a.manager.itemError(e),a.manager.itemEnd(e)})),a.manager.itemStart(e)}}),y.ShapePath=_c,Object.assign(_c.prototype,{moveTo:function(e,t){return this.currentPath=new Zs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,r,n){return this.currentPath.quadraticCurveTo(e,t,r,n),this},bezierCurveTo:function(e,t,r,n,a,i){return this.currentPath.bezierCurveTo(e,t,r,n,a,i),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function r(e){const t=[];for(let r=0,n=e.length;r<n;r++){const n=e[r],a=new Js;a.curves=n.curves,t.push(a)}return t}function n(e,t){const r=t.length;let n=!1;for(let a=r-1,i=0;i<r;a=i++){let r=t[a],o=t[i],s=o.x-r.x,c=o.y-r.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(r=t[i],s=-s,o=t[a],c=-c),e.y<r.y||e.y>o.y)continue;if(e.y===r.y){if(e.x===r.x)return!0}else{const t=c*(e.x-r.x)-s*(e.y-r.y);if(0===t)return!0;if(t<0)continue;n=!n}}else{if(e.y!==r.y)continue;if(o.x<=e.x&&e.x<=r.x||r.x<=e.x&&e.x<=o.x)return!0}}return n}const a=vo.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===t)return r(i);let o,s,c,d=[];if(1===i.length)return s=i[0],c=new Js,c.curves=s.curves,d.push(c),d;let u=!a(i[0].getPoints());u=e?!u:u;const f=[],l=[];let h,p,b=[],g=0;l[g]=void 0,b[g]=[];for(let t=0,r=i.length;t<r;t++)s=i[t],h=s.getPoints(),o=a(h),o=e?!o:o,o?(!u&&l[g]&&g++,l[g]={s:new Js,p:h},l[g].s.curves=s.curves,u&&g++,b[g]=[]):b[g].push({h:s,p:h[0]});if(!l[0])return r(i);if(l.length>1){let e=!1;const t=[];for(let e=0,t=l.length;e<t;e++)f[e]=[];for(let r=0,a=l.length;r<a;r++){const a=b[r];for(let i=0;i<a.length;i++){const o=a[i];let s=!0;for(let a=0;a<l.length;a++)n(o.p,l[a].p)&&(r!==a&&t.push({froms:r,tos:a,hole:i}),s?(s=!1,f[a].push(o)):e=!0);s&&f[r].push(o)}}t.length>0&&(e||(b=f))}for(let e=0,t=l.length;e<t;e++){c=l[e].s,d.push(c),p=b[e];for(let e=0,t=p.length;e<t;e++)c.holes.push(p[e].h)}return d}}),y.Font=Mc,Object.assign(Mc.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);const r=[],n=function(e,t,r){const n=Array.from?Array.from(e):String(e).split(""),a=t/r.resolution,i=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*a,o=[];let s=0,c=0;for(let e=0;e<n.length;e++){const t=n[e];if("\n"===t)s=0,c-=i;else{const e=Sc(t,a,s,c,r);s+=e.offsetX,o.push(e.path)}}return o}(e,t,this.data);for(let e=0,t=n.length;e<t;e++)Array.prototype.push.apply(r,n[e].toShapes());return r}}),y.FontLoader=Tc,Tc.prototype=Object.assign(Object.create(ys.prototype),{constructor:Tc,load:function(e,t,r,n){const a=this,i=new ws(this.manager);i.setPath(this.path),i.load(e,(function(e){let r;try{r=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(e.substring(65,e.length-2))}const n=a.parse(r);t&&t(n)}),r,n)},parse:function(e){return new Mc(e)}});const Ac={getContext:function(){return void 0===Ec&&(Ec=new(window.AudioContext||window.webkitAudioContext)),Ec},setContext:function(e){Ec=e}};function Cc(e){ys.call(this,e)}function Lc(e,t,r){uc.call(this,void 0,r);const n=(new et).set(e),a=(new et).set(t),i=new B(n.r,n.g,n.b),o=new B(a.r,a.g,a.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(i).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(i).sub(o).multiplyScalar(c)}function Pc(e,t){uc.call(this,void 0,t);const r=(new et).set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}y.AudioContext=Ac,y.AudioLoader=Cc,Cc.prototype=Object.assign(Object.create(ys.prototype),{constructor:Cc,load:function(e,t,r,n){const a=this,i=new ws(a.manager);i.setResponseType("arraybuffer"),i.setPath(a.path),i.load(e,(function(r){try{const e=r.slice(0);Ac.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(t){n?n(t):console.error(t),a.manager.itemError(e)}}),r,n)}}),y.HemisphereLightProbe=Lc,Lc.prototype=Object.assign(Object.create(uc.prototype),{constructor:Lc,isHemisphereLightProbe:!0,copy:function(e){return uc.prototype.copy.call(this,e),this},toJSON:function(e){return uc.prototype.toJSON.call(this,e)}}),y.AmbientLightProbe=Pc,Pc.prototype=Object.assign(Object.create(uc.prototype),{constructor:Pc,isAmbientLightProbe:!0,copy:function(e){return uc.prototype.copy.call(this,e),this},toJSON:function(e){return uc.prototype.toJSON.call(this,e)}});const Rc=new W,kc=new W;function Oc(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new cr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new cr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Dc(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}y.StereoCamera=Oc,Object.assign(Oc.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),n=t.eyeSep/2,a=n*t.near/t.focus,i=t.near*Math.tan(S.DEG2RAD*t.fov*.5)/t.zoom;let o,s;kc.elements[12]=-n,Rc.elements[12]=n,o=-i*t.aspect+a,s=i*t.aspect+a,r.elements[0]=2*t.near/(s-o),r.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(r),o=-i*t.aspect-a,s=i*t.aspect-a,r.elements[0]=2*t.near/(s-o),r.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(kc),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Rc)}}),y.Clock=Dc,Object.assign(Dc.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const Ic=new B,Nc=new D,Bc=new B,zc=new B;function jc(){de.call(this),this.type="AudioListener",this.context=Ac.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Dc}function Fc(e){de.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}y.AudioListener=jc,jc.prototype=Object.assign(Object.create(de.prototype),{constructor:jc,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){de.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ic,Nc,Bc),zc.set(0,0,-1).applyQuaternion(Nc),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ic.x,e),t.positionY.linearRampToValueAtTime(Ic.y,e),t.positionZ.linearRampToValueAtTime(Ic.z,e),t.forwardX.linearRampToValueAtTime(zc.x,e),t.forwardY.linearRampToValueAtTime(zc.y,e),t.forwardZ.linearRampToValueAtTime(zc.z,e),t.upX.linearRampToValueAtTime(r.x,e),t.upY.linearRampToValueAtTime(r.y,e),t.upZ.linearRampToValueAtTime(r.z,e)}else t.setPosition(Ic.x,Ic.y,Ic.z),t.setOrientation(zc.x,zc.y,zc.z,r.x,r.y,r.z)}}),y.Audio=Fc,Fc.prototype=Object.assign(Object.create(de.prototype),{constructor:Fc,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const Uc=new B,Gc=new D,Hc=new B,Vc=new B;function Wc(e){Fc.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function qc(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Xc(e,t,r){let n,a,i;switch(this.binding=e,this.valueSize=r,t){case"quaternion":n=this._slerp,a=this._slerpAdditive,i=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":n=this._select,a=this._select,i=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:n=this._lerp,a=this._lerpAdditive,i=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=a,this._setIdentity=i,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}y.PositionalAudio=Wc,Wc.prototype=Object.assign(Object.create(Fc.prototype),{constructor:Wc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this},updateMatrixWorld:function(e){if(de.prototype.updateMatrixWorld.call(this,e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Uc,Gc,Hc),Vc.set(0,0,1).applyQuaternion(Gc);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Uc.x,e),t.positionY.linearRampToValueAtTime(Uc.y,e),t.positionZ.linearRampToValueAtTime(Uc.z,e),t.orientationX.linearRampToValueAtTime(Vc.x,e),t.orientationY.linearRampToValueAtTime(Vc.y,e),t.orientationZ.linearRampToValueAtTime(Vc.z,e)}else t.setPosition(Uc.x,Uc.y,Uc.z),t.setOrientation(Vc.x,Vc.y,Vc.z)}}),y.AudioAnalyser=qc,Object.assign(qc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}),y.PropertyMixer=Xc,Object.assign(Xc.prototype,{accumulate:function(e,t){const r=this.buffer,n=this.valueSize,a=e*n+n;let i=this.cumulativeWeight;if(0===i){for(let e=0;e!==n;++e)r[a+e]=r[e];i=t}else{i+=t;const e=t/i;this._mixBufferRegion(r,a,0,e,n)}this.cumulativeWeight=i},accumulateAdditive:function(e){const t=this.buffer,r=this.valueSize,n=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,r=this.buffer,n=e*t+t,a=this.cumulativeWeight,i=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const e=t*this._origIndex;this._mixBufferRegion(r,n,e,1-a,t)}i>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(let e=t,a=t+t;e!==a;++e)if(r[e]!==r[e+t]){o.setValue(r,n);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(let e=r,a=n;e!==a;++e)t[e]=t[n+e%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]},_select:function(e,t,r,n,a){if(n>=.5)for(let n=0;n!==a;++n)e[t+n]=e[r+n]},_slerp:function(e,t,r,n){D.slerpFlat(e,t,e,t,e,r,n)},_slerpAdditive:function(e,t,r,n,a){const i=this._workIndex*a;D.multiplyQuaternionsFlat(e,i,e,t,e,r),D.slerpFlat(e,t,e,t,e,i,n)},_lerp:function(e,t,r,n,a){const i=1-n;for(let o=0;o!==a;++o){const a=t+o;e[a]=e[a]*i+e[r+o]*n}},_lerpAdditive:function(e,t,r,n,a){for(let i=0;i!==a;++i){const a=t+i;e[a]=e[a]+e[r+i]*n}}});const Yc=new RegExp("[\\[\\]\\.:\\/]","g"),Zc="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Jc=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Qc=/(WCOD+)?/.source.replace("WCOD",Zc),Kc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),$c=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),ed=new RegExp("^"+Jc+Qc+Kc+$c+"$"),td=["material","materials","bones"];function rd(e,t,r){const n=r||nd.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function nd(e,t,r){this.path=t,this.parsedPath=r||nd.parseTrackName(t),this.node=nd.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function ad(){this.uuid=S.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,r=arguments.length;t!==r;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}function id(e,t,r,n){this._mixer=e,this._clip=t,this._localRoot=r||null,this.blendMode=n||t.blendMode;const a=t.tracks,i=a.length,o=new Array(i),s={endingStart:2400,endingEnd:2400};for(let e=0;e!==i;++e){const t=a[e].createInterpolant(null);o[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function od(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function sd(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function cd(e,t,r){Aa.call(this,e,t),this.meshPerAttribute=r||1}function dd(e,t,r,n){this.ray=new Ie(e,t),this.near=r||0,this.far=n||1/0,this.camera=null,this.layers=new Z,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ud(e,t){return e.distance-t.distance}function fd(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),!0===n){const n=e.children;for(let e=0,a=n.length;e<a;e++)fd(n[e],t,r,!0)}}function ld(e,t,r){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==r?r:0,this}function hd(e,t,r){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==r?r:0,this}Object.assign(rd.prototype,{getValue:function(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,n=this._bindings[r];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,a=r.length;n!==a;++n)r[n].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}),y.PropertyBinding=nd,Object.assign(nd,{Composite:rd,create:function(e,t,r){return e&&e.isAnimationObjectGroup?new nd.Composite(e,t,r):new nd(e,t,r)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Yc,"")},parseTrackName:function(e){const t=ed.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const e=r.nodeName.substring(n+1);-1!==td.indexOf(e)&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=e)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(void 0!==r)return r}if(e.children){const r=function(e){for(let n=0;n<e.length;n++){const a=e[n];if(a.name===t||a.uuid===t)return a;const i=r(a.children);if(i)return i}return null},n=r(e.children);if(n)return n}return null}}),Object.assign(nd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)e[t++]=r[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)r[n]=e[t++]},function(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){const r=this.resolvedProperty;for(let n=0,a=r.length;n!==a;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,a=t.propertyIndex;if(e||(e=nd.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let n=t.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===n){n=t;break}break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==n){if(void 0===e[n])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[n]}}const i=e[n];if(void 0===i){const r=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+r+"."+n+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}s=this.BindingType.ArrayElement,this.resolvedProperty=i,this.propertyIndex=a}else void 0!==i.fromArray&&void 0!==i.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=i):Array.isArray(i)?(s=this.BindingType.EntireArray,this.resolvedProperty=i):this.propertyName=n;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(nd.prototype,{_getValue_unbound:nd.prototype.getValue,_setValue_unbound:nd.prototype.setValue}),y.AnimationObjectGroup=ad,Object.assign(ad.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,r=this._paths,n=this._parsedPaths,a=this._bindings,i=a.length;let o=void 0,s=e.length,c=this.nCachedObjects_;for(let d=0,u=arguments.length;d!==u;++d){const u=arguments[d],f=u.uuid;let l=t[f];if(void 0===l){l=s++,t[f]=l,e.push(u);for(let e=0,t=i;e!==t;++e)a[e].push(new nd(u,r[e],n[e]))}else if(l<c){o=e[l];const s=--c,d=e[s];t[d.uuid]=l,e[l]=d,t[f]=s,e[s]=u;for(let e=0,t=i;e!==t;++e){const t=a[e],i=t[s];let o=t[l];t[l]=i,void 0===o&&(o=new nd(u,r[e],n[e])),t[s]=o}}else e[l]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length;let a=this.nCachedObjects_;for(let i=0,o=arguments.length;i!==o;++i){const o=arguments[i],s=o.uuid,c=t[s];if(void 0!==c&&c>=a){const i=a++,d=e[i];t[d.uuid]=c,e[c]=d,t[s]=i,e[i]=o;for(let e=0,t=n;e!==t;++e){const t=r[e],n=t[i],a=t[c];t[c]=n,t[i]=a}}}this.nCachedObjects_=a},uncache:function(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,n=r.length;let a=this.nCachedObjects_,i=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,c=t[s];if(void 0!==c)if(delete t[s],c<a){const o=--a,s=e[o],d=--i,u=e[d];t[s.uuid]=c,e[c]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=n;e!==t;++e){const t=r[e],n=t[o],a=t[d];t[c]=n,t[o]=a,t.pop()}}else{const a=--i,o=e[a];t[o.uuid]=c,e[c]=o,e.pop();for(let e=0,t=n;e!==t;++e){const t=r[e];t[c]=t[a],t.pop()}}}this.nCachedObjects_=a},subscribe_:function(e,t){let r=this._bindingsIndicesByPath,n=r[e],a=this._bindings;if(void 0!==n)return a[n];const i=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,d=this.nCachedObjects_,u=new Array(c);n=a.length,r[e]=n,i.push(e),o.push(t),a.push(u);for(let r=d,n=s.length;r!==n;++r){const n=s[r];u[r]=new nd(n,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,r=t[e];if(void 0!==r){const n=this._paths,a=this._parsedPaths,i=this._bindings,o=i.length-1,s=i[o];t[e[o]]=r,i[r]=s,i.pop(),a[r]=a[o],a.pop(),n[r]=n[o],n.pop()}}}),Object.assign(id.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const r=this._clip.duration,n=e._clip.duration,a=n/r,i=r/n;e.warp(1,a,t),this.warp(i,1,t)}return this},crossFadeTo:function(e,t,r){return e.crossFadeFrom(this,t,r)},stopFading:function(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,r){const n=this._mixer,a=n.time,i=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,c=o.sampleValues;return s[0]=a,s[1]=a+r,c[0]=e/i,c[1]=t/i,this},stopWarping:function(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,r,n){if(!this.enabled)return void this._updateWeight(e);const a=this._startTime;if(null!==a){const n=(e-a)*r;if(n<0||0===r)return;this._startTime=null,t=r*n}t*=this._updateTimeScale(e);const i=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case 2501:for(let r=0,n=e.length;r!==n;++r)e[r].evaluate(i),t[r].accumulateAdditive(o);break;case 2500:default:for(let r=0,a=e.length;r!==a;++r)e[r].evaluate(i),t[r].accumulate(n,o)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(null!==r){const n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(null!==r){t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,r=this.loop;let n=this.time+e,a=this._loopCount;const i=2202===r;if(0===e)return-1===a?n:i&&1==(1&a)?t-n:n;if(2200===r){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,i)):this._setEndings(0===this.repetitions,!0,i)),n>=t||n<0){const r=Math.floor(n/t);n-=t*r,a+=Math.abs(r);const o=this.repetitions-a;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,i)}else this._setEndings(!1,!1,i);this._loopCount=a,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}}else this.time=n;if(i&&1==(1&a))return t-n}return n},_setEndings:function(e,t,r){const n=this._interpolantSettings;r?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,n.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,r){const n=this._mixer,a=n.time;let i=this._weightInterpolant;null===i&&(i=n._lendControlInterpolant(),this._weightInterpolant=i);const o=i.parameterPositions,s=i.sampleValues;return o[0]=a,s[0]=t,o[1]=a+e,s[1]=r,this}}),y.AnimationMixer=od,od.prototype=Object.assign(Object.create(_.prototype),{constructor:od,_bindAction:function(e,t){const r=e._localRoot||this._root,n=e._clip.tracks,a=n.length,i=e._propertyBindings,o=e._interpolants,s=r.uuid,c=this._bindingsByRootAndName;let d=c[s];void 0===d&&(d={},c[s]=d);for(let e=0;e!==a;++e){const a=n[e],c=a.name;let u=d[c];if(void 0!==u)i[e]=u;else{if(u=i[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,c));continue}const n=t&&t._propertyBindings[e].binding.parsedPath;u=new Xc(nd.create(r,c,n),a.ValueTypeName,a.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,c),i[e]=u}o[e].resultBuffer=u.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,r=e._clip.uuid,n=this._actionsByClip[r];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,r,t)}const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,r){const n=this._actions,a=this._actionsByClip;let i=a[t];if(void 0===i)i={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=i;else{const t=i.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=n.length,n.push(e),i.actionByRoot[r]=e},_removeInactiveAction:function(e){const t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,i=this._actionsByClip,o=i[a],s=o.knownActions,c=s[s.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,s[d]=c,s.pop(),e._byClipCacheIndex=null;delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete i[a],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let e=0,r=t.length;e!==r;++e){const r=t[e];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a},_takeBackAction:function(e){const t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a},_addInactiveBinding:function(e,t,r){const n=this._bindingsByRootAndName,a=this._bindings;let i=n[t];void 0===i&&(i={},n[t]=i),i[r]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,r=e.binding,n=r.rootNode.uuid,a=r.path,i=this._bindingsByRootAndName,o=i[n],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete o[a],0===Object.keys(o).length&&delete i[n]},_lendBinding:function(e){const t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a},_takeBackBinding:function(e){const t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,a=t[n];e._cacheIndex=n,t[n]=e,a._cacheIndex=r,t[r]=a},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return void 0===r&&(r=new as(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,a=t[n];e.__cacheIndex=n,t[n]=e,a.__cacheIndex=r,t[r]=a},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,r){const n=t||this._root,a=n.uuid;let i="string"==typeof e?ps.findByName(n,e):e;const o=null!==i?i.uuid:e;let s=this._actionsByClip[o],c=null;if(void 0===r&&(r=null!==i?i.blendMode:2500),void 0!==s){const e=s.actionByRoot[a];if(void 0!==e&&e.blendMode===r)return e;c=s.knownActions[0],null===i&&(i=c._clip)}if(null===i)return null;const d=new id(this,i,t,r);return this._bindAction(d,c),this._addInactiveAction(d,o,a),d},existingAction:function(e,t){const r=t||this._root,n=r.uuid,a="string"==typeof e?ps.findByName(r,e):e,i=a?a.uuid:e,o=this._actionsByClip[i];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,n=this.time+=e,a=Math.sign(e),i=this._accuIndex^=1;for(let o=0;o!==r;++o){t[o]._update(n,e,a,i)}const o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(i);return this},setTime:function(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,r=e.uuid,n=this._actionsByClip,a=n[r];if(void 0!==a){const e=a.knownActions;for(let r=0,n=e.length;r!==n;++r){const n=e[r];this._deactivateAction(n);const a=n._cacheIndex,i=t[t.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,i._cacheIndex=a,t[a]=i,t.pop(),this._removeInactiveBindingsForAction(n)}delete n[r]}},uncacheRoot:function(e){const t=e.uuid,r=this._actionsByClip;for(const e in r){const n=r[e].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}const n=this._bindingsByRootAndName[t];if(void 0!==n)for(const e in n){const t=n[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}},uncacheAction:function(e,t){const r=this.existingAction(e,t);null!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}}),y.Uniform=sd,sd.prototype.clone=function(){return new sd(void 0===this.value.clone?this.value:this.value.clone())},y.InstancedInterleavedBuffer=cd,cd.prototype=Object.assign(Object.create(Aa.prototype),{constructor:cd,isInstancedInterleavedBuffer:!0,copy:function(e){return Aa.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=Aa.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=Aa.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),y.Raycaster=dd,Object.assign(dd.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,r){const n=r||[];return fd(e,this,n,t),n.sort(ud),n},intersectObjects:function(e,t,r){const n=r||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(let r=0,a=e.length;r<a;r++)fd(e[r],this,n,t);return n.sort(ud),n}}),y.Spherical=ld,Object.assign(ld.prototype,{set:function(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(S.clamp(t/this.radius,-1,1))),this}}),y.Cylindrical=hd,Object.assign(hd.prototype,{set:function(e,t,r){return this.radius=e,this.theta=t,this.y=r,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}});const pd=new T;function bd(e,t){this.min=void 0!==e?e:new T(1/0,1/0),this.max=void 0!==t?t:new T(-1/0,-1/0)}y.Box2=bd,Object.assign(bd.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const r=pd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new T),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new T),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new T),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new T),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return pd.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const gd=new B,md=new B;function vd(e,t){this.start=void 0!==e?e:new B,this.end=void 0!==t?t:new B}function yd(e){de.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}y.Line3=vd,Object.assign(vd.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new B),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new B),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new B),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){gd.subVectors(e,this.start),md.subVectors(this.end,this.start);const r=md.dot(md);let n=md.dot(gd)/r;return t&&(n=S.clamp(n,0,1)),n},closestPointToPoint:function(e,t,r){const n=this.closestPointToPointParameter(e,t);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new B),this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),y.ImmediateRenderObject=yd,yd.prototype=Object.create(de.prototype),yd.prototype.constructor=yd,yd.prototype.isImmediateRenderObject=!0;const xd=new B;function wd(e,t){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Lt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,r=32;e<r;e++,t++){const a=e/r*Math.PI*2,i=t/r*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(i),Math.sin(i),1)}r.setAttribute("position",new vt(n,3));const a=new ii({fog:!1,toneMapped:!1});this.cone=new pi(r,a),this.add(this.cone),this.update()}y.SpotLightHelper=wd,wd.prototype=Object.create(de.prototype),wd.prototype.constructor=wd,wd.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},wd.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),xd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const _d=new B,Md=new W,Sd=new W;function Td(e){const t=function e(t){const r=[];t&&t.isBone&&r.push(t);for(let n=0;n<t.children.length;n++)r.push.apply(r,e(t.children[n]));return r}(e),r=new Lt,n=[],a=[],i=new et(0,0,1),o=new et(0,1,0);for(let e=0;e<t.length;e++){const r=t[e];r.parent&&r.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),a.push(i.r,i.g,i.b),a.push(o.r,o.g,o.b))}r.setAttribute("position",new vt(n,3)),r.setAttribute("color",new vt(a,3));const s=new ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});pi.call(this,r,s),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function Ed(e,t,r){this.light=e,this.light.updateMatrixWorld(),this.color=r;const n=new Co(t,4,2),a=new st({wireframe:!0,fog:!1,toneMapped:!1});Xt.call(this,n,a),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}y.SkeletonHelper=Td,Td.prototype=Object.create(pi.prototype),Td.prototype.constructor=Td,Td.prototype.isSkeletonHelper=!0,Td.prototype.updateMatrixWorld=function(e){const t=this.bones,r=this.geometry,n=r.getAttribute("position");Sd.getInverse(this.root.matrixWorld);for(let e=0,r=0;e<t.length;e++){const a=t[e];a.parent&&a.parent.isBone&&(Md.multiplyMatrices(Sd,a.matrixWorld),_d.setFromMatrixPosition(Md),n.setXYZ(r,_d.x,_d.y,_d.z),Md.multiplyMatrices(Sd,a.parent.matrixWorld),_d.setFromMatrixPosition(Md),n.setXYZ(r+1,_d.x,_d.y,_d.z),r+=2)}r.getAttribute("position").needsUpdate=!0,de.prototype.updateMatrixWorld.call(this,e)},y.PointLightHelper=Ed,Ed.prototype=Object.create(Xt.prototype),Ed.prototype.constructor=Ed,Ed.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ed.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const Ad=new B,Cd=new et,Ld=new et;function Pd(e,t,r){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const n=new Ii(t);n.rotateY(.5*Math.PI),this.material=new st({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const a=n.getAttribute("position"),i=new Float32Array(3*a.count);n.setAttribute("color",new ut(i,3)),this.add(new Xt(n,this.material)),this.update()}function Rd(e,t,r,n){e=e||10,t=t||10,r=new et(void 0!==r?r:4473924),n=new et(void 0!==n?n:8947848);const a=t/2,i=e/t,o=e/2,s=[],c=[];for(let e=0,d=0,u=-o;e<=t;e++,u+=i){s.push(-o,0,u,o,0,u),s.push(u,0,-o,u,0,o);const t=e===a?r:n;t.toArray(c,d),d+=3,t.toArray(c,d),d+=3,t.toArray(c,d),d+=3,t.toArray(c,d),d+=3}const d=new Lt;d.setAttribute("position",new vt(s,3)),d.setAttribute("color",new vt(c,3));const u=new ii({vertexColors:!0,toneMapped:!1});pi.call(this,d,u),this.type="GridHelper"}function kd(e,t,r,n,a,i){e=e||10,t=t||16,r=r||8,n=n||64,a=new et(void 0!==a?a:4473924),i=new et(void 0!==i?i:8947848);const o=[],s=[];for(let r=0;r<=t;r++){const n=r/t*(2*Math.PI),c=Math.sin(n)*e,d=Math.cos(n)*e;o.push(0,0,0),o.push(c,0,d);const u=1&r?a:i;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let t=0;t<=r;t++){const c=1&t?a:i,d=e-e/r*t;for(let e=0;e<n;e++){let t=e/n*(2*Math.PI),r=Math.sin(t)*d,a=Math.cos(t)*d;o.push(r,0,a),s.push(c.r,c.g,c.b),t=(e+1)/n*(2*Math.PI),r=Math.sin(t)*d,a=Math.cos(t)*d,o.push(r,0,a),s.push(c.r,c.g,c.b)}}const c=new Lt;c.setAttribute("position",new vt(o,3)),c.setAttribute("color",new vt(s,3));const d=new ii({vertexColors:!0,toneMapped:!1});pi.call(this,c,d),this.type="PolarGridHelper"}y.HemisphereLightHelper=Pd,Pd.prototype=Object.create(de.prototype),Pd.prototype.constructor=Pd,Pd.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Pd.prototype.update=function(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Cd.copy(this.light.color),Ld.copy(this.light.groundColor);for(let e=0,r=t.count;e<r;e++){const n=e<r/2?Cd:Ld;t.setXYZ(e,n.r,n.g,n.b)}t.needsUpdate=!0}e.lookAt(Ad.setFromMatrixPosition(this.light.matrixWorld).negate())},y.GridHelper=Rd,Rd.prototype=Object.assign(Object.create(pi.prototype),{constructor:Rd,copy:function(e){return pi.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),y.PolarGridHelper=kd,kd.prototype=Object.create(pi.prototype),kd.prototype.constructor=kd;const Od=new B,Dd=new B,Id=new B;function Nd(e,t,r){de.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);let n=new Lt;n.setAttribute("position",new vt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ii({fog:!1,toneMapped:!1});this.lightPlane=new fi(n,a),this.add(this.lightPlane),n=new Lt,n.setAttribute("position",new vt([0,0,0,0,0,1],3)),this.targetLine=new fi(n,a),this.add(this.targetLine),this.update()}y.DirectionalLightHelper=Nd,Nd.prototype=Object.create(de.prototype),Nd.prototype.constructor=Nd,Nd.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Nd.prototype.update=function(){Od.setFromMatrixPosition(this.light.matrixWorld),Dd.setFromMatrixPosition(this.light.target.matrixWorld),Id.subVectors(Dd,Od),this.lightPlane.lookAt(Dd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dd),this.targetLine.scale.z=Id.length()};const Bd=new B,zd=new sr;function jd(e){const t=new Lt,r=new ii({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],a=[],i={},o=new et(16755200),s=new et(16711680),c=new et(43775),d=new et(16777215),u=new et(3355443);function f(e,t,r){l(e,r),l(t,r)}function l(e,t){n.push(0,0,0),a.push(t.r,t.g,t.b),void 0===i[e]&&(i[e]=[]),i[e].push(n.length/3-1)}f("n1","n2",o),f("n2","n4",o),f("n4","n3",o),f("n3","n1",o),f("f1","f2",o),f("f2","f4",o),f("f4","f3",o),f("f3","f1",o),f("n1","f1",o),f("n2","f2",o),f("n3","f3",o),f("n4","f4",o),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",c),f("u2","u3",c),f("u3","u1",c),f("c","t",d),f("p","c",u),f("cn1","cn2",u),f("cn3","cn4",u),f("cf1","cf2",u),f("cf3","cf4",u),t.setAttribute("position",new vt(n,3)),t.setAttribute("color",new vt(a,3)),pi.call(this,t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=i,this.update()}function Fd(e,t,r,n,a,i,o){Bd.set(a,i,o).unproject(n);const s=t[e];if(void 0!==s){const e=r.getAttribute("position");for(let t=0,r=s.length;t<r;t++)e.setXYZ(s[t],Bd.x,Bd.y,Bd.z)}}y.CameraHelper=jd,jd.prototype=Object.create(pi.prototype),jd.prototype.constructor=jd,jd.prototype.update=function(){const e=this.geometry,t=this.pointMap;zd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fd("c",t,e,zd,0,0,-1),Fd("t",t,e,zd,0,0,1),Fd("n1",t,e,zd,-1,-1,-1),Fd("n2",t,e,zd,1,-1,-1),Fd("n3",t,e,zd,-1,1,-1),Fd("n4",t,e,zd,1,1,-1),Fd("f1",t,e,zd,-1,-1,1),Fd("f2",t,e,zd,1,-1,1),Fd("f3",t,e,zd,-1,1,1),Fd("f4",t,e,zd,1,1,1),Fd("u1",t,e,zd,.7,1.1,-1),Fd("u2",t,e,zd,-.7,1.1,-1),Fd("u3",t,e,zd,0,2,-1),Fd("cf1",t,e,zd,-1,0,1),Fd("cf2",t,e,zd,1,0,1),Fd("cf3",t,e,zd,0,-1,1),Fd("cf4",t,e,zd,0,1,1),Fd("cn1",t,e,zd,-1,0,-1),Fd("cn2",t,e,zd,1,0,-1),Fd("cn3",t,e,zd,0,-1,-1),Fd("cn4",t,e,zd,0,1,-1),e.getAttribute("position").needsUpdate=!0};const Ud=new Se;function Gd(e,t){this.object=e,void 0===t&&(t=16776960);const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),a=new Lt;a.setIndex(new ut(r,1)),a.setAttribute("position",new ut(n,3)),pi.call(this,a,new ii({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function Hd(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Lt;n.setIndex(new ut(r,1)),n.setAttribute("position",new vt([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),pi.call(this,n,new ii({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Vd(e,t,r){this.plane=e,this.size=void 0===t?1:t;const n=void 0!==r?r:16776960,a=new Lt;a.setAttribute("position",new vt([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),a.computeBoundingSphere(),fi.call(this,a,new ii({color:n,toneMapped:!1})),this.type="PlaneHelper";const i=new Lt;i.setAttribute("position",new vt([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),i.computeBoundingSphere(),this.add(new Xt(i,new st({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}y.BoxHelper=Gd,Gd.prototype=Object.create(pi.prototype),Gd.prototype.constructor=Gd,Gd.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Ud.setFromObject(this.object),Ud.isEmpty())return;const t=Ud.min,r=Ud.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()},Gd.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Gd.prototype.copy=function(e){return pi.prototype.copy.call(this,e),this.object=e.object,this},Gd.prototype.clone=function(){return(new this.constructor).copy(this)},y.Box3Helper=Hd,Hd.prototype=Object.create(pi.prototype),Hd.prototype.constructor=Hd,Hd.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),de.prototype.updateMatrixWorld.call(this,e))},y.PlaneHelper=Vd,Vd.prototype=Object.create(fi.prototype),Vd.prototype.constructor=Vd,Vd.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),de.prototype.updateMatrixWorld.call(this,e)};const Wd=new B;let qd,Xd;function Yd(e,t,r,n,a,i){de.call(this),this.type="ArrowHelper",void 0===e&&(e=new B(0,0,1)),void 0===t&&(t=new B(0,0,0)),void 0===r&&(r=1),void 0===n&&(n=16776960),void 0===a&&(a=.2*r),void 0===i&&(i=.2*a),void 0===qd&&(qd=new Lt,qd.setAttribute("position",new vt([0,0,0,0,1,0],3)),Xd=new zo(0,.5,1,5,1),Xd.translate(0,-.5,0)),this.position.copy(t),this.line=new fi(qd,new ii({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Xt(Xd,new st({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,i)}function Zd(e){const t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new Lt;r.setAttribute("position",new vt(t,3)),r.setAttribute("color",new vt([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));const n=new ii({vertexColors:!0,toneMapped:!1});pi.call(this,r,n),this.type="AxesHelper"}y.ArrowHelper=Yd,Yd.prototype=Object.create(de.prototype),Yd.prototype.constructor=Yd,Yd.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Wd.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Wd,t)}},Yd.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},Yd.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Yd.prototype.copy=function(e){return de.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Yd.prototype.clone=function(){return(new this.constructor).copy(this)},y.AxesHelper=Zd,Zd.prototype=Object.create(pi.prototype),Zd.prototype.constructor=Zd;const Jd=Math.pow(2,8),Qd=[.125,.215,.35,.446,.526,.582],Kd=5+Qd.length,$d={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},eu=new ac,{_lodPlanes:tu,_sizeLods:ru,_sigmas:nu}=function(){const e=[],t=[],r=[];let n=8;for(let a=0;a<Kd;a++){const i=Math.pow(2,n);t.push(i);let o=1/i;a>4?o=Qd[a-8+4-1]:0==a&&(o=0),r.push(o);const s=1/(i-1),c=-s/2,d=1+s/2,u=[c,c,d,c,d,d,c,c,d,d,c,d],f=6,l=6,h=3,p=2,b=1,g=new Float32Array(h*l*f),m=new Float32Array(p*l*f),v=new Float32Array(b*l*f);for(let e=0;e<f;e++){const t=e%3*2/3-1,r=e>2?0:-1,n=[t,r,0,t+2/3,r,0,t+2/3,r+1,0,t,r,0,t+2/3,r+1,0,t,r+1,0];g.set(n,h*l*e),m.set(u,p*l*e);const a=[e,e,e,e,e,e];v.set(a,b*l*e)}const y=new Lt;y.setAttribute("position",new ut(g,h)),y.setAttribute("uv",new ut(m,p)),y.setAttribute("faceIndex",new ut(v,b)),e.push(y),n>4&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:r}}();let au=null;const iu=(1+Math.sqrt(5))/2,ou=1/iu,su=[new B(1,1,1),new B(-1,1,1),new B(1,1,-1),new B(-1,1,-1),new B(0,iu,ou),new B(0,iu,-ou),new B(ou,0,iu),new B(-ou,0,iu),new B(iu,ou,0),new B(-iu,ou,0)];function cu(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(e){const t=new Float32Array(e),r=new B(0,1,0);return new Wo({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r},inputEncoding:{value:$d[3e3]},outputEncoding:{value:$d[3e3]}},vertexShader:pu(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${bu()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function du(e){return void 0!==e&&1009===e.type&&(3e3===e.encoding||3001===e.encoding||3007===e.encoding)}function uu(e){const t=new k(3*Jd,3*Jd,e);return t.texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function fu(e,t,r,n,a){e.viewport.set(t,r,n,a),e.scissor.set(t,r,n,a)}function lu(){return new Wo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new T(1,1)},inputEncoding:{value:$d[3e3]},outputEncoding:{value:$d[3e3]}},vertexShader:pu(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${bu()}\n\n#include <common>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv = equirectUv( outputDirection );\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}function hu(){return new Wo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:$d[3e3]},outputEncoding:{value:$d[3e3]}},vertexShader:pu(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${bu()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}function pu(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function bu(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}y.PMREMGenerator=cu,cu.prototype={constructor:cu,fromScene:function(e,t=0,r=.1,n=100){au=this._renderer.getRenderTarget();const a=this._allocateTargets();return this._sceneToCubeUV(e,r,n,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=hu(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=lu(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<tu.length;e++)tu[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(au),e.scissorTest=!1,fu(e,0,0,e.width,e.height)},_fromTexture:function(e){au=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:du(e)?e.encoding:3002,depthBuffer:!1,stencilBuffer:!1},r=uu(t);return r.depthBuffer=!e,this._pingPongRenderTarget=uu(t),r},_compileMaterial:function(e){const t=new Xt(tu[0],e);this._renderer.compile(t,eu)},_sceneToCubeUV:function(e,t,r,n){const a=new cr(90,1,t,r),i=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,c=s.outputEncoding,d=s.toneMapping,u=s.getClearColor(),f=s.getClearAlpha();s.toneMapping=0,s.outputEncoding=3e3;let l=e.background;if(l&&l.isColor){l.convertSRGBToLinear();const t=Math.max(l.r,l.g,l.b),r=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);l=l.multiplyScalar(Math.pow(2,-r));const n=(r+128)/255;s.setClearColor(l,n),e.background=null}for(let t=0;t<6;t++){const r=t%3;0==r?(a.up.set(0,i[t],0),a.lookAt(o[t],0,0)):1==r?(a.up.set(0,0,i[t]),a.lookAt(0,o[t],0)):(a.up.set(0,i[t],0),a.lookAt(0,0,o[t])),fu(n,r*Jd,t>2?Jd:0,Jd,Jd),s.setRenderTarget(n),s.render(e,a)}s.toneMapping=d,s.outputEncoding=c,s.setClearColor(u,f)},_textureToCubeUV:function(e,t){const r=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=hu()):null==this._equirectShader&&(this._equirectShader=lu());const n=e.isCubeTexture?this._cubemapShader:this._equirectShader,a=new Xt(tu[0],n),i=n.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=$d[e.encoding],i.outputEncoding.value=$d[t.texture.encoding],fu(t,0,0,3*Jd,2*Jd),r.setRenderTarget(t),r.render(a,eu)},_applyPMREM:function(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let t=1;t<Kd;t++){const r=Math.sqrt(nu[t]*nu[t]-nu[t-1]*nu[t-1]),n=su[(t-1)%su.length];this._blur(e,t-1,t,r,n)}t.autoClear=r},_blur:function(e,t,r,n,a){const i=this._pingPongRenderTarget;this._halfBlur(e,i,t,r,n,"latitudinal",a),this._halfBlur(i,e,r,r,n,"longitudinal",a)},_halfBlur:function(e,t,r,n,a,i,o){const s=this._renderer,c=this._blurMaterial;"latitudinal"!==i&&"longitudinal"!==i&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new Xt(tu[n],c),u=c.uniforms,f=ru[r]-1,l=isFinite(a)?Math.PI/(2*f):2*Math.PI/39,h=a/l,p=isFinite(a)?1+Math.floor(3*h):20;p>20&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const b=[];let g=0;for(let e=0;e<20;++e){const t=e/h,r=Math.exp(-t*t/2);b.push(r),0==e?g+=r:e<p&&(g+=2*r)}for(let e=0;e<b.length;e++)b[e]=b[e]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=b,u.latitudinal.value="latitudinal"===i,o&&(u.poleAxis.value=o),u.dTheta.value=l,u.mipInt.value=8-r,u.inputEncoding.value=$d[e.texture.encoding],u.outputEncoding.value=$d[e.texture.encoding];const m=ru[n];fu(t,3*Math.max(0,Jd-2*m),(0===n?0:2*Jd)+2*m*(n>4?n-8+4:0),3*m,2*m),s.setRenderTarget(t),s.render(d,eu)}},y.Face4=function(e,t,r,n,a,i,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new at(e,t,r,a,i,o)};y.LineStrip=0;y.LinePieces=1;y.NoColors=0;y.FaceColors=1;function gu(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ns.call(this,e),this.type="catmullrom",this.closed=!0}function mu(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ns.call(this,e),this.type="catmullrom"}function vu(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ns.call(this,e),this.type="catmullrom"}y.VertexColors=2,y.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},y.MultiMaterial=function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},y.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new wi(e,t)},y.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Va(e)},y.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new wi(e,t)},y.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new gi(e)},y.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new gi(e)},y.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new gi(e)},y.Vertex=function(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new B(e,t,r)},y.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new ut(e,t).setUsage(35048)},y.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ft(e,t)},y.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new lt(e,t)},y.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new ht(e,t)},y.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new pt(e,t)},y.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new bt(e,t)},y.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new gt(e,t)},y.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new mt(e,t)},y.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new vt(e,t)},y.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new yt(e,t)},Cs.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Cs.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Ys.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new er;for(let r=0,n=e.length;r<n;r++){const n=e[r];t.vertices.push(new B(n.x,n.y,n.z||0))}return t}}),Object.assign(Zs.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),y.ClosedSplineCurve3=gu,gu.prototype=Object.create(Ns.prototype),y.SplineCurve3=mu,mu.prototype=Object.create(Ns.prototype),y.Spline=vu,vu.prototype=Object.create(Ns.prototype),Object.assign(vu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),y.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Zd(e)},y.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Gd(e,t)},y.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new pi(new No(e.geometry),new ii({color:void 0!==t?t:16777215}))},Rd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Td.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},y.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new pi(new Ai(e.geometry),new ii({color:void 0!==t?t:16777215}))},Object.assign(ys.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),lc.extractUrlBase(e)}}),ys.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},y.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ws(e)},y.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Ss(e)},Object.assign(mc.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(bd.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Se.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Ae.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),pr.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},vd.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(S,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),S.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),S.ceilPowerOfTwo(e)}}),Object.assign(E.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(W.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new B).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,r,n,a,i){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,r,a,i)}}),je.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},D.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ie.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Je.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Je,{barycoordFromPoint:function(e,t,r,n,a){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Je.getBarycoord(e,t,r,n,a)},normal:function(e,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Je.getNormal(e,t,r,n)}}),Object.assign(Js.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new wo(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Oo(this,e)}}),Object.assign(T.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(B.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(R.prototype,{fromAttribute:function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(er.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(de.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(de.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Xt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Xt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Ya.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ka.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Za.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Cs.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),cr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Qs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ut.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(ut.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Lt.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ut(arguments[1],arguments[2])))},addDrawCall:function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Lt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(hc.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(dd.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Aa.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Aa.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(_o.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(sd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(ot.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new et}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Yo.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(or.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Ma.prototype,{clearTarget:function(e,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Ma.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(pa.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),y.WebGLRenderTargetCube=function(e,t,r){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ur(e,r)},Object.defineProperties(k.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Fc.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new Cc).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),qc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},dr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};const yu={merge:function(e,t,r){let n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};y.GeometryUtils=yu,C.crossOrigin=void 0,C.loadTexture=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const a=new As;a.setCrossOrigin(this.crossOrigin);const i=a.load(e,r,void 0,n);return t&&(i.mapping=t),i},C.loadTextureCube=function(e,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const a=new Es;a.setCrossOrigin(this.crossOrigin);const i=a.load(e,r,void 0,n);return t&&(i.mapping=t),i},C.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},C.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},y.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},y.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")};const xu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function wu(e,t,r){if(e.isCamera){console.warn("THREE.DragControls: Constructor now expects ( objects, camera, domElement )");var n=e;e=t,t=n}var a=new je,i=new dd,o=new T,s=new B,c=new B,d=null,u=null,f=this;function l(){r.addEventListener("mousemove",p,!1),r.addEventListener("mousedown",b,!1),r.addEventListener("mouseup",g,!1),r.addEventListener("mouseleave",g,!1),r.addEventListener("touchmove",m,!1),r.addEventListener("touchstart",v,!1),r.addEventListener("touchend",y,!1)}function h(){r.removeEventListener("mousemove",p,!1),r.removeEventListener("mousedown",b,!1),r.removeEventListener("mouseup",g,!1),r.removeEventListener("mouseleave",g,!1),r.removeEventListener("touchmove",m,!1),r.removeEventListener("touchstart",v,!1),r.removeEventListener("touchend",y,!1)}function p(n){n.preventDefault();var l=r.getBoundingClientRect();if(o.x=(n.clientX-l.left)/l.width*2-1,o.y=-(n.clientY-l.top)/l.height*2+1,i.setFromCamera(o,t),d&&f.enabled)return i.ray.intersectPlane(a,c)&&d.position.copy(c.sub(s)),void f.dispatchEvent({type:"drag",object:d});i.setFromCamera(o,t);var h=i.intersectObjects(e);if(h.length>0){var p=h[0].object;a.setFromNormalAndCoplanarPoint(t.getWorldDirection(a.normal),p.position),u!==p&&(f.dispatchEvent({type:"hoveron",object:p}),r.style.cursor="pointer",u=p)}else null!==u&&(f.dispatchEvent({type:"hoveroff",object:u}),r.style.cursor="auto",u=null)}function b(n){n.preventDefault(),i.setFromCamera(o,t);var u=i.intersectObjects(e);u.length>0&&(d=u[0].object,i.ray.intersectPlane(a,c)&&s.copy(c).sub(d.position),r.style.cursor="move",f.dispatchEvent({type:"dragstart",object:d}))}function g(e){e.preventDefault(),d&&(f.dispatchEvent({type:"dragend",object:d}),d=null),r.style.cursor="auto"}function m(e){e.preventDefault(),e=e.changedTouches[0];var n=r.getBoundingClientRect();if(o.x=(e.clientX-n.left)/n.width*2-1,o.y=-(e.clientY-n.top)/n.height*2+1,i.setFromCamera(o,t),d&&f.enabled)return i.ray.intersectPlane(a,c)&&d.position.copy(c.sub(s)),void f.dispatchEvent({type:"drag",object:d})}function v(n){n.preventDefault(),n=n.changedTouches[0];var u=r.getBoundingClientRect();o.x=(n.clientX-u.left)/u.width*2-1,o.y=-(n.clientY-u.top)/u.height*2+1,i.setFromCamera(o,t);var l=i.intersectObjects(e);l.length>0&&(d=l[0].object,a.setFromNormalAndCoplanarPoint(t.getWorldDirection(a.normal),d.position),i.ray.intersectPlane(a,c)&&s.copy(c).sub(d.position),r.style.cursor="move",f.dispatchEvent({type:"dragstart",object:d}))}function y(e){e.preventDefault(),d&&(f.dispatchEvent({type:"dragend",object:d}),d=null),r.style.cursor="auto"}l(),this.enabled=!0,this.activate=l,this.deactivate=h,this.dispose=function(){h()},this.setObjects=function(){console.error("THREE.DragControls: setObjects() has been removed.")},this.on=function(e,t){console.warn("THREE.DragControls: on() has been deprecated. Use addEventListener() instead."),f.addEventListener(e,t)},this.off=function(e,t){console.warn("THREE.DragControls: off() has been deprecated. Use removeEventListener() instead."),f.removeEventListener(e,t)},this.notify=function(e){console.error("THREE.DragControls: notify() has been deprecated. Use dispatchEvent() instead."),f.dispatchEvent({type:e})}}function _u(e,t){let r;if(void 0===t)for(const t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}y.SceneUtils=xu,y.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"118"}})),wu.prototype=Object.create(_.prototype),wu.prototype.constructor=wu;var Mu=function(e,t,r){var n;function a(){var a,i,o=n.length,s=0,c=0,d=0;for(a=0;a<o;++a)s+=(i=n[a]).x||0,c+=i.y||0,d+=i.z||0;for(s=s/o-e,c=c/o-t,d=d/o-r,a=0;a<o;++a)i=n[a],s&&(i.x-=s),c&&(i.y-=c),d&&(i.z-=d)}return null==e&&(e=0),null==t&&(t=0),null==r&&(r=0),a.initialize=function(e){n=e},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(e){return arguments.length?(t=+e,a):t},a.z=function(e){return arguments.length?(r=+e,a):r},a};function Su(e,t,r){if(isNaN(t))return e;var n,a,i,o,s,c,d=e._root,u={data:r},f=e._x0,l=e._x1;if(!d)return e._root=u,e;for(;d.length;)if((o=t>=(a=(f+l)/2))?f=a:l=a,n=d,!(d=d[s=+o]))return n[s]=u,e;if(t===(i=+e._x.call(null,d.data)))return u.next=d,n?n[s]=u:e._root=u,e;do{n=n?n[s]=new Array(2):e._root=new Array(2),(o=t>=(a=(f+l)/2))?f=a:l=a}while((s=+o)==(c=+(i>=a)));return n[c]=d,n[s]=u,e}var Tu=function(e,t,r){this.node=e,this.x0=t,this.x1=r};function Eu(e){return e[0]}function Au(e,t){var r=new Cu(null==t?Eu:t,NaN,NaN);return null==e?r:r.addAll(e)}function Cu(e,t,r){this._x=e,this._x0=t,this._x1=r,this._root=void 0}function Lu(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Pu=Au.prototype=Cu.prototype;Pu.copy=function(){var e,t,r=new Cu(this._x,this._x0,this._x1),n=this._root;if(!n)return r;if(!n.length)return r._root=Lu(n),r;for(e=[{source:n,target:r._root=new Array(2)}];n=e.pop();)for(var a=0;a<2;++a)(t=n.source[a])&&(t.length?e.push({source:t,target:n.target[a]=new Array(2)}):n.target[a]=Lu(t));return r},Pu.add=function(e){var t=+this._x.call(null,e);return Su(this.cover(t),t,e)},Pu.addAll=function(e){var t,r,n=e.length,a=new Array(n),i=1/0,o=-1/0;for(t=0;t<n;++t)isNaN(r=+this._x.call(null,e[t]))||(a[t]=r,r<i&&(i=r),r>o&&(o=r));for(o<i&&(i=this._x0,o=this._x1),this.cover(i).cover(o),t=0;t<n;++t)Su(this,a[t],e[t]);return this},Pu.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,r=this._x1;if(isNaN(t))r=(t=Math.floor(e))+1;else{if(!(t>e||e>r))return this;var n,a,i=r-t,o=this._root;switch(a=+(e<(t+r)/2)){case 0:do{(n=new Array(2))[a]=o,o=n}while(e>(r=t+(i*=2)));break;case 1:do{(n=new Array(2))[a]=o,o=n}while((t=r-(i*=2))>e)}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._x1=r,this},Pu.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Pu.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},Pu.find=function(e,t){var r,n,a,i,o,s=this._x0,c=this._x1,d=[],u=this._root;for(u&&d.push(new Tu(u,s,c)),null==t?t=1/0:(s=e-t,c=e+t);i=d.pop();)if(!(!(u=i.node)||(n=i.x0)>c||(a=i.x1)<s))if(u.length){var f=(n+a)/2;d.push(new Tu(u[1],f,a),new Tu(u[0],n,f)),(o=+(e>=f))&&(i=d[d.length-1],d[d.length-1]=d[d.length-1-o],d[d.length-1-o]=i)}else{var l=Math.abs(e-+this._x.call(null,u.data));l<t&&(t=l,s=e-l,c=e+l,r=u.data)}return r},Pu.remove=function(e){if(isNaN(i=+this._x.call(null,e)))return this;var t,r,n,a,i,o,s,c,d,u=this._root,f=this._x0,l=this._x1;if(!u)return this;if(u.length)for(;;){if((s=i>=(o=(f+l)/2))?f=o:l=o,t=u,!(u=u[c=+s]))return this;if(!u.length)break;t[c+1&1]&&(r=t,d=c)}for(;u.data!==e;)if(n=u,!(u=u.next))return this;return(a=u.next)&&delete u.next,n?(a?n.next=a:delete n.next,this):t?(a?t[c]=a:delete t[c],(u=t[0]||t[1])&&u===(t[1]||t[0])&&!u.length&&(r?r[d]=u:this._root=u),this):(this._root=a,this)},Pu.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},Pu.root=function(){return this._root},Pu.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Pu.visit=function(e){var t,r,n,a,i=[],o=this._root;for(o&&i.push(new Tu(o,this._x0,this._x1));t=i.pop();)if(!e(o=t.node,n=t.x0,a=t.x1)&&o.length){var s=(n+a)/2;(r=o[1])&&i.push(new Tu(r,s,a)),(r=o[0])&&i.push(new Tu(r,n,s))}return this},Pu.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new Tu(this._root,this._x0,this._x1));t=r.pop();){var a=t.node;if(a.length){var i,o=t.x0,s=t.x1,c=(o+s)/2;(i=a[0])&&r.push(new Tu(i,o,c)),(i=a[1])&&r.push(new Tu(i,c,s))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.x1);return this},Pu.x=function(e){return arguments.length?(this._x=e,this):this._x};function Ru(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var a,i,o,s,c,d,u,f,l,h=e._root,p={data:n},b=e._x0,g=e._y0,m=e._x1,v=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((d=t>=(i=(b+m)/2))?b=i:m=i,(u=r>=(o=(g+v)/2))?g=o:v=o,a=h,!(h=h[f=u<<1|d]))return a[f]=p,e;if(s=+e._x.call(null,h.data),c=+e._y.call(null,h.data),t===s&&r===c)return p.next=h,a?a[f]=p:e._root=p,e;do{a=a?a[f]=new Array(4):e._root=new Array(4),(d=t>=(i=(b+m)/2))?b=i:m=i,(u=r>=(o=(g+v)/2))?g=o:v=o}while((f=u<<1|d)==(l=(c>=o)<<1|s>=i));return a[l]=h,a[f]=p,e}var ku=function(e,t,r,n,a){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=a};function Ou(e){return e[0]}function Du(e){return e[1]}function Iu(e,t,r){var n=new Nu(null==t?Ou:t,null==r?Du:r,NaN,NaN,NaN,NaN);return null==e?n:n.addAll(e)}function Nu(e,t,r,n,a,i){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=a,this._y1=i,this._root=void 0}function Bu(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var zu=Iu.prototype=Nu.prototype;zu.copy=function(){var e,t,r=new Nu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=Bu(n),r;for(e=[{source:n,target:r._root=new Array(4)}];n=e.pop();)for(var a=0;a<4;++a)(t=n.source[a])&&(t.length?e.push({source:t,target:n.target[a]=new Array(4)}):n.target[a]=Bu(t));return r},zu.add=function(e){var t=+this._x.call(null,e),r=+this._y.call(null,e);return Ru(this.cover(t,r),t,r,e)},zu.addAll=function(e){var t,r,n,a,i=e.length,o=new Array(i),s=new Array(i),c=1/0,d=1/0,u=-1/0,f=-1/0;for(r=0;r<i;++r)isNaN(n=+this._x.call(null,t=e[r]))||isNaN(a=+this._y.call(null,t))||(o[r]=n,s[r]=a,n<c&&(c=n),n>u&&(u=n),a<d&&(d=a),a>f&&(f=a));if(c>u||d>f)return this;for(this.cover(c,d).cover(u,f),r=0;r<i;++r)Ru(this,o[r],s[r],e[r]);return this},zu.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,a=this._x1,i=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,i=(n=Math.floor(t))+1;else{for(var o,s,c=a-r,d=this._root;r>e||e>=a||n>t||t>=i;)switch(s=(t<n)<<1|e<r,(o=new Array(4))[s]=d,d=o,c*=2,s){case 0:a=r+c,i=n+c;break;case 1:r=a-c,i=n+c;break;case 2:a=r+c,n=i-c;break;case 3:r=a-c,n=i-c}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=n,this._x1=a,this._y1=i,this},zu.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},zu.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},zu.find=function(e,t,r){var n,a,i,o,s,c,d,u=this._x0,f=this._y0,l=this._x1,h=this._y1,p=[],b=this._root;for(b&&p.push(new ku(b,u,f,l,h)),null==r?r=1/0:(u=e-r,f=t-r,l=e+r,h=t+r,r*=r);c=p.pop();)if(!(!(b=c.node)||(a=c.x0)>l||(i=c.y0)>h||(o=c.x1)<u||(s=c.y1)<f))if(b.length){var g=(a+o)/2,m=(i+s)/2;p.push(new ku(b[3],g,m,o,s),new ku(b[2],a,m,g,s),new ku(b[1],g,i,o,m),new ku(b[0],a,i,g,m)),(d=(t>=m)<<1|e>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-d],p[p.length-1-d]=c)}else{var v=e-+this._x.call(null,b.data),y=t-+this._y.call(null,b.data),x=v*v+y*y;if(x<r){var w=Math.sqrt(r=x);u=e-w,f=t-w,l=e+w,h=t+w,n=b.data}}return n},zu.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,r,n,a,i,o,s,c,d,u,f,l,h=this._root,p=this._x0,b=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((d=i>=(s=(p+g)/2))?p=s:g=s,(u=o>=(c=(b+m)/2))?b=c:m=c,t=h,!(h=h[f=u<<1|d]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(r=t,l=f)}for(;h.data!==e;)if(n=h,!(h=h.next))return this;return(a=h.next)&&delete h.next,n?(a?n.next=a:delete n.next,this):t?(a?t[f]=a:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(r?r[l]=h:this._root=h),this):(this._root=a,this)},zu.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},zu.root=function(){return this._root},zu.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},zu.visit=function(e){var t,r,n,a,i,o,s=[],c=this._root;for(c&&s.push(new ku(c,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(c=t.node,n=t.x0,a=t.y0,i=t.x1,o=t.y1)&&c.length){var d=(n+i)/2,u=(a+o)/2;(r=c[3])&&s.push(new ku(r,d,u,i,o)),(r=c[2])&&s.push(new ku(r,n,u,d,o)),(r=c[1])&&s.push(new ku(r,d,a,i,u)),(r=c[0])&&s.push(new ku(r,n,a,d,u))}return this},zu.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new ku(this._root,this._x0,this._y0,this._x1,this._y1));t=r.pop();){var a=t.node;if(a.length){var i,o=t.x0,s=t.y0,c=t.x1,d=t.y1,u=(o+c)/2,f=(s+d)/2;(i=a[0])&&r.push(new ku(i,o,s,u,f)),(i=a[1])&&r.push(new ku(i,u,s,c,f)),(i=a[2])&&r.push(new ku(i,o,f,u,d)),(i=a[3])&&r.push(new ku(i,u,f,c,d))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},zu.x=function(e){return arguments.length?(this._x=e,this):this._x},zu.y=function(e){return arguments.length?(this._y=e,this):this._y};function ju(e,t,r,n,a){if(isNaN(t)||isNaN(r)||isNaN(n))return e;var i,o,s,c,d,u,f,l,h,p,b,g,m=e._root,v={data:a},y=e._x0,x=e._y0,w=e._z0,_=e._x1,M=e._y1,S=e._z1;if(!m)return e._root=v,e;for(;m.length;)if((l=t>=(o=(y+_)/2))?y=o:_=o,(h=r>=(s=(x+M)/2))?x=s:M=s,(p=n>=(c=(w+S)/2))?w=c:S=c,i=m,!(m=m[b=p<<2|h<<1|l]))return i[b]=v,e;if(d=+e._x.call(null,m.data),u=+e._y.call(null,m.data),f=+e._z.call(null,m.data),t===d&&r===u&&n===f)return v.next=m,i?i[b]=v:e._root=v,e;do{i=i?i[b]=new Array(8):e._root=new Array(8),(l=t>=(o=(y+_)/2))?y=o:_=o,(h=r>=(s=(x+M)/2))?x=s:M=s,(p=n>=(c=(w+S)/2))?w=c:S=c}while((b=p<<2|h<<1|l)==(g=(f>=c)<<2|(u>=s)<<1|d>=o));return i[g]=m,i[b]=v,e}var Fu=function(e,t,r,n,a,i,o){this.node=e,this.x0=t,this.y0=r,this.z0=n,this.x1=a,this.y1=i,this.z1=o};function Uu(e){return e[0]}function Gu(e){return e[1]}function Hu(e){return e[2]}function Vu(e,t,r,n){var a=new Wu(null==t?Uu:t,null==r?Gu:r,null==n?Hu:n,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?a:a.addAll(e)}function Wu(e,t,r,n,a,i,o,s,c){this._x=e,this._y=t,this._z=r,this._x0=n,this._y0=a,this._z0=i,this._x1=o,this._y1=s,this._z1=c,this._root=void 0}function qu(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Xu=Vu.prototype=Wu.prototype;Xu.copy=function(){var e,t,r=new Wu(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root;if(!n)return r;if(!n.length)return r._root=qu(n),r;for(e=[{source:n,target:r._root=new Array(8)}];n=e.pop();)for(var a=0;a<8;++a)(t=n.source[a])&&(t.length?e.push({source:t,target:n.target[a]=new Array(8)}):n.target[a]=qu(t));return r},Xu.add=function(e){var t=+this._x.call(null,e),r=+this._y.call(null,e),n=+this._z.call(null,e);return ju(this.cover(t,r,n),t,r,n,e)},Xu.addAll=function(e){var t,r,n,a,i,o=e.length,s=new Array(o),c=new Array(o),d=new Array(o),u=1/0,f=1/0,l=1/0,h=-1/0,p=-1/0,b=-1/0;for(r=0;r<o;++r)isNaN(n=+this._x.call(null,t=e[r]))||isNaN(a=+this._y.call(null,t))||isNaN(i=+this._z.call(null,t))||(s[r]=n,c[r]=a,d[r]=i,n<u&&(u=n),n>h&&(h=n),a<f&&(f=a),a>p&&(p=a),i<l&&(l=i),i>b&&(b=i));for(h<u&&(u=this._x0,h=this._x1),p<f&&(f=this._y0,p=this._y1),b<l&&(l=this._z0,b=this._z1),this.cover(u,f,l).cover(h,p,b),r=0;r<o;++r)ju(this,s[r],c[r],d[r],e[r]);return this},Xu.cover=function(e,t,r){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(r=+r))return this;var n=this._x0,a=this._y0,i=this._z0,o=this._x1,s=this._y1,c=this._z1;if(isNaN(n))o=(n=Math.floor(e))+1,s=(a=Math.floor(t))+1,c=(i=Math.floor(r))+1;else{if(!(n>e||e>o||a>t||t>s||i>r||r>c))return this;var d,u,f=o-n,l=this._root;switch(u=(r<(i+c)/2)<<2|(t<(a+s)/2)<<1|e<(n+o)/2){case 0:do{(d=new Array(8))[u]=l,l=d}while(s=a+(f*=2),c=i+f,e>(o=n+f)||t>s||r>c);break;case 1:do{(d=new Array(8))[u]=l,l=d}while(s=a+(f*=2),c=i+f,(n=o-f)>e||t>s||r>c);break;case 2:do{(d=new Array(8))[u]=l,l=d}while(a=s-(f*=2),c=i+f,e>(o=n+f)||a>t||r>c);break;case 3:do{(d=new Array(8))[u]=l,l=d}while(a=s-(f*=2),c=i+f,(n=o-f)>e||a>t||r>c);break;case 4:do{(d=new Array(8))[u]=l,l=d}while(s=a+(f*=2),i=c-f,e>(o=n+f)||t>s||i>r);break;case 5:do{(d=new Array(8))[u]=l,l=d}while(s=a+(f*=2),i=c-f,(n=o-f)>e||t>s||i>r);break;case 6:do{(d=new Array(8))[u]=l,l=d}while(a=s-(f*=2),i=c-f,e>(o=n+f)||a>t||i>r);break;case 7:do{(d=new Array(8))[u]=l,l=d}while(a=s-(f*=2),i=c-f,(n=o-f)>e||a>t||i>r)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=a,this._z0=i,this._x1=o,this._y1=s,this._z1=c,this},Xu.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Xu.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},Xu.find=function(e,t,r,n){var a,i,o,s,c,d,u,f,l,h=this._x0,p=this._y0,b=this._z0,g=this._x1,m=this._y1,v=this._z1,y=[],x=this._root;for(x&&y.push(new Fu(x,h,p,b,g,m,v)),null==n?n=1/0:(h=e-n,p=t-n,b=r-n,g=e+n,m=t+n,v=r+n,n*=n);f=y.pop();)if(!(!(x=f.node)||(i=f.x0)>g||(o=f.y0)>m||(s=f.z0)>v||(c=f.x1)<h||(d=f.y1)<p||(u=f.z1)<b))if(x.length){var w=(i+c)/2,_=(o+d)/2,M=(s+u)/2;y.push(new Fu(x[7],w,_,M,c,d,u),new Fu(x[6],i,_,M,w,d,u),new Fu(x[5],w,o,M,c,_,u),new Fu(x[4],i,o,M,w,_,u),new Fu(x[3],w,_,s,c,d,M),new Fu(x[2],i,_,s,w,d,M),new Fu(x[1],w,o,s,c,_,M),new Fu(x[0],i,o,s,w,_,M)),(l=(r>=M)<<2|(t>=_)<<1|e>=w)&&(f=y[y.length-1],y[y.length-1]=y[y.length-1-l],y[y.length-1-l]=f)}else{var S=e-+this._x.call(null,x.data),T=t-+this._y.call(null,x.data),E=r-+this._z.call(null,x.data),A=S*S+T*T+E*E;if(A<n){var C=Math.sqrt(n=A);h=e-C,p=t-C,b=r-C,g=e+C,m=t+C,v=r+C,a=x.data}}return a},Xu.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,r,n,a,i,o,s,c,d,u,f,l,h,p,b,g=this._root,m=this._x0,v=this._y0,y=this._z0,x=this._x1,w=this._y1,_=this._z1;if(!g)return this;if(g.length)for(;;){if((f=i>=(c=(m+x)/2))?m=c:x=c,(l=o>=(d=(v+w)/2))?v=d:w=d,(h=s>=(u=(y+_)/2))?y=u:_=u,t=g,!(g=g[p=h<<2|l<<1|f]))return this;if(!g.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(r=t,b=p)}for(;g.data!==e;)if(n=g,!(g=g.next))return this;return(a=g.next)&&delete g.next,n?(a?n.next=a:delete n.next,this):t?(a?t[p]=a:delete t[p],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(r?r[b]=g:this._root=g),this):(this._root=a,this)},Xu.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},Xu.root=function(){return this._root},Xu.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Xu.visit=function(e){var t,r,n,a,i,o,s,c,d=[],u=this._root;for(u&&d.push(new Fu(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=d.pop();)if(!e(u=t.node,n=t.x0,a=t.y0,i=t.z0,o=t.x1,s=t.y1,c=t.z1)&&u.length){var f=(n+o)/2,l=(a+s)/2,h=(i+c)/2;(r=u[7])&&d.push(new Fu(r,f,l,h,o,s,c)),(r=u[6])&&d.push(new Fu(r,n,l,h,f,s,c)),(r=u[5])&&d.push(new Fu(r,f,a,h,o,l,c)),(r=u[4])&&d.push(new Fu(r,n,a,h,f,l,c)),(r=u[3])&&d.push(new Fu(r,f,l,i,o,s,h)),(r=u[2])&&d.push(new Fu(r,n,l,i,f,s,h)),(r=u[1])&&d.push(new Fu(r,f,a,i,o,l,h)),(r=u[0])&&d.push(new Fu(r,n,a,i,f,l,h))}return this},Xu.visitAfter=function(e){var t,r=[],n=[];for(this._root&&r.push(new Fu(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=r.pop();){var a=t.node;if(a.length){var i,o=t.x0,s=t.y0,c=t.z0,d=t.x1,u=t.y1,f=t.z1,l=(o+d)/2,h=(s+u)/2,p=(c+f)/2;(i=a[0])&&r.push(new Fu(i,o,s,c,l,h,p)),(i=a[1])&&r.push(new Fu(i,l,s,c,d,h,p)),(i=a[2])&&r.push(new Fu(i,o,h,c,l,u,p)),(i=a[3])&&r.push(new Fu(i,l,h,c,d,u,p)),(i=a[4])&&r.push(new Fu(i,o,s,p,l,h,f)),(i=a[5])&&r.push(new Fu(i,l,s,p,d,h,f)),(i=a[6])&&r.push(new Fu(i,o,h,p,l,u,f)),(i=a[7])&&r.push(new Fu(i,l,h,p,d,u,f))}n.push(t)}for(;t=n.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},Xu.x=function(e){return arguments.length?(this._x=e,this):this._x},Xu.y=function(e){return arguments.length?(this._y=e,this):this._y},Xu.z=function(e){return arguments.length?(this._z=e,this):this._z};var Yu=function(e){return function(){return e}},Zu=function(){return 1e-6*(Math.random()-.5)};function Ju(e){return e.index}function Qu(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}var Ku=function(e){var t,r,n,a,i,o,s=Ju,c=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},d=Yu(30),u=1;function f(n){for(var i=0,s=e.length;i<u;++i)for(var c,d,f,l,h,p=0,b=0,g=0,m=0;p<s;++p)d=(c=e[p]).source,b=(f=c.target).x+f.vx-d.x-d.vx||Zu(),a>1&&(g=f.y+f.vy-d.y-d.vy||Zu()),a>2&&(m=f.z+f.vz-d.z-d.vz||Zu()),b*=l=((l=Math.sqrt(b*b+g*g+m*m))-r[p])/l*n*t[p],g*=l,m*=l,f.vx-=b*(h=o[p]),a>1&&(f.vy-=g*h),a>2&&(f.vz-=m*h),d.vx+=b*(h=1-h),a>1&&(d.vy+=g*h),a>2&&(d.vz+=m*h)}function l(){if(n){var a,c,d=n.length,u=e.length,f=new Map(n.map((e,t)=>[s(e,t,n),e]));for(a=0,i=new Array(d);a<u;++a)(c=e[a]).index=a,"object"!=typeof c.source&&(c.source=Qu(f,c.source)),"object"!=typeof c.target&&(c.target=Qu(f,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)c=e[a],o[a]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);t=new Array(u),h(),r=new Array(u),p()}}function h(){if(n)for(var r=0,a=e.length;r<a;++r)t[r]=+c(e[r],r,e)}function p(){if(n)for(var t=0,a=e.length;t<a;++t)r[t]=+d(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){n=e,a=t,l()},f.links=function(t){return arguments.length?(e=t,l(),f):e},f.id=function(e){return arguments.length?(s=e,f):s},f.iterations=function(e){return arguments.length?(u=+e,f):u},f.strength=function(e){return arguments.length?(c="function"==typeof e?e:Yu(+e),h(),f):c},f.distance=function(e){return arguments.length?(d="function"==typeof e?e:Yu(+e),p(),f):d},f},$u={value:function(){}};function ef(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new tf(n)}function tf(e){this._=e}function rf(e,t){return e.trim().split(/^|\s+/).map((function(e){var r="",n=e.indexOf(".");if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}}))}function nf(e,t){for(var r,n=0,a=e.length;n<a;++n)if((r=e[n]).name===t)return r.value}function af(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=$u,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}tf.prototype=ef.prototype={constructor:tf,on:function(e,t){var r,n=this._,a=rf(e+"",n),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(r=(e=a[i]).type)n[r]=af(n[r],e.name,t);else if(null==t)for(r in n)n[r]=af(n[r],e.name,null);return this}for(;++i<o;)if((r=(e=a[i]).type)&&(r=nf(n[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new tf(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,a=new Array(r),i=0;i<r;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,r=(n=this._[e]).length;i<r;++i)n[i].value.apply(t,a)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};var of,sf,cf=0,df=0,uf=0,ff=0,lf=0,hf=0,pf="object"==typeof performance&&performance.now?performance:Date,bf="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gf(){return lf||(bf(mf),lf=pf.now()+hf)}function mf(){lf=0}function vf(){this._call=this._time=this._next=null}function yf(e,t,r){var n=new vf;return n.restart(e,t,r),n}function xf(){lf=(ff=pf.now())+hf,cf=df=0;try{!function(){gf(),++cf;for(var e,t=of;t;)(e=lf-t._time)>=0&&t._call.call(null,e),t=t._next;--cf}()}finally{cf=0,function(){var e,t,r=of,n=1/0;for(;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:of=t);sf=e,_f(n)}(),lf=0}}function wf(){var e=pf.now(),t=e-ff;t>1e3&&(hf-=t,ff=e)}function _f(e){cf||(df&&(df=clearTimeout(df)),e-lf>24?(e<1/0&&(df=setTimeout(xf,e-pf.now()-hf)),uf&&(uf=clearInterval(uf))):(uf||(ff=pf.now(),uf=setInterval(wf,1e3)),cf=1,bf(xf)))}vf.prototype=yf.prototype={constructor:vf,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?gf():+r)+(null==t?0:+t),this._next||sf===this||(sf?sf._next=this:of=this,sf=this),this._call=e,this._time=r,_f()},stop:function(){this._call&&(this._call=null,this._time=1/0,_f())}};function Mf(e){return e.x}function Sf(e){return e.y}function Tf(e){return e.z}var Ef,Af=Math.PI*(3-Math.sqrt(5)),Cf=20*Math.PI/(9+Math.sqrt(221)),Lf=function(e,t){t=t||2;var r,n=Math.min(3,Math.max(1,Math.round(t))),a=1,i=.001,o=1-Math.pow(i,1/300),s=0,c=.6,d=new Map,u=yf(l),f=ef("tick","end");function l(){h(),f.call("tick",r),a<i&&(u.stop(),f.call("end",r))}function h(t){var i,u,f=e.length;void 0===t&&(t=1);for(var l=0;l<t;++l)for(a+=(s-a)*o,d.forEach((function(e){e(a)})),i=0;i<f;++i)null==(u=e[i]).fx?u.x+=u.vx*=c:(u.x=u.fx,u.vx=0),n>1&&(null==u.fy?u.y+=u.vy*=c:(u.y=u.fy,u.vy=0)),n>2&&(null==u.fz?u.z+=u.vz*=c:(u.z=u.fz,u.vz=0));return r}function p(){for(var t,r=0,a=e.length;r<a;++r){if((t=e[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||n>1&&isNaN(t.y)||n>2&&isNaN(t.z)){var i=10*(n>2?Math.cbrt(r):n>1?Math.sqrt(r):r),o=r*Af,s=r*Cf;1===n?t.x=i:2===n?(t.x=i*Math.cos(o),t.y=i*Math.sin(o)):(t.x=i*Math.sin(o)*Math.cos(s),t.y=i*Math.cos(o),t.z=i*Math.sin(o)*Math.sin(s))}(isNaN(t.vx)||n>1&&isNaN(t.vy)||n>2&&isNaN(t.vz))&&(t.vx=0,n>1&&(t.vy=0),n>2&&(t.vz=0))}}function b(t){return t.initialize&&t.initialize(e,n),t}return null==e&&(e=[]),p(),r={tick:h,restart:function(){return u.restart(l),r},stop:function(){return u.stop(),r},numDimensions:function(e){return arguments.length?(n=Math.min(3,Math.max(1,Math.round(e))),d.forEach(b),r):n},nodes:function(t){return arguments.length?(e=t,p(),d.forEach(b),r):e},alpha:function(e){return arguments.length?(a=+e,r):a},alphaMin:function(e){return arguments.length?(i=+e,r):i},alphaDecay:function(e){return arguments.length?(o=+e,r):+o},alphaTarget:function(e){return arguments.length?(s=+e,r):s},velocityDecay:function(e){return arguments.length?(c=1-e,r):1-c},force:function(e,t){return arguments.length>1?(null==t?d.delete(e):d.set(e,b(t)),r):d.get(e)},find:function(){var t,r,a,i,o,s,c=Array.prototype.slice.call(arguments),d=c.shift()||0,u=(n>1?c.shift():null)||0,f=(n>2?c.shift():null)||0,l=c.shift()||1/0,h=0,p=e.length;for(l*=l,h=0;h<p;++h)(i=(t=d-(o=e[h]).x)*t+(r=u-(o.y||0))*r+(a=f-(o.z||0))*a)<l&&(s=o,l=i);return s},on:function(e,t){return arguments.length>1?(f.on(e,t),r):f.on(e)}}},Pf=function(){var e,t,r,n,a,i=Yu(-30),o=1,s=1/0,c=.81;function d(a){var i,o=e.length,s=(1===t?Au(e,Mf):2===t?Iu(e,Mf,Sf):3===t?Vu(e,Mf,Sf,Tf):null).visitAfter(f);for(n=a,i=0;i<o;++i)r=e[i],s.visit(l)}function u(){if(e){var t,r,n=e.length;for(a=new Array(n),t=0;t<n;++t)r=e[t],a[r.index]=+i(r,t,e)}}function f(e){var r,n,i,o,s,c,d=0,u=0,f=e.length;if(f){for(i=o=s=c=0;c<f;++c)(r=e[c])&&(n=Math.abs(r.value))&&(d+=r.value,u+=n,i+=n*(r.x||0),o+=n*(r.y||0),s+=n*(r.z||0));d*=Math.sqrt(4/f),e.x=i/u,t>1&&(e.y=o/u),t>2&&(e.z=s/u)}else{(r=e).x=r.data.x,t>1&&(r.y=r.data.y),t>2&&(r.z=r.data.z);do{d+=a[r.data.index]}while(r=r.next)}e.value=d}function l(e,i,d,u,f){if(!e.value)return!0;var l=[d,u,f][t-1],h=e.x-r.x,p=t>1?e.y-r.y:0,b=t>2?e.z-r.z:0,g=l-i,m=h*h+p*p+b*b;if(g*g/c<m)return m<s&&(0===h&&(m+=(h=Zu())*h),t>1&&0===p&&(m+=(p=Zu())*p),t>2&&0===b&&(m+=(b=Zu())*b),m<o&&(m=Math.sqrt(o*m)),r.vx+=h*e.value*n/m,t>1&&(r.vy+=p*e.value*n/m),t>2&&(r.vz+=b*e.value*n/m)),!0;if(!(e.length||m>=s)){(e.data!==r||e.next)&&(0===h&&(m+=(h=Zu())*h),t>1&&0===p&&(m+=(p=Zu())*p),t>2&&0===b&&(m+=(b=Zu())*b),m<o&&(m=Math.sqrt(o*m)));do{e.data!==r&&(g=a[e.data.index]*n/m,r.vx+=h*g,t>1&&(r.vy+=p*g),t>2&&(r.vz+=b*g))}while(e=e.next)}}return d.initialize=function(r,n){e=r,t=n,u()},d.strength=function(e){return arguments.length?(i="function"==typeof e?e:Yu(+e),u(),d):i},d.distanceMin=function(e){return arguments.length?(o=e*e,d):Math.sqrt(o)},d.distanceMax=function(e){return arguments.length?(s=e*e,d):Math.sqrt(s)},d.theta=function(e){return arguments.length?(c=e*e,d):Math.sqrt(c)},d};Ef=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);if("function"!=typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,r=[],n={},a=0,i=e.multigraph?function(e,t,r){var a=Ff(e,t),i=n.hasOwnProperty(a);if(i||x(e,t)){i||(n[a]=0);var o="@"+ ++n[a];a=Ff(e+o,t+o)}return new jf(e,t,r,a)}:function(e,t,r){var n=Ff(e,t);return new jf(e,t,r,n)},o=[],s=w,c=w,d=w,u=w,f={addNode:p,addLink:function(e,t,n){d();var a=b(e)||p(e),o=b(t)||p(t),c=i(e,t,n);r.push(c),zf(a,c),e!==t&&zf(o,c);return s(c,"add"),u(),c},removeLink:y,removeNode:g,getNode:b,getNodeCount:m,getLinkCount:v,getLinksCount:v,getNodesCount:m,getLinks:function(e){var t=b(e);return t?t.links:null},forEachNode:S,forEachLinkedNode:function(e,r,n){var a=b(e);if(a&&a.links&&"function"==typeof r)return n?function(e,r,n){for(var a=0;a<e.length;++a){var i=e[a];if(i.fromId===r&&n(t.get(i.toId),i))return!0}}(a.links,e,r):function(e,r,n){for(var a=0;a<e.length;++a){var i=e[a],o=i.fromId===r?i.toId:i.fromId;if(n(t.get(o),i))return!0}}(a.links,e,r)},forEachLink:function(e){var t,n;if("function"==typeof e)for(t=0,n=r.length;t<n;++t)e(r[t])},beginUpdate:d,endUpdate:u,clear:function(){d(),S((function(e){g(e.id)})),u()},hasLink:x,hasNode:b,getLink:x};return If(f),function(){var e=f.on;f.on=function(){return f.beginUpdate=d=_,f.endUpdate=u=M,s=l,c=h,f.on=e,e.apply(f,arguments)}}(),f;function l(e,t){o.push({link:e,changeType:t})}function h(e,t){o.push({node:e,changeType:t})}function p(e,r){if(void 0===e)throw new Error("Invalid node identifier");d();var n=b(e);return n?(n.data=r,c(n,"update")):(n=new Bf(e,r),c(n,"add")),t.set(e,n),u(),n}function b(e){return t.get(e)}function g(e){var r=b(e);if(!r)return!1;d();var n=r.links;if(n){r.links=null;for(var a=0;a<n.length;++a)y(n[a])}return t.delete(e),c(r,"remove"),u(),!0}function m(){return t.size}function v(){return r.length}function y(e){if(!e)return!1;var t=Nf(e,r);if(t<0)return!1;d(),r.splice(t,1);var n=b(e.fromId),a=b(e.toId);return n&&(t=Nf(e,n.links))>=0&&n.links.splice(t,1),a&&(t=Nf(e,a.links))>=0&&a.links.splice(t,1),s(e,"remove"),u(),!0}function x(e,t){var r,n=b(e);if(!n||!n.links)return null;for(r=0;r<n.links.length;++r){var a=n.links[r];if(a.fromId===e&&a.toId===t)return a}return null}function w(){}function _(){a+=1}function M(){0===(a-=1)&&o.length>0&&(f.fire("changed",o),o.length=0)}function S(e){if("function"!=typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);for(var r=t.values(),n=r.next();!n.done;){if(e(n.value))return!0;n=r.next()}}};var Rf,kf=!1;function Of(){Rf={},Rf=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],r=0;r<t.length;++r)if(e.hasOwnProperty(t[r]))throw new Error("Subject cannot be eventified, since it already has property '"+t[r]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(r,n,a){if("function"!=typeof n)throw new Error("callback is expected to be a function");var i=t[r];return i||(i=t[r]=[]),i.push({callback:n,ctx:a}),e},off:function(r,n){if(void 0===r)return t=Object.create(null),e;if(t[r])if("function"!=typeof n)delete t[r];else for(var a=t[r],i=0;i<a.length;++i)a[i].callback===n&&a.splice(i,1);return e},fire:function(r){var n,a=t[r];if(!a)return e;arguments.length>1&&(n=Array.prototype.splice.call(arguments,1));for(var i=0;i<a.length;++i){var o=a[i];o.callback.apply(o.ctx,n)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}}function Df(){return kf||(kf=!0,Of()),Rf}var If=Df();function Nf(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var r,n=t.length;for(r=0;r<n;r+=1)if(t[r]===e)return r;return-1}function Bf(e,t){this.id=e,this.links=null,this.data=t}function zf(e,t){e.links?e.links.push(t):e.links=[t]}function jf(e,t,r,n){this.fromId=e,this.toId=t,this.data=r,this.id=n}function Ff(e,t){return e.toString()+"👉 "+t.toString()}var Uf={};Uf=function(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var r=th()(t),n=function(t){var r=e.getLinks(t);return r?1+r.length/3:1};t&&"function"==typeof t.nodeMass&&(n=t.nodeMass);var a=new Map,i={},o=0,s=r.settings.springTransform||ah;o=0,e.forEachNode((function(e){f(e.id),o+=1})),e.forEachLink(h),e.on("changed",u);var c=!1,d={step:function(){if(0===o)return!0;var e=r.step();d.lastMove=e,d.fire("step");var t,n=e/o<=.01;return c!==n&&(c=n,t=n,d.fire("stable",t)),n},getNodePosition:function(e){return g(e).pos},setNodePosition:function(e){var t=g(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1)),r.invalidateBBox()},getLinkPosition:function(e){var t=i[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return r.getBBox()},forEachBody:function(e){a.forEach((function(t,r){e(t,r)}))},pinNode:function(e,t){g(e.id).isPinned=!!t},isNodePinned:function(e){return g(e.id).isPinned},dispose:function(){e.off("changed",u),d.fire("disposed")},getBody:function(e){return a.get(e)},getSpring:function(t,r){var n;if(void 0===r)n="object"!=typeof t?t:t.id;else{var a=e.hasLink(t,r);if(!a)return;n=a.id}return i[n]},simulator:r,graph:e,lastMove:0};return nh(d),d;function u(t){for(var r=0;r<t.length;++r){var n=t[r];"add"===n.changeType?(n.node&&f(n.node.id),n.link&&h(n.link)):"remove"===n.changeType&&(n.node&&l(n.node),n.link&&p(n.link))}o=e.getNodesCount()}function f(t){var n=a.get(t);if(!n){var i=e.getNode(t);if(!i)throw new Error("initBody() was called with unknown node id");var o=i.position;if(!o){var s=function(e){var t=[];if(!e.links)return t;for(var r=Math.min(e.links.length,2),n=0;n<r;++n){var i=e.links[n],o=i.fromId!==e.id?a.get(i.fromId):a.get(i.toId);o&&o.pos&&t.push(o)}return t}(i);o=r.getBestNewBodyPosition(s)}(n=r.addBodyAt(o)).id=t,a.set(t,n),b(t),function(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}(i)&&(n.isPinned=!0)}}function l(e){var t=e.id,n=a.get(t);n&&(a.delete(t),r.removeBody(n))}function h(e){b(e.fromId),b(e.toId);var t=a.get(e.fromId),n=a.get(e.toId),o=r.addSpring(t,n,e.length);s(e,o),i[e.id]=o}function p(t){var n=i[t.id];if(n){var a=e.getNode(t.fromId),o=e.getNode(t.toId);a&&b(a.id),o&&b(o.id),delete i[t.id],r.removeSpring(n)}}function b(e){var t=a.get(e);if(t.mass=n(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function g(e){var t=a.get(e);return t||(f(e),t=a.get(e)),t}};var Gf,Hf=!1;function Vf(e,t,r,n){this.from=e,this.to=t,this.length=r,this.coeff=n}function Wf(){return Hf||(Hf=!0,Gf={},Gf=Vf),Gf}var qf,Xf=!1;function Yf(e,t,r){if("[object Array]"===Object.prototype.toString.call(r))for(var n=0;n<r.length;++n)Zf(e,t,r[n]);else for(var a in e)Zf(e,t,a)}function Zf(e,t,r){if(e.hasOwnProperty(r)){if("function"==typeof t[r])return;t[r]=function(n){return void 0!==n?(e[r]=n,t):e[r]}}}function Jf(){return Xf||(Xf=!0,qf={},qf=Yf),qf}var Qf,Kf=!1;function $f(e,t){var r;if(e||(e={}),t)for(r in t)if(t.hasOwnProperty(r)){var n=e.hasOwnProperty(r),a=typeof t[r];!n||typeof e[r]!==a?e[r]=t[r]:"object"===a&&(e[r]=$f(e[r],t[r]))}return e}function el(){return Kf||(Kf=!0,Qf={},Qf=$f),Qf}var tl,rl,nl,al=!1;function il(e){return new ol("number"==typeof e?e:+new Date)}function ol(e){this.seed=e}function sl(){var e,t,r;do{e=(t=2*this.nextDouble()-1)*t+(r=2*this.nextDouble()-1)*r}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)}function cl(){var e=this.seed;return e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16),this.seed=e,(268435455&e)/268435456}function dl(e){return Math.floor(this.nextDouble()*e)}function ul(e,t){var r=t||il();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(t){var n,a,i;for(n=e.length-1;n>0;--n)a=r.next(n+1),i=e[a],e[a]=e[n],e[n]=i,t(i);e.length&&t(e[0])},shuffle:function(){var t,n,a;for(t=e.length-1;t>0;--t)n=r.next(t+1),a=e[n],e[n]=e[t],e[t]=a;return e}}}function fl(){return al||(al=!0,tl={},rl=il,(tl=il).random=rl,nl=ul,tl.randomIterator=nl,ol.prototype.next=dl,ol.prototype.nextDouble=cl,ol.prototype.uniform=cl,ol.prototype.gaussian=sl),tl}var ll,hl=!1;function pl(){return hl||(hl=!0,ll={},ll=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}),ll}var bl,gl=!1;function ml(){this.stack=[],this.popIdx=0}function vl(e,t){this.node=e,this.body=t}function yl(){return gl||(gl=!0,bl={},bl=ml,ml.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var r=this.stack[this.popIdx];r?(r.node=e,r.body=t):this.stack[this.popIdx]=new vl(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}),bl}var xl,wl=!1;function _l(){return wl||(wl=!0,xl={},xl=function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return r<1e-8&&n<1e-8}),xl}var Ml,Sl=!1;function Tl(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function El(e,t,r){0===t?e.quad0=r:1===t?e.quad1=r:2===t?e.quad2=r:3===t&&(e.quad3=r)}function Al(){return Sl||(Sl=!0,Ml={},Ml=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=fl().random(1984),r=pl(),n=yl(),a=_l(),i=e.gravity,o=[],s=new n,c=e.theta,d=[],u=0,f=l();return{insertBodies:function(e){var t,r=Number.MAX_VALUE,n=Number.MAX_VALUE,a=Number.MIN_VALUE,i=Number.MIN_VALUE,o=e.length;for(t=o;t--;){var s=e[t].pos.x,c=e[t].pos.y;s<r&&(r=s),s>a&&(a=s),c<n&&(n=c),c>i&&(i=c)}var d=a-r,p=i-n;for(d>p?i=n+d:a=r+p,u=0,(f=l()).left=r,f.right=a,f.top=n,f.bottom=i,(t=o-1)>=0&&(f.body=e[t]);t--;)h(e[t])},getRoot:function(){return f},updateBodyForce:function(e){var r,n,a,s,d=o,u=0,l=0,h=1,p=0,b=1;for(d[0]=f;h;){var g=d[p],m=g.body;h-=1,p+=1;var v=m!==e;m&&v?(n=m.pos.x-e.pos.x,a=m.pos.y-e.pos.y,0===(s=Math.sqrt(n*n+a*a))&&(n=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,s=Math.sqrt(n*n+a*a)),r=i*m.mass*e.mass/(s*s*s),u+=r*n,l+=r*a):v&&(n=g.massX/g.mass-e.pos.x,a=g.massY/g.mass-e.pos.y,0===(s=Math.sqrt(n*n+a*a))&&(n=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,s=Math.sqrt(n*n+a*a)),(g.right-g.left)/s<c?(r=i*g.mass*e.mass/(s*s*s),u+=r*n,l+=r*a):(g.quad0&&(d[b]=g.quad0,h+=1,b+=1),g.quad1&&(d[b]=g.quad1,h+=1,b+=1),g.quad2&&(d[b]=g.quad2,h+=1,b+=1),g.quad3&&(d[b]=g.quad3,h+=1,b+=1)))}e.force.x+=u,e.force.y+=l},options:function(e){return e?("number"==typeof e.gravity&&(i=e.gravity),"number"==typeof e.theta&&(c=e.theta),this):{gravity:i,theta:c}}};function l(){var e=d[u];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new r,d[u]=e),++u,e}function h(e){for(s.reset(),s.push(f,e);!s.isEmpty();){var r=s.pop(),n=r.node,i=r.body;if(n.body){var o=n.body;if(n.body=null,a(o.pos,i.pos)){var c=3;do{var d=t.nextDouble(),u=(n.right-n.left)*d,h=(n.bottom-n.top)*d;o.pos.x=n.left+u,o.pos.y=n.top+h,c-=1}while(c>0&&a(o.pos,i.pos));if(0===c&&a(o.pos,i.pos))return}s.push(n,o),s.push(n,i)}else{var p=i.pos.x,b=i.pos.y;n.mass=n.mass+i.mass,n.massX=n.massX+i.mass*p,n.massY=n.massY+i.mass*b;var g=0,m=n.left,v=(n.right+m)/2,y=n.top,x=(n.bottom+y)/2;p>v&&(g+=1,m=v,v=n.right),b>x&&(g+=2,y=x,x=n.bottom);var w=Tl(n,g);w?s.push(w,i):((w=l()).left=m,w.top=y,w.right=v,w.bottom=x,w.body=i,El(n,g,w))}}}}),Ml}var Cl,Ll=!1;function Pl(){return Ll||(Ll=!0,Cl={},Cl=function(e,t){var r=fl().random(42),n={x1:0,y1:0,x2:0,y2:0};return{box:n,update:function(){var t=e.length;if(0!==t){for(var r=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE;t--;){var s=e[t];s.isPinned?(s.pos.x=s.prevPos.x,s.pos.y=s.prevPos.y):(s.prevPos.x=s.pos.x,s.prevPos.y=s.pos.y),s.pos.x<r&&(r=s.pos.x),s.pos.x>i&&(i=s.pos.x),s.pos.y<a&&(a=s.pos.y),s.pos.y>o&&(o=s.pos.y)}n.x1=r,n.x2=i,n.y1=a,n.y2=o}},reset:function(){n.x1=n.y1=0,n.x2=n.y2=0},getBestNewPosition:function(e){var a=n,i=0,o=0;if(e.length){for(var s=0;s<e.length;++s)i+=e[s].pos.x,o+=e[s].pos.y;i/=e.length,o/=e.length}else i=(a.x1+a.x2)/2,o=(a.y1+a.y2)/2;var c=t.springLength;return{x:i+r.next(c)-c/2,y:o+r.next(c)-c/2}}}}),Cl}var Rl,kl=!1;function Ol(){return kl||(kl=!0,Rl={},Rl=function(e){var t=el(),r={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y}};return Jf()(e=t(e,{dragCoeff:.02}),r,["dragCoeff"]),r}),Rl}var Dl,Il=!1;function Nl(){return Il||(Il=!0,Dl={},Dl=function(e){var t=el(),r=fl().random(42),n={update:function(t){var n=t.from,a=t.to,i=t.length<0?e.springLength:t.length,o=a.pos.x-n.pos.x,s=a.pos.y-n.pos.y,c=Math.sqrt(o*o+s*s);0===c&&(o=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,c=Math.sqrt(o*o+s*s));var d=c-i,u=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*d/c;n.force.x+=u*o,n.force.y+=u*s,a.force.x-=u*o,a.force.y-=u*s}};return Jf()(e=t(e,{springCoeff:2e-4,springLength:80}),n,["springCoeff","springLength"]),n}),Dl}var Bl,zl=!1;function jl(e,t){var r,n=0,a=0,i=0,o=0,s=e.length;if(0===s)return 0;for(r=0;r<s;++r){var c=e[r],d=t/c.mass;c.velocity.x+=d*c.force.x,c.velocity.y+=d*c.force.y;var u=c.velocity.x,f=c.velocity.y,l=Math.sqrt(u*u+f*f);l>1&&(c.velocity.x=u/l,c.velocity.y=f/l),n=t*c.velocity.x,i=t*c.velocity.y,c.pos.x+=n,c.pos.y+=i,a+=Math.abs(n),o+=Math.abs(i)}return(a*a+o*o)/s}function Fl(){return zl||(zl=!0,Bl={},Bl=jl),Bl}var Ul,Gl=!1;function Hl(e,t){this.pos=new Vl(e,t),this.prevPos=new Vl(e,t),this.force=new Vl,this.velocity=new Vl,this.mass=1}function Vl(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function Wl(e,t,r){this.pos=new ql(e,t,r),this.prevPos=new ql(e,t,r),this.force=new ql,this.velocity=new ql,this.mass=1}function ql(e,t,r){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof r?r:0)}function Xl(){return Gl||(Gl=!0,Ul={},Ul={Body:Hl,Vector2d:Vl,Body3d:Wl,Vector3d:ql},Hl.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},Vl.prototype.reset=function(){this.x=this.y=0},Wl.prototype.setPosition=function(e,t,r){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=r},ql.prototype.reset=function(){this.x=this.y=this.z=0}),Ul}var Yl,Zl,Jl=!1;function Ql(){return Jl||(Jl=!0,Yl={},Zl=Xl(),Yl=function(e){return new Zl.Body(e)}),Yl}var Kl,$l=!1;function eh(e){var t=Wf(),r=Jf(),n=el(),a=Df(),i=(e=n(e,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20})).createQuadTree||Al(),o=e.createBounds||Pl(),s=e.createDragForce||Ol(),c=e.createSpringForce||Nl(),d=e.integrator||Fl(),u=e.createBody||Ql(),f=[],l=[],h=i(e),p=o(f,e),b=c(e),g=s(e),m=!0,v={bodies:f,quadTree:h,springs:l,settings:e,step:function(){!function(){var e,t=f.length;if(t)for(h.insertBodies(f);t--;)(e=f[t]).isPinned||(e.force.reset(),h.updateBodyForce(e),g.update(e));t=l.length;for(;t--;)b.update(l[t])}();var t=d(f,e.timeStep);return p.update(),t},addBody:function(e){if(!e)throw new Error("Body is required");return f.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=u(e);return f.push(t),t},removeBody:function(e){if(e){var t=f.indexOf(e);if(!(t<0))return f.splice(t,1),0===f.length&&p.reset(),!0}},addSpring:function(e,r,n,a){if(!e||!r)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var i=new t(e,r,n,a>=0?a:-1);return l.push(i),i},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=l.indexOf(e);return t>-1?(l.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return p.getBestNewPosition(e)},getBBox:function(){return m&&(p.update(),m=!1),p.box},invalidateBBox:function(){m=!0},gravity:function(t){return void 0!==t?(e.gravity=t,h.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,h.options({theta:t}),this):e.theta}};return r(e,v),a(v),v}function th(){return $l||($l=!0,Kl={},Kl=eh),Kl}var rh=th();Uf.simulator=rh;var nh=Df();function ah(){}function ih(e,t){let r;if(void 0===t)for(const t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}var oh,sh=!1;function ch(){return sh||(sh=!0,oh={},oh=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0}),oh}var dh,uh=!1;function fh(){this.stack=[],this.popIdx=0}function lh(e,t){this.node=e,this.body=t}function hh(){return uh||(uh=!0,dh={},dh=fh,fh.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var r=this.stack[this.popIdx];r?(r.node=e,r.body=t):this.stack[this.popIdx]=new lh(e,t),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}),dh}var ph,bh=!1;function gh(){return bh||(bh=!0,ph={},ph=function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),a=Math.abs(e.z-t.z);return r<1e-8&&n<1e-8&&a<1e-8}),ph}var mh,vh=!1;function yh(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:4===t?e.quad4:5===t?e.quad5:6===t?e.quad6:7===t?e.quad7:null}function xh(e,t,r){0===t?e.quad0=r:1===t?e.quad1=r:2===t?e.quad2=r:3===t?e.quad3=r:4===t?e.quad4=r:5===t?e.quad5=r:6===t?e.quad6=r:7===t&&(e.quad7=r)}function wh(){return vh||(vh=!0,mh={},mh=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var t=fl().random(1984),r=ch(),n=hh(),a=gh(),i=e.gravity,o=[],s=new n,c=e.theta,d=[],u=0,f=function(){var e=d[u];return e?(e.quad0=null,e.quad4=null,e.quad1=null,e.quad5=null,e.quad2=null,e.quad6=null,e.quad3=null,e.quad7=null,e.body=null,e.mass=e.massX=e.massY=e.massZ=0,e.left=e.right=e.top=e.bottom=e.front=e.back=0):(e=new r,d[u]=e),++u,e},l=f(),h=function(e){for(s.reset(),s.push(l,e);!s.isEmpty();){var r=s.pop(),n=r.node,i=r.body;if(n.body){var o=n.body;if(n.body=null,a(o.pos,i.pos)){var c=3;do{var d=t.nextDouble(),u=(n.right-n.left)*d,h=(n.bottom-n.top)*d,p=(n.front-n.back)*d;o.pos.x=n.left+u,o.pos.y=n.top+h,o.pos.z=n.back+p,c-=1}while(c>0&&a(o.pos,i.pos));if(0===c&&a(o.pos,i.pos))return}s.push(n,o),s.push(n,i)}else{var b=i.pos.x,g=i.pos.y,m=i.pos.z;n.mass+=i.mass,n.massX+=i.mass*b,n.massY+=i.mass*g,n.massZ+=i.mass*m;var v=0,y=n.left,x=(n.right+y)/2,w=n.top,_=(n.bottom+w)/2,M=n.back,S=(n.front+M)/2;if(b>x){v+=1;var T=y;y=x,x+=x-T}if(g>_){v+=2;var E=w;w=_,_+=_-E}if(m>S){v+=4;var A=M;S=(M=S)+(M-A)}var C=yh(n,v);C?s.push(C,i):((C=f()).left=y,C.top=w,C.right=x,C.bottom=_,C.back=M,C.front=S,C.body=i,xh(n,v,C))}}};return{insertBodies:function(e){var t,r=Number.MAX_VALUE,n=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE,c=e.length;for(t=c;t--;){var d=e[t].pos,p=d.x,b=d.y,g=d.z;p<r&&(r=p),p>i&&(i=p),b<n&&(n=b),b>o&&(o=b),g<a&&(a=g),g>s&&(s=g)}var m=Math.max(i-r,Math.max(o-n,s-a));for(i=r+m,o=n+m,s=a+m,u=0,(l=f()).left=r,l.right=i,l.top=n,l.bottom=o,l.back=a,l.front=s,(t=c-1)>0&&(l.body=e[t]);t--;)h(e[t])},updateBodyForce:function(e){var r,n,a,s,d,u=o,f=0,h=0,p=0,b=1,g=0,m=1;for(u[0]=l;b;){var v=u[g],y=v.body;b-=1,g+=1;var x=y!==e;y&&x?(n=y.pos.x-e.pos.x,a=y.pos.y-e.pos.y,s=y.pos.z-e.pos.z,0===(d=Math.sqrt(n*n+a*a+s*s))&&(n=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,s=(t.nextDouble()-.5)/50,d=Math.sqrt(n*n+a*a+s*s)),f+=(r=i*y.mass*e.mass/(d*d*d))*n,h+=r*a,p+=r*s):x&&(n=v.massX/v.mass-e.pos.x,a=v.massY/v.mass-e.pos.y,s=v.massZ/v.mass-e.pos.z,0===(d=Math.sqrt(n*n+a*a+s*s))&&(n=(t.nextDouble()-.5)/50,a=(t.nextDouble()-.5)/50,s=(t.nextDouble()-.5)/50,d=Math.sqrt(n*n+a*a+s*s)),(v.right-v.left)/d<c?(f+=(r=i*v.mass*e.mass/(d*d*d))*n,h+=r*a,p+=r*s):(v.quad0&&(u[m]=v.quad0,b+=1,m+=1),v.quad1&&(u[m]=v.quad1,b+=1,m+=1),v.quad2&&(u[m]=v.quad2,b+=1,m+=1),v.quad3&&(u[m]=v.quad3,b+=1,m+=1),v.quad4&&(u[m]=v.quad4,b+=1,m+=1),v.quad5&&(u[m]=v.quad5,b+=1,m+=1),v.quad6&&(u[m]=v.quad6,b+=1,m+=1),v.quad7&&(u[m]=v.quad7,b+=1,m+=1)))}e.force.x+=f,e.force.y+=h,e.force.z+=p},options:function(e){return e?("number"==typeof e.gravity&&(i=e.gravity),"number"==typeof e.theta&&(c=e.theta),this):{gravity:i,theta:c}}}}),mh}var _h,Mh=!1;function Sh(){return Mh||(Mh=!0,_h={},_h=function(e,t){var r=fl().random(42),n={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:n,update:function(){var t=e.length;if(0!==t){for(var r=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE,c=Number.MIN_VALUE;t--;){var d=e[t];d.isPinned?(d.pos.x=d.prevPos.x,d.pos.y=d.prevPos.y,d.pos.z=d.prevPos.z):(d.prevPos.x=d.pos.x,d.prevPos.y=d.pos.y,d.prevPos.z=d.pos.z),d.pos.x<r&&(r=d.pos.x),d.pos.x>o&&(o=d.pos.x),d.pos.y<a&&(a=d.pos.y),d.pos.y>s&&(s=d.pos.y),d.pos.z<i&&(i=d.pos.z),d.pos.z>c&&(c=d.pos.z)}n.x1=r,n.x2=o,n.y1=a,n.y2=s,n.z1=i,n.z2=c}},reset:function(){n.x1=n.y1=0,n.x2=n.y2=0,n.z1=n.z2=0},getBestNewPosition:function(e){var a=n,i=0,o=0,s=0;if(e.length){for(var c=0;c<e.length;++c)i+=e[c].pos.x,o+=e[c].pos.y,s+=e[c].pos.z;i/=e.length,o/=e.length,s/=e.length}else i=(a.x1+a.x2)/2,o=(a.y1+a.y2)/2,s=(a.z1+a.z2)/2;var d=t.springLength;return{x:i+r.next(d)-d/2,y:o+r.next(d)-d/2,z:s+r.next(d)-d/2}}}}),_h}var Th,Eh=!1;function Ah(){return Eh||(Eh=!0,Th={},Th=function(e){var t=el(),r={update:function(t){t.force.x-=e.dragCoeff*t.velocity.x,t.force.y-=e.dragCoeff*t.velocity.y,t.force.z-=e.dragCoeff*t.velocity.z}};return Jf()(e=t(e,{dragCoeff:.02}),r,["dragCoeff"]),r}),Th}var Ch,Lh=!1;function Ph(){return Lh||(Lh=!0,Ch={},Ch=function(e){var t=el(),r=fl().random(42),n={update:function(t){var n=t.from,a=t.to,i=t.length<0?e.springLength:t.length,o=a.pos.x-n.pos.x,s=a.pos.y-n.pos.y,c=a.pos.z-n.pos.z,d=Math.sqrt(o*o+s*s+c*c);0===d&&(o=(r.nextDouble()-.5)/50,s=(r.nextDouble()-.5)/50,c=(r.nextDouble()-.5)/50,d=Math.sqrt(o*o+s*s+c*c));var u=d-i,f=(!t.coeff||t.coeff<0?e.springCoeff:t.coeff)*u/d*t.weight;n.force.x+=f*o,n.force.y+=f*s,n.force.z+=f*c,a.force.x-=f*o,a.force.y-=f*s,a.force.z-=f*c}};return Jf()(e=t(e,{springCoeff:2e-4,springLength:80}),n,["springCoeff","springLength"]),n}),Ch}var Rh,kh,Oh=!1;function Dh(){return Oh||(Oh=!0,Rh={},kh=Xl(),Rh=function(e){return new kh.Body3d(e)}),Rh}var Ih,Nh=!1;function Bh(e,t){var r,n=0,a=0,i=0,o=e.length;for(r=0;r<o;++r){var s=e[r],c=t*t/s.mass;s.pos.x=2*s.pos.x-s.prevPos.x+s.force.x*c,s.pos.y=2*s.pos.y-s.prevPos.y+s.force.y*c,s.pos.z=2*s.pos.z-s.prevPos.z+s.force.z*c,n+=Math.abs(s.pos.x-s.prevPos.x),a+=Math.abs(s.pos.y-s.prevPos.y),i+=Math.abs(s.pos.z-s.prevPos.z)}return(n*n+a*a+i*i)/e.length}function zh(){return Nh||(Nh=!0,Ih={},Ih=Bh),Ih}var jh,Fh=!1;function Uh(e,t){var r,n=0,a=0,i=0,o=0,s=0,c=0,d=e.length;for(r=0;r<d;++r){var u=e[r],f=t/u.mass;u.velocity.x+=f*u.force.x,u.velocity.y+=f*u.force.y,u.velocity.z+=f*u.force.z;var l=u.velocity.x,h=u.velocity.y,p=u.velocity.z,b=Math.sqrt(l*l+h*h+p*p);b>1&&(u.velocity.x=l/b,u.velocity.y=h/b,u.velocity.z=p/b),n=t*u.velocity.x,i=t*u.velocity.y,s=t*u.velocity.z,u.pos.x+=n,u.pos.y+=i,u.pos.z+=s,a+=Math.abs(n),o+=Math.abs(i),c+=Math.abs(s)}return(a*a+o*o+c*c)/e.length}function Gh(){return Fh||(Fh=!0,jh={},jh=Uh),jh}var Hh;function Vh(e,t){return t=el()(t,{createQuadTree:wh(),createBounds:Sh(),createDragForce:Ah(),createSpringForce:Ph(),integrator:Wh(t),createBody:Dh()}),Vh.get2dLayout(e,t)}function Wh(e){return e&&"verlet"===e.integrator?zh():Gh()}Hh=Vh,Vh.get2dLayout=Uf;function qh(e,t,r){var n,a,i,o,s;function c(){var d=Date.now()-o;d<t&&d>=0?n=setTimeout(c,t-d):(n=null,r||(s=e.apply(i,a),i=a=null))}null==t&&(t=100);var d=function(){i=this,a=arguments,o=Date.now();var d=r&&!n;return n||(n=setTimeout(c,t)),d&&(s=e.apply(i,a),i=a=null),s};return d.clear=function(){n&&(clearTimeout(n),n=null)},d.flush=function(){n&&(s=e.apply(i,a),i=a=null,clearTimeout(n),n=null)},d}function Xh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}qh.debounce=qh;var Yh=function e(t,r){var n=r.default,a=void 0===n?null:n,i=r.triggerUpdate,o=void 0===i||i,s=r.onChange,c=void 0===s?function(e,t){}:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=a,this.triggerUpdate=o,this.onChange=c},Zh=n(qh);function Jh(e){var t=e.stateInit,r=void 0===t?function(){return{}}:t,n=e.props,a=void 0===n?{}:n,i=e.methods,o=void 0===i?{}:i,s=e.aliases,c=void 0===s?{}:s,d=e.init,u=void 0===d?function(){}:d,f=e.update,l=void 0===f?function(){}:f,h=Object.keys(a).map((function(e){return new Yh(e,a[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},r instanceof Function?r(e):r,{initialised:!1}),n={};function a(t){return i(t,e),s(),a}var i=function(e,r){u.call(a,e,t,r),t.initialised=!0},s=Zh((function(){t.initialised&&(l.call(a,t,n),n={})}),1);return h.forEach((function(e){a[e.name]=function(e){var r=e.name,i=e.triggerUpdate,o=void 0!==i&&i,c=e.onChange,d=void 0===c?function(e,t){}:c,u=e.defaultVal,f=void 0===u?null:u;return function(e){var i=t[r];if(!arguments.length)return i;var c=void 0===e?f:e;return t[r]=c,d.call(a,c,t,i),!n.hasOwnProperty(r)&&(n[r]=i),o&&s(),a}}(e)})),Object.keys(o).forEach((function(e){a[e]=function(){for(var r,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(r=o[e]).call.apply(r,[a,t].concat(i))}})),Object.entries(c).forEach((function(e){var t=Xh(e,2),r=t[0],n=t[1];return a[r]=a[n]})),a.resetProps=function(){return h.forEach((function(e){a[e.name](e.defaultVal)})),a},a.resetProps(),t._rerender=s,a}}var Qh=function(e){return e instanceof Function?e:"string"==typeof e?function(t){return t[e]}:function(t){return e}};function Kh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const $h=Symbol("implicit");function ep(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function rp(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function np(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var ap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),i=e.reduce((function(e,t){var n=e,i=t;return a.forEach((function(e,t){var o,s=e.keyAccessor;if(e.isProp){var c=i,d=c[s],u=ep(c,[s].map(np));o=d,i=u}else o=s(i,t);t+1<a.length?(n.hasOwnProperty(o)||(n[o]={}),n=n[o]):r?(n.hasOwnProperty(o)||(n[o]=[]),n[o].push(i)):n[o]=i})),e}),{});r instanceof Function&&function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n===a.length?Object.keys(t).forEach((function(e){return t[e]=r(t[e])})):Object.values(t).forEach((function(t){return e(t,n+1)}))}(i);var o=i;return n&&(o=[],function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r.length===a.length?o.push({keys:r,vals:t}):Object.entries(t).forEach((function(t){var n=tp(t,2),a=n[0],i=n[1];return e(i,[].concat(rp(r),[a]))}))}(i),t instanceof Array&&0===t.length&&1===o.length&&(o[0].keys=[])),o};function ip(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function op(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sp(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dp(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function up(e,t,r){var n=r.objBindAttr,a=void 0===n?"__obj":n,i=r.dataBindAttr,o=void 0===i?"__data":i,s=r.idAccessor,c=r.purge,d=void 0!==c&&c,u=function(e){return e.hasOwnProperty(o)},f=t.filter((function(e){return!u(e)})),l=t.filter(u).map((function(e){return e[o]})),h=d?{enter:e,exit:l,update:[]}:function(e,t,r){var n={enter:[],update:[],exit:[]};if(r){var a=ap(e,r,!1),i=ap(t,r,!1),o=Object.assign({},a,i);Object.entries(o).forEach((function(e){var t=cp(e,2),r=t[0],o=t[1],s=a.hasOwnProperty(r)?i.hasOwnProperty(r)?"update":"exit":"enter";n[s].push("update"===s?[a[r],i[r]]:o)}))}else{var s=new Set(e),c=new Set(t);new Set([].concat(dp(s),dp(c))).forEach((function(e){var t=s.has(e)?c.has(e)?"update":"exit":"enter";n[t].push("update"===t?[e,e]:e)}))}return n}(l,e,s);return h.update=h.update.map((function(e){var t=cp(e,2),r=t[0],n=t[1];return r!==n&&(n[a]=r[a],n[a][o]=n),n})),h.exit=h.exit.concat(f.map((function(e){return ip({},a,e)}))),h}function fp(e,t,r,n,a){var i=a.createObj,o=void 0===i?function(e){return{}}:i,s=a.updateObj,c=void 0===s?function(e,t){}:s,d=a.exitObj,u=void 0===d?function(e){}:d,f=a.objBindAttr,l=void 0===f?"__obj":f,h=a.dataBindAttr,p=void 0===h?"__data":h,b=sp(a,["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"]),g=up(e,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?op(Object(r),!0).forEach((function(t){ip(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):op(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objBindAttr:l,dataBindAttr:p},b)),m=g.enter,v=g.update;g.exit.forEach((function(e){var t=e[l];delete e[l],u(t),n(t)}));var y=function(e){var t=[];return e.forEach((function(e){var r=o(e);r&&(r[p]=e,e[l]=r,t.push(r))})),t}(m);!function(e){e.forEach((function(e){var t=e[l];t&&(t[p]=e,c(t,e))}))}([].concat(dp(m),dp(v))),y.forEach(r)}var lp=function(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),hp={};function pp(e){return(pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mp(Object(r),!0).forEach((function(t){gp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wp(e,t)}function xp(e){return(xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wp(e,t){return(wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Mp(e,t,r){return(Mp=_p()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&wp(a,r.prototype),a}).apply(null,arguments)}function Sp(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ep(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Tp(e):t}function Ap(e){var t=_p();return function(){var r,n=xp(e);if(t){var a=xp(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Ep(this,r)}}function Cp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||Pp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e){return function(e){if(Array.isArray(e))return Rp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Pp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pp(e,t){if(e){if("string"==typeof e)return Rp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rp(e,t):void 0}}function Rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){var t=/^\s+/,r=/\s+$/,n=0,a=e.round,i=e.min,o=e.max,s=e.random;function c(s,d){if(d=d||{},(s=s||"")instanceof c)return s;if(!(this instanceof c))return new c(s,d);var u=function(n){var a={r:0,g:0,b:0},s=1,c=null,d=null,u=null,f=!1,l=!1;"string"==typeof n&&(n=function(e){e=e.replace(t,"").replace(r,"").toLowerCase();var n,a=!1;if(E[e])e=E[e],a=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(n=j.rgb.exec(e))return{r:n[1],g:n[2],b:n[3]};if(n=j.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=j.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=j.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=j.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=j.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=j.hex8.exec(e))return{r:R(n[1]),g:R(n[2]),b:R(n[3]),a:I(n[4]),format:a?"name":"hex8"};if(n=j.hex6.exec(e))return{r:R(n[1]),g:R(n[2]),b:R(n[3]),format:a?"name":"hex"};if(n=j.hex4.exec(e))return{r:R(n[1]+""+n[1]),g:R(n[2]+""+n[2]),b:R(n[3]+""+n[3]),a:I(n[4]+""+n[4]),format:a?"name":"hex8"};if(n=j.hex3.exec(e))return{r:R(n[1]+""+n[1]),g:R(n[2]+""+n[2]),b:R(n[3]+""+n[3]),format:a?"name":"hex"};return!1}(n));"object"==typeof n&&(F(n.r)&&F(n.g)&&F(n.b)?(h=n.r,p=n.g,b=n.b,a={r:255*L(h,255),g:255*L(p,255),b:255*L(b,255)},f=!0,l="%"===String(n.r).substr(-1)?"prgb":"rgb"):F(n.h)&&F(n.s)&&F(n.v)?(c=O(n.s),d=O(n.v),a=function(t,r,n){t=6*L(t,360),r=L(r,100),n=L(n,100);var a=e.floor(t),i=t-a,o=n*(1-r),s=n*(1-i*r),c=n*(1-(1-i)*r),d=a%6;return{r:255*[n,s,o,o,c,n][d],g:255*[c,n,n,s,o,o][d],b:255*[o,o,c,n,n,s][d]}}(n.h,c,d),f=!0,l="hsv"):F(n.h)&&F(n.s)&&F(n.l)&&(c=O(n.s),u=O(n.l),a=function(e,t,r){var n,a,i;function o(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=L(e,360),t=L(t,100),r=L(r,100),0===t)n=a=i=r;else{var s=r<.5?r*(1+t):r+t-r*t,c=2*r-s;n=o(c,s,e+1/3),a=o(c,s,e),i=o(c,s,e-1/3)}return{r:255*n,g:255*a,b:255*i}}(n.h,c,u),f=!0,l="hsl"),n.hasOwnProperty("a")&&(s=n.a));var h,p,b;return s=C(s),{ok:f,format:n.format||l,r:i(255,o(a.r,0)),g:i(255,o(a.g,0)),b:i(255,o(a.b,0)),a:s}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=a(100*this._a)/100,this._format=d.format||u.format,this._gradientType=d.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=u.ok,this._tc_id=n++}function d(e,t,r){e=L(e,255),t=L(t,255),r=L(r,255);var n,a,s=o(e,t,r),c=i(e,t,r),d=(s+c)/2;if(s==c)n=a=0;else{var u=s-c;switch(a=d>.5?u/(2-s-c):u/(s+c),s){case e:n=(t-r)/u+(t<r?6:0);break;case t:n=(r-e)/u+2;break;case r:n=(e-t)/u+4}n/=6}return{h:n,s:a,l:d}}function u(e,t,r){e=L(e,255),t=L(t,255),r=L(r,255);var n,a,s=o(e,t,r),c=i(e,t,r),d=s,u=s-c;if(a=0===s?0:u/s,s==c)n=0;else{switch(s){case e:n=(t-r)/u+(t<r?6:0);break;case t:n=(r-e)/u+2;break;case r:n=(e-t)/u+4}n/=6}return{h:n,s:a,v:d}}function f(e,t,r,n){var i=[k(a(e).toString(16)),k(a(t).toString(16)),k(a(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function l(e,t,r,n){return[k(D(n)),k(a(e).toString(16)),k(a(t).toString(16)),k(a(r).toString(16))].join("")}function h(e,t){t=0===t?0:t||10;var r=c(e).toHsl();return r.s-=t/100,r.s=P(r.s),c(r)}function p(e,t){t=0===t?0:t||10;var r=c(e).toHsl();return r.s+=t/100,r.s=P(r.s),c(r)}function b(e){return c(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var r=c(e).toHsl();return r.l+=t/100,r.l=P(r.l),c(r)}function m(e,t){t=0===t?0:t||10;var r=c(e).toRgb();return r.r=o(0,i(255,r.r-a(-t/100*255))),r.g=o(0,i(255,r.g-a(-t/100*255))),r.b=o(0,i(255,r.b-a(-t/100*255))),c(r)}function v(e,t){t=0===t?0:t||10;var r=c(e).toHsl();return r.l-=t/100,r.l=P(r.l),c(r)}function y(e,t){var r=c(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,c(r)}function x(e){var t=c(e).toHsl();return t.h=(t.h+180)%360,c(t)}function w(e){var t=c(e).toHsl(),r=t.h;return[c(e),c({h:(r+120)%360,s:t.s,l:t.l}),c({h:(r+240)%360,s:t.s,l:t.l})]}function _(e){var t=c(e).toHsl(),r=t.h;return[c(e),c({h:(r+90)%360,s:t.s,l:t.l}),c({h:(r+180)%360,s:t.s,l:t.l}),c({h:(r+270)%360,s:t.s,l:t.l})]}function M(e){var t=c(e).toHsl(),r=t.h;return[c(e),c({h:(r+72)%360,s:t.s,l:t.l}),c({h:(r+216)%360,s:t.s,l:t.l})]}function S(e,t,r){t=t||6,r=r||30;var n=c(e).toHsl(),a=360/r,i=[c(e)];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,i.push(c(n));return i}function T(e,t){t=t||6;for(var r=c(e).toHsv(),n=r.h,a=r.s,i=r.v,o=[],s=1/t;t--;)o.push(c({h:n,s:a,v:i})),i=(i+s)%1;return o}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,r,n,a=this.toRgb();return t=a.r/255,r=a.g/255,n=a.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=C(e),this._roundA=a(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=a(360*e.h),r=a(100*e.s),n=a(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=a(360*e.h),r=a(100*e.s),n=a(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var o=[k(a(e).toString(16)),k(a(t).toString(16)),k(a(r).toString(16)),k(D(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*L(this._r,255))+"%",g:a(100*L(this._g,255))+"%",b:a(100*L(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*L(this._r,255))+"%, "+a(100*L(this._g,255))+"%, "+a(100*L(this._b,255))+"%)":"rgba("+a(100*L(this._r,255))+"%, "+a(100*L(this._g,255))+"%, "+a(100*L(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+l(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=c(e);r="#"+l(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(_,arguments)}},c.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:O(e[n]));e=r}return c(e,t)},c.equals=function(e,t){return!(!e||!t)&&c(e).toRgbString()==c(t).toRgbString()},c.random=function(){return c.fromRatio({r:s(),g:s(),b:s()})},c.mix=function(e,t,r){r=0===r?0:r||50;var n=c(e).toRgb(),a=c(t).toRgb(),i=r/100;return c({r:(a.r-n.r)*i+n.r,g:(a.g-n.g)*i+n.g,b:(a.b-n.b)*i+n.b,a:(a.a-n.a)*i+n.a})},c.readability=function(t,r){var n=c(t),a=c(r);return(e.max(n.getLuminance(),a.getLuminance())+.05)/(e.min(n.getLuminance(),a.getLuminance())+.05)},c.isReadable=function(e,t,r){var n,a,i=c.readability(e,t);switch(a=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7}return a},c.mostReadable=function(e,t,r){var n,a,i,o,s=null,d=0;a=(r=r||{}).includeFallbackColors,i=r.level,o=r.size;for(var u=0;u<t.length;u++)(n=c.readability(e,t[u]))>d&&(d=n,s=c(t[u]));return c.isReadable(e,s,{level:i,size:o})||!a?s:(r.includeFallbackColors=!1,c.mostReadable(e,["#fff","#000"],r))};var E=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=c.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(E);function C(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function L(t,r){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(t)&&(t="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(t);return t=i(r,o(0,parseFloat(t))),n&&(t=parseInt(t*r,10)/100),e.abs(t-r)<1e-6?1:t%r/parseFloat(r)}function P(e){return i(1,o(0,e))}function R(e){return parseInt(e,16)}function k(e){return 1==e.length?"0"+e:""+e}function O(e){return e<=1&&(e=100*e+"%"),e}function D(t){return e.round(255*parseFloat(t)).toString(16)}function I(e){return R(e)/255}var N,B,z,j=(B="[\\s|\\(]+("+(N="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",z="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function F(e){return!!j.CSS_UNIT.exec(e)}hp?hp=c:window.tinycolor=c}(Math);var kp=function e(t){t.geometry&&t.geometry.dispose(),t.material&&function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())}(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},Op=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),kp(t)}};function Dp(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.objFilter,a=void 0===n?function(){return!0}:n,i=Sp(r,["objFilter"]);return fp(e,t.children.filter(a),(function(e){return t.add(e)}),(function(e){t.remove(e),Op(e)}),vp({objBindAttr:"__threeObj"},i))}var Ip=n(hp),Np=function(e){return isNaN(e)?parseInt(Ip(e).toHex(),16):e},Bp=function(e){return isNaN(e)?Ip(e).getAlpha():1},zp=function e(){var t=new Map,r=[],n=[],a=$h;function i(e){var i=e+"",o=t.get(i);if(!o){if(a!==$h)return a;t.set(i,o=r.push(e))}return n[(o-1)%n.length]}return i.domain=function(e){if(!arguments.length)return r.slice();r=[],t=new Map;for(const n of e){const e=n+"";t.has(e)||t.set(e,r.push(n))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(a=e,i):a},i.copy=function(){return e(r,n).unknown(a)},Kh.apply(i,arguments),i}(lp);function jp(e,t,r){t&&"string"==typeof r&&e.filter((function(e){return!e[r]})).forEach((function(e){e[r]=zp(t(e))}))}var Fp=window.THREE?window.THREE:{Group:ya,Mesh:Xt,MeshLambertMaterial:Qo,Color:et,BufferGeometry:Lt,BufferAttribute:ut,Matrix4:W,Vector3:B,SphereBufferGeometry:Co,CylinderBufferGeometry:zo,TubeBufferGeometry:Ui,ConeBufferGeometry:Fo,Line:fi,LineBasicMaterial:ii,QuadraticBezierCurve3:Ws,CubicBezierCurve3:Us,Box3:Se},Up={graph:n(Ef),forcelayout:n(Uf),forcelayout3d:n(Hh)},Gp=(new Fp.BufferGeometry).setAttribute?"setAttribute":"addAttribute",Hp=(new Fp.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix";var Vp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(t){yp(a,t);var n=Ap(a);function a(){var t;bp(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=n.call.apply(n,[this].concat(o))).__kapsuleInstance=e().apply(void 0,[].concat(Lp(r?[Tp(t)]:[]),o)),t}return a}(t);return Object.keys(e()).forEach((function(e){return n.prototype[e]=function(){var t,r=(t=this.__kapsuleInstance)[e].apply(t,arguments);return r===this.__kapsuleInstance?this:r}})),n}(Jh({props:{jsonUrl:{onChange:function(e,t){var r=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then((function(e){return e.json()})).then((function(e){t.fetchingJson=!1,t.onFinishLoading(e),r.graphData(e)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){(e.nodes.length||e.links.length)&&console.info("force-graph loading",e.nodes.length+" nodes",e.links.length+" links"),t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var r=t.d3ForceLayout.force("charge");function n(e,t){e.forEach((function(e){delete e[t],delete e["v".concat(t)]}))}r&&r.strength(e>2?-60:-30),e<3&&n(t.graphData.nodes,"z"),e<2&&n(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=e.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,r){return void 0===r?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,r),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t,r,n,a,i="ngraph"!==e.forceEngine;return e.engineRunning&&function(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||i&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[i?"tick":"step"](),e.onEngineTick());e.graphData.nodes.forEach((function(t){var r=t.__threeObj;if(r){var n=i?t:e.layout.getNodePosition(t[e.nodeId]);r.position.x=n.x,r.position.y=n.y||0,r.position.z=n.z||0}}));var t=Qh(e.linkWidth),r=Qh(e.linkCurvature),n=Qh(e.linkCurveRotation),a=Qh(e.linkThreeObjectExtend);e.graphData.links.forEach((function(o){var s=o.__lineObj;if(s){var c=i?o:e.layout.getLinkPosition(e.layout.graph.getLink(o.source,o.target).id),d=c[i?"source":"from"],u=c[i?"target":"to"];if(d&&u&&d.hasOwnProperty("x")&&u.hasOwnProperty("x")){!function(t){var a=i?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),o=a[i?"source":"from"],s=a[i?"target":"to"];if(o&&s&&o.hasOwnProperty("x")&&s.hasOwnProperty("x")){var c=r(t);if(c){var d,u=new Fp.Vector3(o.x,o.y||0,o.z||0),f=new Fp.Vector3(s.x,s.y||0,s.z||0),l=u.distanceTo(f),h=n(t);if(l>0){var p=s.x-o.x,b=s.y-o.y||0,g=(new Fp.Vector3).subVectors(f,u),m=g.clone().multiplyScalar(c).cross(0!==p||0!==b?new Fp.Vector3(0,0,1):new Fp.Vector3(0,1,0)).applyAxisAngle(g.normalize(),h).add((new Fp.Vector3).addVectors(u,f).divideScalar(2));d=new Fp.QuadraticBezierCurve3(u,m,f)}else{var v=70*c,y=-h,x=y+Math.PI/2;d=new Fp.CubicBezierCurve3(u,new Fp.Vector3(v*Math.cos(x),v*Math.sin(x),0).add(u),new Fp.Vector3(v*Math.cos(y),v*Math.sin(y),0).add(u),f)}t.__curve=d}else t.__curve=null}}(o);var f=a(o);if(!e.linkPositionUpdate||!e.linkPositionUpdate(f?s.children[1]:s,{start:{x:d.x,y:d.y,z:d.z},end:{x:u.x,y:u.y,z:u.z}},o)||f){var l=o.__curve,h=s.children.length?s.children[0]:s;if("Line"===h.type){if(l)h.geometry.setFromPoints(l.getPoints(30));else{var p=h.geometry.getAttribute("position");p&&p.array&&6===p.array.length||h.geometry[Gp]("position",p=new Fp.BufferAttribute(new Float32Array(6),3)),p.array[0]=d.x,p.array[1]=d.y||0,p.array[2]=d.z||0,p.array[3]=u.x,p.array[4]=u.y||0,p.array[5]=u.z||0,p.needsUpdate=!0}h.geometry.computeBoundingSphere()}else if("Mesh"===h.type)if(l){"TubeBufferGeometry"!==h.geometry.type&&(h.position.set(0,0,0),h.rotation.set(0,0,0),h.scale.set(1,1,1));var b=Math.ceil(10*t(o))/10/2,g=new Fp.TubeBufferGeometry(l,30,b,e.linkResolution,!1);h.geometry.dispose(),h.geometry=g}else{if("CylinderBufferGeometry"!==h.geometry.type){var m=Math.ceil(10*t(o))/10/2,v=new Fp.CylinderBufferGeometry(m,m,1,e.linkResolution,1,!1);v[Hp]((new Fp.Matrix4).makeTranslation(0,.5,0)),v[Hp]((new Fp.Matrix4).makeRotationX(Math.PI/2)),h.geometry.dispose(),h.geometry=v}var y=new Fp.Vector3(d.x,d.y||0,d.z||0),x=new Fp.Vector3(u.x,u.y||0,u.z||0),w=y.distanceTo(x);h.position.x=y.x,h.position.y=y.y,h.position.z=y.z,h.scale.z=w,h.parent.localToWorld(x),h.lookAt(x)}}}}}))}(),t=Qh(e.linkDirectionalArrowRelPos),r=Qh(e.linkDirectionalArrowLength),n=Qh(e.nodeVal),e.graphData.links.forEach((function(a){var o=a.__arrowObj;if(o){var s=i?a:e.layout.getLinkPosition(e.layout.graph.getLink(a.source,a.target).id),c=s[i?"source":"from"],d=s[i?"target":"to"];if(c&&d&&c.hasOwnProperty("x")&&d.hasOwnProperty("x")){var u=Math.sqrt(Math.max(0,n(c)||1))*e.nodeRelSize,f=Math.sqrt(Math.max(0,n(d)||1))*e.nodeRelSize,l=r(a),h=t(a),p=a.__curve?function(e){return a.__curve.getPoint(e)}:function(e){var t=function(e,t,r,n){return t[e]+(r[e]-t[e])*n||0};return{x:t("x",c,d,e),y:t("y",c,d,e),z:t("z",c,d,e)}},b=a.__curve?a.__curve.getLength():Math.sqrt(["x","y","z"].map((function(e){return Math.pow((d[e]||0)-(c[e]||0),2)})).reduce((function(e,t){return e+t}),0)),g=u+l+(b-u-f-l)*h,m=p(g/b),v=p((g-l)/b);["x","y","z"].forEach((function(e){return o.position[e]=v[e]}));var y=Mp(Fp.Vector3,Lp(["x","y","z"].map((function(e){return m[e]}))));o.parent.localToWorld(y),o.lookAt(y)}}})),a=Qh(e.linkDirectionalParticleSpeed),e.graphData.links.forEach((function(t){var r=t.__photonsObj&&t.__photonsObj.children,n=t.__singleHopPhotonsObj&&t.__singleHopPhotonsObj.children;if(n&&n.length||r&&r.length){var o=i?t:e.layout.getLinkPosition(e.layout.graph.getLink(t.source,t.target).id),s=o[i?"source":"from"],c=o[i?"target":"to"];if(s&&c&&s.hasOwnProperty("x")&&c.hasOwnProperty("x")){var d=a(t),u=t.__curve?function(e){return t.__curve.getPoint(e)}:function(e){var t=function(e,t,r,n){return t[e]+(r[e]-t[e])*n||0};return{x:t("x",s,c,e),y:t("y",s,c,e),z:t("z",s,c,e)}};[].concat(Lp(r||[]),Lp(n||[])).forEach((function(e,t){var n="singleHopPhotons"===e.parent.__linkThreeObjType;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=n?0:t/r.length),e.__progressRatio+=d,e.__progressRatio>=1){if(n)return e.parent.remove(e),void Op(e);e.__progressRatio=e.__progressRatio%1}var a=e.__progressRatio,i=u(a);["x","y","z"].forEach((function(t){return e.position[t]=i[t]}))}))}}})),this},emitParticle:function(e,t){if(t){if(!t.__singleHopPhotonsObj){var r=new Fp.Group;r.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=r,e.graphScene.add(r)}var n=Qh(e.linkDirectionalParticleWidth),a=Math.ceil(10*n(t))/10/2,i=e.linkDirectionalParticleResolution,o=new Fp.SphereBufferGeometry(a,i,i),s=Qh(e.linkColor),c=Qh(e.linkDirectionalParticleColor)(t)||s(t)||"#f0f0f0",d=new Fp.Color(Np(c)),u=3*e.linkOpacity,f=new Fp.MeshLambertMaterial({color:d,transparent:!0,opacity:u});t.__singleHopPhotonsObj.add(new Fp.Mesh(o,f))}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e.initialised)return null;var r=function e(r){var n=[];if(r.geometry){r.geometry.computeBoundingBox();var a=new Fp.Box3;a.copy(r.geometry.boundingBox).applyMatrix4(r.matrixWorld),n.push(a)}return n.concat.apply(n,Lp((r.children||[]).filter((function(e){return!e.hasOwnProperty("__graphObjType")||"node"===e.__graphObjType&&t(e.__data)})).map(e)))}(e.graphScene);return r.length?Object.assign.apply(Object,Lp(["x","y","z"].map((function(e){return gp({},e,[ih(r,(function(t){return t.min[e]})),_u(r,(function(t){return t.max[e]}))])})))):null}},stateInit:function(){return{d3ForceLayout:Lf().force("link",Ku()).force("charge",Pf()).force("center",Mu()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e},update:function(e,t){var r=function(e){return e.some((function(e){return t.hasOwnProperty(e)}))};if(e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&r(["nodeAutoColorBy","graphData","nodeColor"])&&jp(e.graphData.nodes,Qh(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&r(["linkAutoColorBy","graphData","linkColor"])&&jp(e.graphData.links,Qh(e.linkAutoColorBy),e.linkColor),e._flushObjects||r(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var n=Qh(e.nodeThreeObject),a=Qh(e.nodeThreeObjectExtend),i=Qh(e.nodeVal),o=Qh(e.nodeColor),s=Qh(e.nodeVisibility),c={},d={};Dp(e.graphData.nodes.filter(s),e.graphScene,{purge:e._flushObjects||r(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(e){return"node"===e.__graphObjType},createObj:function(t){var r,i=n(t),o=a(t);return i&&e.nodeThreeObject===i&&(i=i.clone()),i&&!o?r=i:((r=new Fp.Mesh).__graphDefaultObj=!0,i&&o&&r.add(i)),r.__graphObjType="node",r},updateObj:function(t,r){if(t.__graphDefaultObj){var n=i(r)||1,a=Math.cbrt(n)*e.nodeRelSize,s=e.nodeResolution;"SphereBufferGeometry"===t.geometry.type&&t.geometry.parameters.radius===a&&t.geometry.parameters.widthSegments===s||(c.hasOwnProperty(n)||(c[n]=new Fp.SphereBufferGeometry(a,s,s)),t.geometry.dispose(),t.geometry=c[n]);var u=o(r),f=new Fp.Color(Np(u||"#ffffaa")),l=e.nodeOpacity*Bp(u);"MeshLambertMaterial"===t.material.type&&t.material.color.equals(f)&&t.material.opacity===l||(d.hasOwnProperty(u)||(d[u]=new Fp.MeshLambertMaterial({color:f,transparent:!0,opacity:l})),t.material.dispose(),t.material=d[u])}}})}if(e._flushObjects||r(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var u=Qh(e.linkThreeObject),f=Qh(e.linkThreeObjectExtend),l=Qh(e.linkMaterial),h=Qh(e.linkVisibility),p=Qh(e.linkColor),b=Qh(e.linkWidth),g={},m={},v={},y=e.graphData.links.filter(h);if(Dp(y,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||r(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(e){return"link"===e.__graphObjType},createObj:function(t){var r,n,a=u(t),i=f(t);if(a&&e.linkThreeObject===a&&(a=a.clone()),!a||i)if(!!b(t))r=new Fp.Mesh;else{var o=new Fp.BufferGeometry;o[Gp]("position",new Fp.BufferAttribute(new Float32Array(6),3)),r=new Fp.Line(o)}return a?i?((n=new Fp.Group).__graphDefaultObj=!0,n.add(r),n.add(a)):n=a:(n=r).__graphDefaultObj=!0,n.renderOrder=10,n.__graphObjType="link",n},updateObj:function(t,r){if(t.__graphDefaultObj){var n=t.children.length?t.children[0]:t,a=Math.ceil(10*b(r))/10,i=!!a;if(i){var o=a/2,s=e.linkResolution;if("CylinderBufferGeometry"!==n.geometry.type||n.geometry.parameters.radiusTop!==o||n.geometry.parameters.radialSegments!==s){if(!g.hasOwnProperty(a)){var c=new Fp.CylinderBufferGeometry(o,o,1,s,1,!1);c[Hp]((new Fp.Matrix4).makeTranslation(0,.5,0)),c[Hp]((new Fp.Matrix4).makeRotationX(Math.PI/2)),g[a]=c}n.geometry.dispose(),n.geometry=g[a]}}var d=l(r);if(d)n.material=d;else{var u=p(r),f=new Fp.Color(Np(u||"#f0f0f0")),h=e.linkOpacity*Bp(u),y=i?"MeshLambertMaterial":"LineBasicMaterial";if(n.material.type!==y||!n.material.color.equals(f)||n.material.opacity!==h){var x=i?m:v;x.hasOwnProperty(u)||(x[u]=new Fp[y]({color:f,transparent:h<1,opacity:h,depthWrite:h>=1})),n.material.dispose(),n.material=x[u]}}}}}),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var x=Qh(e.linkDirectionalArrowLength),w=Qh(e.linkDirectionalArrowColor);Dp(y.filter(x),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(e){return"arrow"===e.__linkThreeObjType},createObj:function(){var e=new Fp.Mesh(void 0,new Fp.MeshLambertMaterial({transparent:!0}));return e.__linkThreeObjType="arrow",e},updateObj:function(t,r){var n=x(r),a=e.linkDirectionalArrowResolution;if("ConeBufferGeometry"!==t.geometry.type||t.geometry.parameters.height!==n||t.geometry.parameters.radialSegments!==a){var i=new Fp.ConeBufferGeometry(.25*n,n,a);i.translate(0,n/2,0),i.rotateX(Math.PI/2),t.geometry.dispose(),t.geometry=i}t.material.color=new Fp.Color(w(r)||p(r)||"#f0f0f0"),t.material.opacity=3*e.linkOpacity}})}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var _=Qh(e.linkDirectionalParticles),M=Qh(e.linkDirectionalParticleWidth),S=Qh(e.linkDirectionalParticleColor),T={},E={};Dp(y.filter(_),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(e){return"photons"===e.__linkThreeObjType},createObj:function(){var e=new Fp.Group;return e.__linkThreeObjType="photons",e},updateObj:function(t,r){var n,a=Math.round(Math.abs(_(r))),i=!!t.children.length&&t.children[0],o=Math.ceil(10*M(r))/10/2,s=e.linkDirectionalParticleResolution;i&&i.geometry.parameters.radius===o&&i.geometry.parameters.widthSegments===s?n=i.geometry:(E.hasOwnProperty(o)||(E[o]=new Fp.SphereBufferGeometry(o,s,s)),n=E[o],i&&i.geometry.dispose());var c,d=S(r)||p(r)||"#f0f0f0",u=new Fp.Color(Np(d)),f=3*e.linkOpacity;i&&i.material.color.equals(u)&&i.material.opacity===f?c=i.material:(T.hasOwnProperty(d)||(T[d]=new Fp.MeshLambertMaterial({color:u,transparent:!0,opacity:f})),c=T[d],i&&i.material.dispose()),Dp(Lp(new Array(a)).map((function(e,t){return{idx:t}})),t,{idAccessor:function(e){return e.idx},createObj:function(){return new Fp.Mesh(n,c)},updateObj:function(e){e.geometry=n,e.material=c}})}})}}if(e._flushObjects=!1,r(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]}));var A,C="ngraph"!==e.forceEngine;if(C){(A=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var L=e.d3ForceLayout.force("link");L&&L.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var P=e.dagMode&&function(e,t){var r=e.nodes,n=e.links,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.nodeFilter,o=void 0===i?function(){return!0}:i,s=a.onLoopError,c=void 0===s?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:s,d={};r.forEach((function(e){return d[t(e)]={data:e,out:[],depth:-1,skip:!o(e)}})),n.forEach((function(e){var r=e.source,n=e.target,a=c(r),i=c(n);if(!d.hasOwnProperty(a))throw"Missing source node with id: ".concat(a);if(!d.hasOwnProperty(i))throw"Missing target node with id: ".concat(i);var o=d[a],s=d[i];function c(e){return"object"===pp(e)?t(e):e}o.out.push(s)}));var u=[];l(Object.values(d));var f=Object.assign.apply(Object,[{}].concat(Lp(Object.entries(d).filter((function(e){return!Cp(e,2)[1].skip})).map((function(e){var t=Cp(e,2);return gp({},t[0],t[1].depth)})))));return f;function l(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=0,i=e.length;a<i;a++){var o=e[a];if(-1!==r.indexOf(o)){var s=function(){var e=[].concat(Lp(r.slice(r.indexOf(o))),[o]).map((function(e){return t(e.data)}));return u.some((function(t){return t.length===e.length&&t.every((function(t,r){return t===e[r]}))}))||(u.push(e),c(e)),"continue"}();if("continue"===s)continue}n>o.depth&&(o.depth=n,l(o.out,[].concat(Lp(r),[o]),n+(o.skip?0:1)))}}}(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),R=Math.max.apply(Math,Lp(Object.values(P||[]))),k=e.dagLevelDistance||e.graphData.nodes.length/(R||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var O=function(t,r){return function(n){return t?(P[n[e.nodeId]]-R/2)*k*(r?-1:1):void 0}},D=O(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),I=O(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),N=O(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=D(e),e.fy=I(e),e.fz=N(e)}))}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?function(e,t,r,n){var a,i,o,s,c=Yu(.1);function d(e){for(var c=0,d=a.length;c<d;++c){var u=a[c],f=u.x-t||1e-6,l=(u.y||0)-r||1e-6,h=(u.z||0)-n||1e-6,p=Math.sqrt(f*f+l*l+h*h),b=(s[c]-p)*o[c]*e/p;u.vx+=f*b,i>1&&(u.vy+=l*b),i>2&&(u.vz+=h*b)}}function u(){if(a){var t,r=a.length;for(o=new Array(r),s=new Array(r),t=0;t<r;++t)s[t]=+e(a[t],t,a),o[t]=isNaN(s[t])?0:+c(a[t],t,a)}}return"function"!=typeof e&&(e=Yu(+e)),null==t&&(t=0),null==r&&(r=0),null==n&&(n=0),d.initialize=function(e,t){a=e,i=t,u()},d.strength=function(e){return arguments.length?(c="function"==typeof e?e:Yu(+e),u(),d):c},d.radius=function(t){return arguments.length?(e="function"==typeof t?t:Yu(+t),u(),d):e},d.x=function(e){return arguments.length?(t=+e,d):t},d.y=function(e){return arguments.length?(r=+e,d):r},d.z=function(e){return arguments.length?(n=+e,d):n},d}((function(t){var r=P[t[e.nodeId]]||-1;return("radialin"===e.dagMode?R-r:r)*k})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null)}else{var B=Up.graph();e.graphData.nodes.forEach((function(t){B.addNode(t[e.nodeId])})),e.graphData.links.forEach((function(e){B.addLink(e.source,e.target)})),(A=Up["forcelayout"+(2===e.numDimensions?"":"3d")](B,e.ngraphPhysics||void 0)).graph=B}for(var z=0;z<e.warmupTicks&&!(C&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);z++)A[C?"tick":"step"]();e.layout=A,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}}),(window.THREE?window.THREE:{Group:ya}).Group,!0),Wp=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var r=this,n=-1,a=0,i=1,o=2,s=3,c=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:x.ROTATE,MIDDLE:x.ZOOM,RIGHT:x.PAN},this.target=new B;var d=new B,u=1,f=n,l=n,h=new B,p=new T,b=new T,g=new B,m=0,v=new T,y=new T,w=0,_=0,M=new T,S=new T;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var E={type:"change"},A={type:"start"},C={type:"end"};this.handleResize=function(){var e=r.domElement.getBoundingClientRect(),t=r.domElement.ownerDocument.documentElement;r.screen.left=e.left+window.pageXOffset-t.clientLeft,r.screen.top=e.top+window.pageYOffset-t.clientTop,r.screen.width=e.width,r.screen.height=e.height};var L,P,R,k,O,I,N,z,j,F,U,G=(L=new T,function(e,t){return L.set((e-r.screen.left)/r.screen.width,(t-r.screen.top)/r.screen.height),L}),H=function(){var e=new T;return function(t,n){return e.set((t-.5*r.screen.width-r.screen.left)/(.5*r.screen.width),(r.screen.height+2*(r.screen.top-n))/r.screen.width),e}}();function V(e){!1!==r.enabled&&(window.removeEventListener("keydown",V),l===n&&(e.keyCode!==r.keys[a]||r.noRotate?e.keyCode!==r.keys[i]||r.noZoom?e.keyCode!==r.keys[o]||r.noPan||(l=o):l=i:l=a))}function W(){!1!==r.enabled&&(l=n,window.addEventListener("keydown",V,!1))}function q(e){if(!1!==r.enabled){if(e.preventDefault(),e.stopPropagation(),f===n)switch(e.button){case r.mouseButtons.LEFT:f=a;break;case r.mouseButtons.MIDDLE:f=i;break;case r.mouseButtons.RIGHT:f=o;break;default:f=n}var t=l!==n?l:f;t!==a||r.noRotate?t!==i||r.noZoom?t!==o||r.noPan||(M.copy(G(e.pageX,e.pageY)),S.copy(M)):(v.copy(G(e.pageX,e.pageY)),y.copy(v)):(b.copy(H(e.pageX,e.pageY)),p.copy(b)),r.domElement.ownerDocument.addEventListener("mousemove",X,!1),r.domElement.ownerDocument.addEventListener("mouseup",Y,!1),r.dispatchEvent(A)}}function X(e){if(!1!==r.enabled){e.preventDefault(),e.stopPropagation();var t=l!==n?l:f;t!==a||r.noRotate?t!==i||r.noZoom?t!==o||r.noPan||S.copy(G(e.pageX,e.pageY)):y.copy(G(e.pageX,e.pageY)):(p.copy(b),b.copy(H(e.pageX,e.pageY)))}}function Y(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),f=n,r.domElement.ownerDocument.removeEventListener("mousemove",X),r.domElement.ownerDocument.removeEventListener("mouseup",Y),r.dispatchEvent(C))}function Z(e){if(!1!==r.enabled&&!0!==r.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:v.y-=.025*e.deltaY;break;case 1:v.y-=.01*e.deltaY;break;default:v.y-=25e-5*e.deltaY}r.dispatchEvent(A),r.dispatchEvent(C)}}function J(e){if(!1!==r.enabled){switch(e.preventDefault(),e.touches.length){case 1:f=s,b.copy(H(e.touches[0].pageX,e.touches[0].pageY)),p.copy(b);break;default:f=c;var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;_=w=Math.sqrt(t*t+n*n);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;M.copy(G(a,i)),S.copy(M)}r.dispatchEvent(A)}}function Q(e){if(!1!==r.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:p.copy(b),b.copy(H(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY;_=Math.sqrt(t*t+n*n);var a=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;S.copy(G(a,i))}}function K(e){if(!1!==r.enabled){switch(e.touches.length){case 0:f=n;break;case 1:f=s,b.copy(H(e.touches[0].pageX,e.touches[0].pageY)),p.copy(b)}r.dispatchEvent(C)}}function $(e){!1!==r.enabled&&e.preventDefault()}this.rotateCamera=(R=new B,k=new D,O=new B,I=new B,N=new B,z=new B,function(){z.set(b.x-p.x,b.y-p.y,0),(P=z.length())?(h.copy(r.object.position).sub(r.target),O.copy(h).normalize(),I.copy(r.object.up).normalize(),N.crossVectors(I,O).normalize(),I.setLength(b.y-p.y),N.setLength(b.x-p.x),z.copy(I.add(N)),R.crossVectors(z,h).normalize(),P*=r.rotateSpeed,k.setFromAxisAngle(R,P),h.applyQuaternion(k),r.object.up.applyQuaternion(k),g.copy(R),m=P):!r.staticMoving&&m&&(m*=Math.sqrt(1-r.dynamicDampingFactor),h.copy(r.object.position).sub(r.target),k.setFromAxisAngle(g,m),h.applyQuaternion(k),r.object.up.applyQuaternion(k)),p.copy(b)}),this.zoomCamera=function(){var e;f===c?(e=w/_,w=_,r.object.isPerspectiveCamera?h.multiplyScalar(e):r.object.isOrthographicCamera?(r.object.zoom*=e,r.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(y.y-v.y)*r.zoomSpeed)&&e>0&&(r.object.isPerspectiveCamera?h.multiplyScalar(e):r.object.isOrthographicCamera?(r.object.zoom/=e,r.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),r.staticMoving?v.copy(y):v.y+=(y.y-v.y)*this.dynamicDampingFactor)},this.panCamera=(j=new T,F=new B,U=new B,function(){if(j.copy(S).sub(M),j.lengthSq()){if(r.object.isOrthographicCamera){var e=(r.object.right-r.object.left)/r.object.zoom/r.domElement.clientWidth,t=(r.object.top-r.object.bottom)/r.object.zoom/r.domElement.clientWidth;j.x*=e,j.y*=t}j.multiplyScalar(h.length()*r.panSpeed),U.copy(h).cross(r.object.up).setLength(j.x),U.add(F.copy(r.object.up).setLength(j.y)),r.object.position.add(U),r.target.add(U),r.staticMoving?M.copy(S):M.add(j.subVectors(S,M).multiplyScalar(r.dynamicDampingFactor))}}),this.checkDistances=function(){r.noZoom&&r.noPan||(h.lengthSq()>r.maxDistance*r.maxDistance&&(r.object.position.addVectors(r.target,h.setLength(r.maxDistance)),v.copy(y)),h.lengthSq()<r.minDistance*r.minDistance&&(r.object.position.addVectors(r.target,h.setLength(r.minDistance)),v.copy(y)))},this.update=function(){h.subVectors(r.object.position,r.target),r.noRotate||r.rotateCamera(),r.noZoom||r.zoomCamera(),r.noPan||r.panCamera(),r.object.position.addVectors(r.target,h),r.object.isPerspectiveCamera?(r.checkDistances(),r.object.lookAt(r.target),d.distanceToSquared(r.object.position)>1e-6&&(r.dispatchEvent(E),d.copy(r.object.position))):r.object.isOrthographicCamera?(r.object.lookAt(r.target),(d.distanceToSquared(r.object.position)>1e-6||u!==r.object.zoom)&&(r.dispatchEvent(E),d.copy(r.object.position),u=r.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){f=n,l=n,r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.up.copy(r.up0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),h.subVectors(r.object.position,r.target),r.object.lookAt(r.target),r.dispatchEvent(E),d.copy(r.object.position),u=r.object.zoom},this.dispose=function(){r.domElement.removeEventListener("contextmenu",$,!1),r.domElement.removeEventListener("mousedown",q,!1),r.domElement.removeEventListener("wheel",Z,!1),r.domElement.removeEventListener("touchstart",J,!1),r.domElement.removeEventListener("touchend",K,!1),r.domElement.removeEventListener("touchmove",Q,!1),r.domElement.ownerDocument.removeEventListener("mousemove",X,!1),r.domElement.ownerDocument.removeEventListener("mouseup",Y,!1),window.removeEventListener("keydown",V,!1),window.removeEventListener("keyup",W,!1)},this.domElement.addEventListener("contextmenu",$,!1),this.domElement.addEventListener("mousedown",q,!1),this.domElement.addEventListener("wheel",Z,!1),this.domElement.addEventListener("touchstart",J,!1),this.domElement.addEventListener("touchend",K,!1),this.domElement.addEventListener("touchmove",Q,!1),window.addEventListener("keydown",V,!1),window.addEventListener("keyup",W,!1),this.handleResize(),this.update()};Wp.prototype=Object.create(_.prototype),Wp.prototype.constructor=Wp;var qp=function(e,t){var r,n,a,i,o,s;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new B,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:x.ROTATE,MIDDLE:x.DOLLY,RIGHT:x.PAN},this.touches={ONE:w.ROTATE,TWO:w.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return b.phi},this.getAzimuthalAngle=function(){return b.theta},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(d),c.update(),h=l.NONE},this.update=(r=new B,n=(new D).setFromUnitVectors(e.up,new B(0,1,0)),a=n.clone().inverse(),i=new B,o=new D,s=2*Math.PI,function(){var e=c.object.position;r.copy(e).sub(c.target),r.applyQuaternion(n),b.setFromVector3(r),c.autoRotate&&h===l.NONE&&O(2*Math.PI/60/60*c.autoRotateSpeed),c.enableDamping?(b.theta+=g.theta*c.dampingFactor,b.phi+=g.phi*c.dampingFactor):(b.theta+=g.theta,b.phi+=g.phi);var t=c.minAzimuthAngle,u=c.maxAzimuthAngle;return isFinite(t)&&isFinite(u)&&(t<-Math.PI?t+=s:t>Math.PI&&(t-=s),u<-Math.PI?u+=s:u>Math.PI&&(u-=s),b.theta=t<u?Math.max(t,Math.min(u,b.theta)):b.theta>(t+u)/2?Math.max(t,b.theta):Math.min(u,b.theta)),b.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,b.phi)),b.makeSafe(),b.radius*=m,b.radius=Math.max(c.minDistance,Math.min(c.maxDistance,b.radius)),!0===c.enableDamping?c.target.addScaledVector(v,c.dampingFactor):c.target.add(v),r.setFromSpherical(b),r.applyQuaternion(a),e.copy(c.target).add(r),c.object.lookAt(c.target),!0===c.enableDamping?(g.theta*=1-c.dampingFactor,g.phi*=1-c.dampingFactor,v.multiplyScalar(1-c.dampingFactor)):(g.set(0,0,0),v.set(0,0,0)),m=1,!!(y||i.distanceToSquared(c.object.position)>p||8*(1-o.dot(c.object.quaternion))>p)&&(c.dispatchEvent(d),i.copy(c.object.position),o.copy(c.object.quaternion),y=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",ie,!1),c.domElement.removeEventListener("mousedown",Q,!1),c.domElement.removeEventListener("wheel",ee,!1),c.domElement.removeEventListener("touchstart",re,!1),c.domElement.removeEventListener("touchend",ae,!1),c.domElement.removeEventListener("touchmove",ne,!1),c.domElement.ownerDocument.removeEventListener("mousemove",K,!1),c.domElement.ownerDocument.removeEventListener("mouseup",$,!1),c.domElement.removeEventListener("keydown",te,!1)};var c=this,d={type:"change"},u={type:"start"},f={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},h=l.NONE,p=1e-6,b=new ld,g=new ld,m=1,v=new B,y=!1,_=new T,M=new T,S=new T,E=new T,A=new T,C=new T,L=new T,P=new T,R=new T;function k(){return Math.pow(.95,c.zoomSpeed)}function O(e){g.theta-=e}function I(e){g.phi-=e}var N,z=(N=new B,function(e,t){N.setFromMatrixColumn(t,0),N.multiplyScalar(-e),v.add(N)}),j=function(){var e=new B;return function(t,r){!0===c.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(c.object.up,e)),e.multiplyScalar(t),v.add(e)}}(),F=function(){var e=new B;return function(t,r){var n=c.domElement;if(c.object.isPerspectiveCamera){var a=c.object.position;e.copy(a).sub(c.target);var i=e.length();i*=Math.tan(c.object.fov/2*Math.PI/180),z(2*t*i/n.clientHeight,c.object.matrix),j(2*r*i/n.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(z(t*(c.object.right-c.object.left)/c.object.zoom/n.clientWidth,c.object.matrix),j(r*(c.object.top-c.object.bottom)/c.object.zoom/n.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function U(e){c.object.isPerspectiveCamera?m/=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*e)),c.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function G(e){c.object.isPerspectiveCamera?m*=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/e)),c.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function H(e){_.set(e.clientX,e.clientY)}function V(e){E.set(e.clientX,e.clientY)}function W(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,r)}}function q(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,r)}}function X(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);L.set(0,n)}function Y(e){if(1==e.touches.length)M.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);M.set(t,r)}S.subVectors(M,_).multiplyScalar(c.rotateSpeed);var n=c.domElement;O(2*Math.PI*S.x/n.clientHeight),I(2*Math.PI*S.y/n.clientHeight),_.copy(M)}function Z(e){if(1==e.touches.length)A.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);A.set(t,r)}C.subVectors(A,E).multiplyScalar(c.panSpeed),F(C.x,C.y),E.copy(A)}function J(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);P.set(0,n),R.set(0,Math.pow(P.y/L.y,c.zoomSpeed)),U(R.y),L.copy(P)}function Q(e){if(!1!==c.enabled){var t;switch(e.preventDefault(),c.domElement.focus?c.domElement.focus():window.focus(),e.button){case 0:t=c.mouseButtons.LEFT;break;case 1:t=c.mouseButtons.MIDDLE;break;case 2:t=c.mouseButtons.RIGHT;break;default:t=-1}switch(t){case x.DOLLY:if(!1===c.enableZoom)return;!function(e){L.set(e.clientX,e.clientY)}(e),h=l.DOLLY;break;case x.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enablePan)return;V(e),h=l.PAN}else{if(!1===c.enableRotate)return;H(e),h=l.ROTATE}break;case x.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enableRotate)return;H(e),h=l.ROTATE}else{if(!1===c.enablePan)return;V(e),h=l.PAN}break;default:h=l.NONE}h!==l.NONE&&(c.domElement.ownerDocument.addEventListener("mousemove",K,!1),c.domElement.ownerDocument.addEventListener("mouseup",$,!1),c.dispatchEvent(u))}}function K(e){if(!1!==c.enabled)switch(e.preventDefault(),h){case l.ROTATE:if(!1===c.enableRotate)return;!function(e){M.set(e.clientX,e.clientY),S.subVectors(M,_).multiplyScalar(c.rotateSpeed);var t=c.domElement;O(2*Math.PI*S.x/t.clientHeight),I(2*Math.PI*S.y/t.clientHeight),_.copy(M),c.update()}(e);break;case l.DOLLY:if(!1===c.enableZoom)return;!function(e){P.set(e.clientX,e.clientY),R.subVectors(P,L),R.y>0?U(k()):R.y<0&&G(k()),L.copy(P),c.update()}(e);break;case l.PAN:if(!1===c.enablePan)return;!function(e){A.set(e.clientX,e.clientY),C.subVectors(A,E).multiplyScalar(c.panSpeed),F(C.x,C.y),E.copy(A),c.update()}(e)}}function $(e){!1!==c.enabled&&(c.domElement.ownerDocument.removeEventListener("mousemove",K,!1),c.domElement.ownerDocument.removeEventListener("mouseup",$,!1),c.dispatchEvent(f),h=l.NONE)}function ee(e){!1===c.enabled||!1===c.enableZoom||h!==l.NONE&&h!==l.ROTATE||(e.preventDefault(),e.stopPropagation(),c.dispatchEvent(u),function(e){e.deltaY<0?G(k()):e.deltaY>0&&U(k()),c.update()}(e),c.dispatchEvent(f))}function te(e){!1!==c.enabled&&!1!==c.enableKeys&&!1!==c.enablePan&&function(e){var t=!1;switch(e.keyCode){case c.keys.UP:F(0,c.keyPanSpeed),t=!0;break;case c.keys.BOTTOM:F(0,-c.keyPanSpeed),t=!0;break;case c.keys.LEFT:F(c.keyPanSpeed,0),t=!0;break;case c.keys.RIGHT:F(-c.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),c.update())}(e)}function re(e){if(!1!==c.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(c.touches.ONE){case w.ROTATE:if(!1===c.enableRotate)return;W(e),h=l.TOUCH_ROTATE;break;case w.PAN:if(!1===c.enablePan)return;q(e),h=l.TOUCH_PAN;break;default:h=l.NONE}break;case 2:switch(c.touches.TWO){case w.DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&X(e),c.enablePan&&q(e)}(e),h=l.TOUCH_DOLLY_PAN;break;case w.DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&X(e),c.enableRotate&&W(e)}(e),h=l.TOUCH_DOLLY_ROTATE;break;default:h=l.NONE}break;default:h=l.NONE}h!==l.NONE&&c.dispatchEvent(u)}}function ne(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),h){case l.TOUCH_ROTATE:if(!1===c.enableRotate)return;Y(e),c.update();break;case l.TOUCH_PAN:if(!1===c.enablePan)return;Z(e),c.update();break;case l.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&J(e),c.enablePan&&Z(e)}(e),c.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&J(e),c.enableRotate&&Y(e)}(e),c.update();break;default:h=l.NONE}}function ae(e){!1!==c.enabled&&(c.dispatchEvent(f),h=l.NONE)}function ie(e){!1!==c.enabled&&e.preventDefault()}c.domElement.addEventListener("contextmenu",ie,!1),c.domElement.addEventListener("mousedown",Q,!1),c.domElement.addEventListener("wheel",ee,!1),c.domElement.addEventListener("touchstart",re,!1),c.domElement.addEventListener("touchend",ae,!1),c.domElement.addEventListener("touchmove",ne,!1),c.domElement.addEventListener("keydown",te,!1),-1===c.domElement.tabIndex&&(c.domElement.tabIndex=0),this.update()};qp.prototype=Object.create(_.prototype),qp.prototype.constructor=qp;var Xp=function(e,t){qp.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=x.PAN,this.mouseButtons.RIGHT=x.ROTATE,this.touches.ONE=w.PAN,this.touches.TWO=w.DOLLY_ROTATE};(Xp.prototype=Object.create(_.prototype)).constructor=Xp;var Yp,Zp,Jp,Qp=function(e,t){function r(e,t){return function(){t.apply(e,arguments)}}function n(e){e.preventDefault()}void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1,this.tmpQuaternion=new D,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new B(0,0,0),this.rotationVector=new B(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),r=t.size[0]/2,n=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-r)/r,this.moveState.pitchDown=(e.pageY-t.offset[1]-n)/n,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(e){var t=e*this.movementSpeed,r=e*this.rollSpeed;this.object.translateX(this.moveVector.x*t),this.object.translateY(this.moveVector.y*t),this.object.translateZ(this.moveVector.z*t),this.tmpQuaternion.set(this.rotationVector.x*r,this.rotationVector.y*r,this.rotationVector.z*r,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),this.object.rotation.setFromQuaternion(this.object.quaternion,this.object.rotation.order)},this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",n,!1),this.domElement.removeEventListener("mousedown",i,!1),this.domElement.removeEventListener("mousemove",a,!1),this.domElement.removeEventListener("mouseup",o,!1),window.removeEventListener("keydown",s,!1),window.removeEventListener("keyup",c,!1)};var a=r(this,this.mousemove),i=r(this,this.mousedown),o=r(this,this.mouseup),s=r(this,this.keydown),c=r(this,this.keyup);this.domElement.addEventListener("contextmenu",n,!1),this.domElement.addEventListener("mousemove",a,!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mouseup",o,!1),window.addEventListener("keydown",s,!1),window.addEventListener("keyup",c,!1),this.updateMovementVector(),this.updateRotationVector()},Kp={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")};function $p(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign($p.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),$p.FullScreenQuad=(Yp=new ac(-1,1,1,-1,0,1),Zp=new yr(2,2),Jp=function(e){this._mesh=new Xt(Zp,e)},Object.defineProperty(Jp.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(Jp.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(e){e.render(this._mesh,Yp)}}),Jp);var eb=function(e,t){$p.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof or?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=ir.clone(e.uniforms),this.material=new or({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new $p.FullScreenQuad(this.material)};eb.prototype=Object.assign(Object.create($p.prototype),{constructor:eb,render:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var tb=function(e,t){$p.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};tb.prototype=Object.assign(Object.create($p.prototype),{constructor:tb,render:function(e,t,r){var n,a,i=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(n=0,a=1):(n=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),o.buffers.stencil.setFunc(i.ALWAYS,n,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(i.EQUAL,1,4294967295),o.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),o.buffers.stencil.setLocked(!0)}});var rb=function(){$p.call(this),this.needsSwap=!1};rb.prototype=Object.create($p.prototype),Object.assign(rb.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var nb=function(e,t){if(this.renderer=e,void 0===t){var r={minFilter:1006,magFilter:1006,format:1023,stencilBuffer:!1},n=e.getSize(new T);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,(t=new k(this._width*this._pixelRatio,this._height*this._pixelRatio,r)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Kp&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===eb&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new eb(Kp),this.clock=new Dc};Object.assign(nb.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,r,n=this.renderer.getRenderTarget(),a=!1,i=this.passes.length;for(r=0;r<i;r++)if(!1!==(t=this.passes[r]).enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,a),t.needsSwap){if(a){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==tb&&(t instanceof tb?a=!0:t instanceof rb&&(a=!1))}this.renderer.setRenderTarget(n)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new T);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var r=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(r,n),this.renderTarget2.setSize(r,n);for(var a=0;a<this.passes.length;a++)this.passes[a].setSize(r,n)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var ab=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(ab.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),ab.FullScreenQuad=function(){var e=new ac(-1,1,1,-1,0,1),t=new yr(2,2),r=function(e){this._mesh=new Xt(t,e)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var ib=function(e,t,r,n,a){$p.call(this),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=n,this.clearAlpha=void 0!==a?a:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};function ob(){return(ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}ib.prototype=Object.assign(Object.create($p.prototype),{constructor:ib,render:function(e,t,r){var n,a,i,o=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(n=e.getClearColor().getHex(),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(n,a),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=o}});var sb=ob;function cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function db(e){return(db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ub=db;function fb(e,t){return(fb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lb=fb;function hb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pb(e,t,r){return(pb=hb()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&lb(a,r.prototype),a}).apply(null,arguments)}var bb=pb;function gb(e){var t="function"==typeof Map?new Map:void 0;return(gb=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return bb(e,arguments,ub(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lb(n,e)})(e)}var mb=function(e){var t,r;function n(t){return cb(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(gb(Error));function vb(e){return Math.round(255*e)}function yb(e,t,r){return vb(e)+","+vb(t)+","+vb(r)}function xb(e,t,r,n){if(void 0===n&&(n=yb),0===t)return n(r,r,r);var a=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*t,o=i*(1-Math.abs(a%2-1)),s=0,c=0,d=0;a>=0&&a<1?(s=i,c=o):a>=1&&a<2?(s=o,c=i):a>=2&&a<3?(c=i,d=o):a>=3&&a<4?(c=o,d=i):a>=4&&a<5?(s=o,d=i):a>=5&&a<6&&(s=i,d=o);var u=r-i/2;return n(s+u,c+u,d+u)}var wb={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var _b=/^#[a-fA-F0-9]{6}$/,Mb=/^#[a-fA-F0-9]{8}$/,Sb=/^#[a-fA-F0-9]{3}$/,Tb=/^#[a-fA-F0-9]{4}$/,Eb=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Ab=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Cb=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Lb=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function Pb(e){if("string"!=typeof e)throw new mb(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return wb[t]?"#"+wb[t]:e}(e);if(t.match(_b))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(Mb)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(Sb))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Tb)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var a=Eb.exec(t);if(a)return{red:parseInt(""+a[1],10),green:parseInt(""+a[2],10),blue:parseInt(""+a[3],10)};var i=Ab.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var o=Cb.exec(t);if(o){var s="rgb("+xb(parseInt(""+o[1],10),parseInt(""+o[2],10)/100,parseInt(""+o[3],10)/100)+")",c=Eb.exec(s);if(!c)throw new mb(4,t,s);return{red:parseInt(""+c[1],10),green:parseInt(""+c[2],10),blue:parseInt(""+c[3],10)}}var d=Lb.exec(t);if(d){var u="rgb("+xb(parseInt(""+d[1],10),parseInt(""+d[2],10)/100,parseInt(""+d[3],10)/100)+")",f=Eb.exec(u);if(!f)throw new mb(4,t,u);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10),alpha:parseFloat(""+d[4])}}throw new mb(5)}var Rb=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function kb(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function Ob(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return Rb("#"+kb(e)+kb(t)+kb(r));if("object"==typeof e&&void 0===t&&void 0===r)return Rb("#"+kb(e.red)+kb(e.green)+kb(e.blue));throw new mb(6)}function Db(e,t,r,n){if("string"==typeof e&&"number"==typeof t){var a=Pb(e);return"rgba("+a.red+","+a.green+","+a.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof n)return n>=1?Ob(e,t,r):"rgba("+e+","+t+","+r+","+n+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===n)return e.alpha>=1?Ob(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new mb(7)}function Ib(e){return function e(t,r,n){return function(){var a=n.concat(Array.prototype.slice.call(arguments));return a.length>=r?t.apply(this,a):e(t,r,a)}}(e,e.length,[])}function Nb(e,t,r){return Math.max(e,Math.min(t,r))}function Bb(e,t){if("transparent"===t)return t;var r=Pb(t),n="number"==typeof r.alpha?r.alpha:1;return Db(sb({},r,{alpha:Nb(0,1,(100*n+100*parseFloat(e))/100)}))}var zb=Ib(Bb);var jb,Fb,Ub={},Gb=Ub={};function Hb(){throw new Error("setTimeout has not been defined")}function Vb(){throw new Error("clearTimeout has not been defined")}function Wb(e){if(jb===setTimeout)return setTimeout(e,0);if((jb===Hb||!jb)&&setTimeout)return jb=setTimeout,setTimeout(e,0);try{return jb(e,0)}catch(t){try{return jb.call(null,e,0)}catch(t){return jb.call(this,e,0)}}}!function(){try{jb="function"==typeof setTimeout?setTimeout:Hb}catch(e){jb=Hb}try{Fb="function"==typeof clearTimeout?clearTimeout:Vb}catch(e){Fb=Vb}}();var qb,Xb=[],Yb=!1,Zb=-1;function Jb(){Yb&&qb&&(Yb=!1,qb.length?Xb=qb.concat(Xb):Zb=-1,Xb.length&&Qb())}function Qb(){if(!Yb){var e=Wb(Jb);Yb=!0;for(var t=Xb.length;t;){for(qb=Xb,Xb=[];++Zb<t;)qb&&qb[Zb].run();Zb=-1,t=Xb.length}qb=null,Yb=!1,function(e){if(Fb===clearTimeout)return clearTimeout(e);if((Fb===Vb||!Fb)&&clearTimeout)return Fb=clearTimeout,clearTimeout(e);try{Fb(e)}catch(t){try{return Fb.call(null,e)}catch(t){return Fb.call(this,e)}}}(e)}}function Kb(e,t){this.fun=e,this.array=t}function $b(){}Gb.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Xb.push(new Kb(e,t)),1!==Xb.length||Yb||Wb(Qb)},Kb.prototype.run=function(){this.fun.apply(null,this.array)},Gb.title="browser",Gb.browser=!0,Gb.env={},Gb.argv=[],Gb.version="",Gb.versions={},Gb.on=$b,Gb.addListener=$b,Gb.once=$b,Gb.off=$b,Gb.removeListener=$b,Gb.removeAllListeners=$b,Gb.emit=$b,Gb.prependListener=$b,Gb.prependOnceListener=$b,Gb.listeners=function(e){return[]},Gb.binding=function(e){throw new Error("process.binding is not supported")},Gb.cwd=function(){return"/"},Gb.chdir=function(e){throw new Error("process.chdir is not supported")},Gb.umask=function(){return 0};var eg,tg,rg="undefined"==typeof self&&void 0!==Ub&&Ub.hrtime?function(){var e=Ub.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},ng=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){var r=Object.keys(this._tweens);if(0===r.length)return!1;for(e=void 0!==e?e:rg();r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var a=this._tweens[r[n]];a&&!1===a.update(e)&&!t&&delete this._tweens[r[n]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ag={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-ag.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*ag.Bounce.In(2*e):.5*ag.Bounce.Out(2*e-1)+.5}}},ig={Linear:function(e,t){var r=e.length-1,n=r*t,a=Math.floor(n),i=ig.Utils.Linear;return t<0?i(e[0],e[1],n):t>1?i(e[r],e[r-1],r-n):i(e[a],e[a+1>r?r:a+1],n-a)},Bezier:function(e,t){for(var r=0,n=e.length-1,a=Math.pow,i=ig.Utils.Bernstein,o=0;o<=n;o++)r+=a(1-t,n-o)*a(t,o)*e[o]*i(n,o);return r},CatmullRom:function(e,t){var r=e.length-1,n=r*t,a=Math.floor(n),i=ig.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(a=Math.floor(n=r*(1+t))),i(e[(a-1+r)%r],e[a],e[(a+1)%r],e[(a+2)%r],n-a)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[r]-(i(e[r],e[r],e[r-1],e[r-1],n-r)-e[r]):i(e[a?a-1:0],e[a],e[r<a+1?r:a+1],e[r<a+2?r:a+2],n-a)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=ig.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:(eg=[1],function(e){var t=1;if(eg[e])return eg[e];for(var r=e;r>1;r--)t*=r;return eg[e]=t,t}),CatmullRom:function(e,t,r,n,a){var i=.5*(r-e),o=.5*(n-t),s=a*a;return(2*t-2*r+i+o)*(a*s)+(-3*t+3*r-2*i-o)*s+i*a+t}}},og=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),sg=function(){function e(e,t){void 0===t&&(t=dg),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=dg.Easing.Linear.None,this._interpolationFunction=dg.Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=dg.nextId(),this._isChainStopped=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){for(var r in e)this._valuesEnd[r]=e[r];return void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?dg.now()+parseFloat(e):e:dg.now(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,r,n){for(var a in r){var i=e[a],o=Array.isArray(i),s=o?"array":typeof i,c=!o&&Array.isArray(r[a]);if("undefined"!==s&&"function"!==s){if(c){var d=r[a];if(0===d.length)continue;d=d.map(this._handleRelativeValue.bind(this,i)),r[a]=[i].concat(d)}if("object"!==s&&!o||!i||c)void 0===t[a]&&(t[a]=i),o||(t[a]*=1),n[a]=c?r[a].slice().reverse():t[a]||0;else{for(var u in t[a]=o?[]:{},i)t[a][u]=i[u];n[a]=o?[]:{},this._setupProperties(i,t[a],r[a],n[a])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this.update(1/0),this},e.prototype.pause=function(e){return this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=void 0===e?dg.now():e,this._group.remove(this)),this},e.prototype.resume=function(e){return this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=(void 0===e?dg.now():e)-this._pauseStart,this._pauseStart=0,this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e){var t,r;if(e>this._startTime+this._duration&&!this._isPlaying)return!1;if(this.isPlaying||this.start(e),e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var n=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,n),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[t]||(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,i=this._chainedTweens.length;a<i;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,r,n){for(var a in r)if(void 0!==t[a]){var i=t[a]||0,o=r[a],s=Array.isArray(e[a]),c=Array.isArray(o);!s&&c?e[a]=this._interpolationFunction(o,n):"object"==typeof o&&o?this._updateProperties(e[a],i,o,n):"number"==typeof(o=this._handleRelativeValue(i,o))&&(e[a]=i+(o-i)*n)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e];"string"==typeof this._valuesEnd[e]?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(this._valuesEnd[e]):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},e}(),cg=(tg=function(e,t){return(tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}tg(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),dg=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.version="18.6.0",t.now=rg,t.Group=ng,t.Easing=ag,t.Interpolation=ig,t.nextId=og.nextId,t.Tween=sg,t}return cg(t,e),t}(ng));function ug(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||hg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lg(e){return function(e){if(Array.isArray(e))return pg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||hg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hg(e,t){if(e){if("string"==typeof e)return pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pg(e,t):void 0}}function pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n}");var bg=window.THREE?window.THREE:{WebGLRenderer:Ma,Scene:ue,PerspectiveCamera:cr,Raycaster:dd,TextureLoader:As,Vector2:T,Vector3:B,Box3:Se,Color:et,Mesh:Xt,SphereGeometry:Ao,MeshBasicMaterial:st,BackSide:1,EventDispatcher:_,MOUSE:x,Quaternion:D,Spherical:ld,Clock:Dc},gg=Jh({props:{width:{default:window.innerWidth,onChange:function(e,t,r){isNaN(e)&&(t.width=r)}},height:{default:window.innerHeight,onChange:function(e,t,r){isNaN(e)&&(t.height=r)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.isPointerDragging){var r=new bg.Raycaster;r.params.Line.threshold=e.lineHoverPrecision,r.setFromCamera(e.pointerPos,e.camera);var n=r.intersectObjects(e.objects,!0).map((function(e){return e.object})).sort(e.hoverOrderComparator);t=n.length?n[0]:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&Qh(e.tooltipContent)(t)||"",e.hoverObj=t)}dg.update()}return this},cameraPosition:function(e,t,r,n){var a=e.camera;if(t&&e.initialised){var i=t,o=r||{x:0,y:0,z:0};if(n){var s=Object.assign({},a.position),c=f();new dg.Tween(s).to(i,n).easing(dg.Easing.Quadratic.Out).onUpdate(d).start(),new dg.Tween(c).to(o,n/3).easing(dg.Easing.Quadratic.Out).onUpdate(u).start()}else d(i),u(o);return this}return Object.assign({},a.position,{lookAt:f()});function d(e){var t=e.x,r=e.y,n=e.z;void 0!==t&&(a.position.x=t),void 0!==r&&(a.position.y=r),void 0!==n&&(a.position.z=n)}function u(t){e.controls.target=new bg.Vector3(t.x,t.y,t.z)}function f(){return Object.assign(new bg.Vector3(0,0,-1e3).applyQuaternion(a.quaternion).add(a.position))}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length,a=new Array(n>3?n-3:0),i=3;i<n;i++)a[i-3]=arguments[i];return this.fitToBbox(this.getBbox.apply(this,a),t,r)},fitToBbox:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=e.camera;if(t){var i=new bg.Vector3(0,0,0),o=2*Math.max.apply(Math,lg(Object.entries(t).map((function(e){var t=fg(e,2),r=t[0],n=t[1];return Math.max.apply(Math,lg(n.map((function(e){return Math.abs(i[r]-e)}))))})))),s=(1-2*n/e.height)*a.fov,c=o/Math.atan(s*Math.PI/180),d=c/a.aspect,u=Math.max(c,d);if(u>0){var f=i.clone().sub(a.position).normalize().multiplyScalar(-u);this.cameraPosition(f,i,r)}}return this},getBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},r=new bg.Box3(new bg.Vector3(0,0,0),new bg.Vector3(0,0,0)),n=e.objects.filter(t);return n.length?(n.forEach((function(e){return r.expandByObject(e)})),Object.assign.apply(Object,lg(["x","y","z"].map((function(e){return ug({},e,[r.min[e],r.max[e]])}))))):null},getScreenCoords:function(e,t,r,n){var a=new bg.Vector3(t,r,n);return a.project(this.camera()),{x:(a.x+1)*e.width/2,y:-(a.y-1)*e.height/2}},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new bg.Scene,camera:new bg.PerspectiveCamera,clock:new bg.Clock}},init:function(e,t,r){var n=r.controlType,a=void 0===n?"trackball":n,i=r.rendererConfig,o=void 0===i?{}:i,s=r.waitForLoadComplete,c=void 0===s||s;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[a]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.pointerPos=new bg.Vector2,t.pointerPos.x=-2,t.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(e){return t.container.addEventListener(e,(function(e){if(!t.isPointerDragging&&"pointermove"===e.type&&e.pressure>0&&(0!==e.movementX||0!==e.movementY)&&(t.isPointerDragging=!0),t.enablePointerInteraction){var r=(a=t.container,i=a.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop,{top:i.top+s,left:i.left+o}),n={x:e.pageX-r.left,y:e.pageY-r.top};t.pointerPos.x=n.x/t.width*2-1,t.pointerPos.y=-n.y/t.height*2+1,t.toolTipElem.style.top="".concat(n.y,"px"),t.toolTipElem.style.left="".concat(n.x,"px"),t.toolTipElem.style.transform="translate(-".concat(n.x/t.width*100,"%, 21px)")}var a,i,o,s}),!1)})),t.container.addEventListener("pointerup",(function(e){t.isPointerDragging&&(t.isPointerDragging=!1,!t.clickAfterDrag)||(0===e.button&&t.onClick(t.hoverObj||null,e),2===e.button&&t.onRightClick&&t.onRightClick(t.hoverObj||null,e))}),!0),t.container.addEventListener("contextmenu",(function(e){t.onRightClick&&e.preventDefault()}),!1),t.renderer=new bg.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},o)),t.renderer.setPixelRatio(window.devicePixelRatio),t.container.appendChild(t.renderer.domElement),t.postProcessingComposer=new nb(t.renderer),t.postProcessingComposer.addPass(new ib(t.scene,t.camera)),t.controls=new{trackball:Wp,orbit:qp,fly:Qp}[a](t.camera,t.renderer.domElement),"fly"===a&&(t.controls.movementSpeed=300,t.controls.rollSpeed=Math.PI/6,t.controls.dragToLook=!0),"trackball"!==a&&"orbit"!==a||(t.controls.minDistance=.1,t.controls.maxDistance=t.skyRadius,t.controls.addEventListener("start",(function(){return t.controlsEngaged=!0})),t.controls.addEventListener("change",(function(){t.controlsEngaged&&(t.controlsDragging=!0)})),t.controls.addEventListener("end",(function(){t.controlsEngaged=!1,t.controlsDragging=!1}))),t.renderer.setSize(t.width,t.height),t.postProcessingComposer.setSize(t.width,t.height),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.scene.add(t.skysphere=new bg.Mesh),t.skysphere.visible=!1,t.loadComplete=t.scene.visible=!c,window.scene=t.scene},update:function(e,t){if(e.width&&e.height&&(t.hasOwnProperty("width")||t.hasOwnProperty("height"))&&(e.container.style.width=e.width,e.container.style.height=e.height,e.renderer.setSize(e.width,e.height),e.postProcessingComposer.setSize(e.width,e.height),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),t.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&t.skyRadius&&(e.controls.maxDistance=e.skyRadius),e.camera.far=2.5*e.skyRadius,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new bg.SphereGeometry(e.skyRadius)),t.hasOwnProperty("backgroundColor")){var r=Pb(e.backgroundColor).alpha;void 0===r&&(r=1),e.renderer.setClearColor(new bg.Color(zb(1,e.backgroundColor)),r)}function n(){e.loadComplete=e.scene.visible=!0}t.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?(new bg.TextureLoader).load(e.backgroundImageUrl,(function(t){e.skysphere.material=new bg.MeshBasicMaterial({map:t,side:bg.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&n()})):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&n())),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),t.hasOwnProperty("objects")&&((t.objects||[]).forEach((function(t){return e.scene.remove(t)})),e.objects.forEach((function(t){return e.scene.add(t)})))}});function mg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vg(Object(r),!0).forEach((function(t){mg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xg(e){return function(e){if(Array.isArray(e))return wg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _g(e,t){var r=new t;return{linkProp:function(t){return{default:r[t](),onChange:function(r,n){n[e][t](r)},triggerUpdate:!1}},linkMethod:function(t){return function(r){for(var n=r[e],a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];var s=n[t].apply(n,i);return s===n?this:s}}}}!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}");var Mg=window.THREE?window.THREE:{AmbientLight:sc,DirectionalLight:oc,Vector3:B},Sg=_g("forceGraph",Vp),Tg=Object.assign.apply(Object,xg(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return mg({},e,Sg.linkProp(e))})))),Eg=Object.assign.apply(Object,xg(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return mg({},e,Sg.linkMethod(e))})))),Ag=_g("renderObjs",gg),Cg=Object.assign.apply(Object,xg(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(e){return mg({},e,Ag.linkProp(e))})))),Lg=Object.assign.apply(Object,xg(["cameraPosition","postProcessingComposer"].map((function(e){return mg({},e,Ag.linkMethod(e))}))).concat([{graph2ScreenCoords:Ag.linkMethod("getScreenCoords")}])),Pg=Jh({props:yg(yg({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,t){var r=t.renderObjs.controls();r&&(r.enabled=e)},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{default:function(){},triggerUpdate:!1},onNodeRightClick:{default:function(){},triggerUpdate:!1},onNodeHover:{default:function(){},triggerUpdate:!1},onLinkClick:{default:function(){},triggerUpdate:!1},onLinkRightClick:{default:function(){},triggerUpdate:!1},onLinkHover:{default:function(){},triggerUpdate:!1},onBackgroundClick:{default:function(){},triggerUpdate:!1},onBackgroundRightClick:{default:function(){},triggerUpdate:!1}},Tg),Cg),methods:yg(yg({zoomToFit:function(e,t,r){for(var n,a=arguments.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return e.renderObjs.fitToBbox((n=e.forceGraph).getGraphBbox.apply(n,i),t,r),this},pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Eg),Lg),stateInit:function(e){var t=e.controlType,r=e.rendererConfig;return{forceGraph:new Vp,renderObjs:gg({controlType:t,rendererConfig:r})}},init:function(e,t){e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var r=document.createElement("div");t.container.appendChild(r),t.renderObjs(r);var n,a=t.renderObjs.camera(),i=t.renderObjs.renderer(),o=t.renderObjs.controls();o.enabled=!!t.enableNavigationControls,t.lastSetCameraZ=a.position.z,t.container.appendChild(n=document.createElement("div")),n.className="graph-info-msg",n.textContent="",t.forceGraph.onLoading((function(){n.textContent="Loading..."})).onFinishLoading((function(){n.textContent=""})).onUpdate((function(){t.graphData=t.forceGraph.graphData(),0===a.position.x&&0===a.position.y&&a.position.z===t.lastSetCameraZ&&t.graphData.nodes.length&&(a.lookAt(t.forceGraph.position),t.lastSetCameraZ=a.position.z=170*Math.cbrt(t.graphData.nodes.length))})).onFinishUpdate((function(){if(t._dragControls){var e=t.graphData.nodes.find((function(e){return e.__initialFixedPos&&!e.__disposeControlsAfterDrag}));e?e.__disposeControlsAfterDrag=!0:t._dragControls.dispose(),t._dragControls=void 0}if(t.enableNodeDrag&&t.enablePointerInteraction&&"d3"===t.forceEngine){var r=t._dragControls=new wu(t.graphData.nodes.map((function(e){return e.__threeObj})).filter((function(e){return e})),a,i.domElement);r.addEventListener("dragstart",(function(e){o.enabled=!1;var t=e.object.__data;!t.__initialFixedPos&&(t.__initialFixedPos={fx:t.fx,fy:t.fy,fz:t.fz}),!t.__initialPos&&(t.__initialPos={x:t.x,y:t.y,z:t.z}),["x","y","z"].forEach((function(e){return t["f".concat(e)]=t[e]})),i.domElement.classList.add("grabbable")})),r.addEventListener("drag",(function(e){var r=e.object.__data,n=e.object.position,a={x:n.x-r.x,y:n.y-r.y,z:n.z-r.z};["x","y","z"].forEach((function(e){return r["f".concat(e)]=r[e]=n[e]})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.__dragged=!0,t.onNodeDrag(r,a)})),r.addEventListener("dragend",(function(e){var n=e.object.__data;n.__disposeControlsAfterDrag&&(r.dispose(),delete n.__disposeControlsAfterDrag);var a=n.__initialFixedPos,s=n.__initialPos,c={x:s.x-n.x,y:s.y-n.y,z:s.z-n.z};a&&(["x","y","z"].forEach((function(e){var t="f".concat(e);void 0===a[t]&&delete n[t]})),delete n.__initialFixedPos,delete n.__initialPos,n.__dragged&&(delete n.__dragged,t.onNodeDragEnd(n,c))),t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.enableNavigationControls&&(o.enabled=!0),i.domElement.classList.remove("grabbable")}))}}));var s=function(e){for(var t=e;t&&!t.hasOwnProperty("__graphObjType");)t=t.parent;return t};t.renderObjs.objects([new Mg.AmbientLight(12303291),new Mg.DirectionalLight(16777215,.6),t.forceGraph]).hoverOrderComparator((function(e,t){var r=s(e);if(!r)return 1;var n=s(t);if(!n)return-1;var a=function(e){return"node"===e.__graphObjType};return a(n)-a(r)})).tooltipContent((function(e){var r=s(e);return r&&Qh(t["".concat(r.__graphObjType,"Label")])(r.__data)||""})).hoverDuringDrag(!1).onHover((function(e){var r=s(e);if(r!==t.hoverObj){var n=t.hoverObj?t.hoverObj.__graphObjType:null,a=t.hoverObj?t.hoverObj.__data:null,i=r?r.__graphObjType:null,o=r?r.__data:null;n&&n!==i&&t["on".concat("node"===n?"Node":"Link","Hover")](null,a),i&&t["on".concat("node"===i?"Node":"Link","Hover")](o,n===i?a:null),t.hoverObj=r}})).clickAfterDrag(!1).onClick((function(e,r){var n=s(e);n?t["on".concat("node"===n.__graphObjType?"Node":"Link","Click")](n.__data,r):t.onBackgroundClick(r)})).onRightClick((function(e,r){var n=s(e);n?t["on".concat("node"===n.__graphObjType?"Node":"Link","RightClick")](n.__data,r):t.onBackgroundRightClick(r)})),this._animationCycle()}});function Rg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Og(e){return(Og=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dg(e,t){return(Dg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ig(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ng(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bg(e){return function(e){if(Array.isArray(e))return zg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jg=window.THREE?window.THREE:{LinearFilter:1006,Sprite:Va,SpriteMaterial:Pa,Texture:P},Fg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dg(e,t)}(o,e);var t,r,n,a,i=(t=o,function(){var e,r=Og(t);if(Ig()){var n=Og(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return Ng(this,e)});function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 1)";return Rg(this,o),(e=i.call(this,new jg.SpriteMaterial({map:new jg.Texture})))._text="".concat(t),e._textHeight=r,e._color=n,e._backgroundColor=!1,e._padding=0,e._borderWidth=0,e._borderColor="white",e._strokeWidth=0,e._strokeColor="white",e._fontFace="Arial",e._fontSize=90,e._fontWeight="normal",e._canvas=document.createElement("canvas"),e._texture=e.material.map,e._texture.minFilter=jg.LinearFilter,e._genCanvas(),e}return r=o,(n=[{key:"_genCanvas",value:function(){var e=this,t=this._canvas,r=t.getContext("2d"),n=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],a=n.map((function(t){return t*e.fontSize*.1})),i=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],o=i.map((function(t){return t*e.fontSize*.1})),s=this.text.split("\n"),c="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);r.font=c;var d=Math.max.apply(Math,Bg(s.map((function(e){return r.measureText(e).width})))),u=this.fontSize*s.length;t.width=d+2*a[0]+2*o[0],t.height=u+2*a[1]+2*o[1],this.borderWidth&&(r.strokeStyle=this.borderColor,a[0]&&(r.lineWidth=2*a[0],r.beginPath(),r.moveTo(0,0),r.lineTo(0,t.height),r.moveTo(t.width,0),r.lineTo(t.width,t.height),r.stroke()),a[1]&&(r.lineWidth=2*a[1],r.beginPath(),r.moveTo(a[0],0),r.lineTo(t.width-a[0],0),r.moveTo(a[0],t.height),r.lineTo(t.width-a[0],t.height),r.stroke())),r.translate.apply(r,Bg(a)),this.backgroundColor&&(r.fillStyle=this.backgroundColor,r.fillRect(0,0,t.width-2*a[0],t.height-2*a[1])),r.translate.apply(r,Bg(o)),r.font=c,r.fillStyle=this.color,r.textBaseline="bottom";var f=this.strokeWidth>0;f&&(r.lineWidth=this.strokeWidth*this.fontSize/10,r.strokeStyle=this.strokeColor),s.forEach((function(t,n){var a=(d-r.measureText(t).width)/2,i=(n+1)*e.fontSize;f&&r.strokeText(t,a,i),r.fillText(t,a,i)})),this._texture.image=t,this._texture.needsUpdate=!0;var l=this.textHeight*s.length+2*n[1]+2*i[1];this.scale.set(l*t.width/t.height,l)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(e){return jg.Sprite.prototype.copy.call(this,e),this.color=e.color,this.backgroundColor=e.backgroundColor,this.padding=e.padding,this.borderWidth=e.borderWidth,this.borderColor=e.borderColor,this.fontFace=e.fontFace,this.fontSize=e.fontSize,this.fontWeight=e.fontWeight,this.strokeWidth=e.strokeWidth,this.strokeColor=e.strokeColor,this}},{key:"text",get:function(){return this._text},set:function(e){this._text=e,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(e){this._textHeight=e,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding=e,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(e){this._fontFace=e,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight=e,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(e){this._strokeWidth=e,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(e){this._strokeColor=e,this._genCanvas()}}])&&kg(r.prototype,n),a&&kg(r,a),o}(jg.Sprite),Ug=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{a:function(n){return Ug(e,t,r,n)},get three(){return new et(e,t,r)},toString:function(){return"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(n,")")}}},Gg=(Ug(102,31,78),Ug(131,35,99),Ug(196,57,151),Ug(242,92,193),Ug(255,163,224),Ug(255,212,241),Ug(255,230,247),Ug(31,102,100),Ug(29,123,120),Ug(38,162,157),Ug(65,217,211),Ug(139,246,242),Ug(198,255,253),Ug(230,255,254),Ug(45,31,102),Ug(49,28,135),Ug(63,32,186),Ug(113,86,217),Ug(173,155,246),Ug(217,207,255),Ug(235,230,255),Ug(18,21,26),Ug(20,23,28),Ug(25,28,35),Ug(34,38,46),Ug(47,53,63),Ug(66,72,85),Ug(90,98,112),Ug(119,127,142),Ug(149,157,170),Ug(178,185,195),Ug(202,208,216),Ug(222,226,231),Ug(235,238,240),Ug(244,246,248),Ug(252,253,255),{darkest:Ug(102,31,31),darker:Ug(120,28,28),dark:Ug(156,35,35),base:Ug(209,59,59),light:Ug(241,134,134),lighter:Ug(255,195,195),lightest:Ug(255,230,230)}),Hg=(Ug(20,94,51),Ug(19,108,56),Ug(28,132,72),Ug(54,173,104),Ug(126,217,164),Ug(190,244,213),Ug(230,255,240),{darkest:Ug(22,60,102),darker:Ug(15,65,122),dark:Ug(16,83,160),base:Ug(32,117,214),light:Ug(116,176,244),lighter:Ug(187,219,255),lightest:Ug(240,247,255)}),Vg=(Ug(102,63,31),Ug(136,76,30),Ug(180,102,38),Ug(245,145,64),Ug(255,193,143),Ug(255,226,202),Ug(255,241,230),{darkest:Ug(102,80,31),darker:Ug(132,103,29),dark:Ug(180,143,37),base:Ug(244,208,63),light:Ug(255,232,142),lighter:Ug(255,244,202),lightest:Ug(255,250,230)}),Wg={darkest:Ug(66,22,102),darker:Ug(82,21,132),dark:Ug(113,30,180),base:Ug(162,61,245),light:Ug(205,143,255),lighter:Ug(232,204,255),lightest:Ug(244,230,255)},qg=(Ug(27,34,64),Ug(37,46,80),Ug(60,74,133),Ug(81,104,194),Ug(122,146,240),Ug(176,190,247),Ug(230,235,255),Ug(6,15,47),Ug(27,34,64),Ug(56,61,91),Ug(61,75,106),Ug(86,105,146),Ug(121,143,187),Ug(180,195,219),{shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new et(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tvec3 luma = vec3( 0.299, 0.587, 0.114 );","\tfloat v = dot( texel.xyz, luma );","\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","\tgl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")}),Xg=function(e,t,r,n){$p.call(this),this.strength=void 0!==t?t:1,this.radius=r,this.threshold=n,this.resolution=void 0!==e?new T(e.x,e.y):new T(256,256),this.clearColor=new et(0,0,0);var a={minFilter:1006,magFilter:1006,format:1023};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var i=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new k(i,o,a),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var s=0;s<this.nMips;s++){var c=new k(i,o,a);c.texture.name="UnrealBloomPass.h"+s,c.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(c);var d=new k(i,o,a);d.texture.name="UnrealBloomPass.v"+s,d.texture.generateMipmaps=!1,this.renderTargetsVertical.push(d),i=Math.round(i/2),o=Math.round(o/2)}void 0===qg&&console.error("UnrealBloomPass relies on LuminosityHighPassShader");var u=qg;this.highPassUniforms=ir.clone(u.uniforms),this.highPassUniforms.luminosityThreshold.value=n,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new or({uniforms:this.highPassUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var f=[3,5,7,9,11];for(i=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2),s=0;s<this.nMips;s++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(f[s])),this.separableBlurMaterials[s].uniforms.texSize.value=new T(i,o),i=Math.round(i/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new B(1,1,1),new B(1,1,1),new B(1,1,1),new B(1,1,1),new B(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===Kp&&console.error("UnrealBloomPass relies on CopyShader");var l=Kp;this.copyUniforms=ir.clone(l.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new or({uniforms:this.copyUniforms,vertexShader:l.vertexShader,fragmentShader:l.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new et,this.oldClearAlpha=1,this.basic=new st,this.fsQuad=new $p.FullScreenQuad(null)};Xg.prototype=Object.assign(Object.create($p.prototype),{constructor:Xg,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var r=Math.round(e/2),n=Math.round(t/2);this.renderTargetBright.setSize(r,n);for(var a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(r,n),this.renderTargetsVertical[a].setSize(r,n),this.separableBlurMaterials[a].uniforms.texSize.value=new T(r,n),r=Math.round(r/2),n=Math.round(n/2)},render:function(e,t,r,n,a){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var i=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var o=this.renderTargetBright,s=0;s<this.nMips;s++)this.fsQuad.material=this.separableBlurMaterials[s],this.separableBlurMaterials[s].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[s].uniforms.direction.value=Xg.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[s]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[s].uniforms.colorTexture.value=this.renderTargetsHorizontal[s].texture,this.separableBlurMaterials[s].uniforms.direction.value=Xg.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[s]),e.clear(),this.fsQuad.render(e),o=this.renderTargetsVertical[s];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=i},getSeperableBlurMaterial:function(e){return new or({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new T(.5,.5)},direction:{value:new T(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new or({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),Xg.BlurDirectionX=new T(1,0),Xg.BlurDirectionY=new T(0,1);var Yg={};function Zg(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Jg(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Zg(i,n,a,o,s,"next",e)}function s(e){Zg(i,n,a,o,s,"throw",e)}o(void 0)}))}}function Qg(){return Kg.apply(this,arguments)}function Kg(){return(Kg=Jg(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1e3,e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e()}),t)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Yg.sleep=Qg;var $g;function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?em(Object(r),!0).forEach((function(t){rm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nm(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function am(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){nm(i,n,a,o,s,"next",e)}function s(e){nm(i,n,a,o,s,"throw",e)}o(void 0)}))}}function im(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return om(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return om(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function om(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}$g=JSON.parse('{"nodes":[{"id":"4062045","user":"mbostock","description":"Force-Directed Graph"},{"id":"1341021","user":"mbostock","description":"Parallel Coordinates"},{"id":"1341281","user":"jasondavies","description":"Parallel Coordinates"},{"id":"b3ff6ae1c120eea654b5","user":"d3noob","description":"Simple d3.js Graph"},{"id":"4963004","user":"calvinmetcalf","description":"Quadtree Madness Round 2"},{"id":"4962892","user":"calvinmetcalf","description":"Quadtree Madness Round 2"},{"id":"4963273","user":"calvinmetcalf","description":"Quadtree Madness Round 2"},{"id":"4967213","user":"calvinmetcalf","description":"Rtree Madness"},{"id":"4060606","user":"mbostock","description":"Choropleth"},{"id":"4686432","user":"dwtkns","description":"Faux-3d Shaded Globe"},{"id":"3757101","user":"mbostock","description":"Lambert Azimuthal Equal-Area"},{"id":"5028304","user":"d3noob","description":"Sankey diagram with horizontal and vertical node movement"},{"id":"4343214","user":"mbostock","description":"Quadtree"},{"id":"1346410","user":"mbostock","description":"Pie Chart Update, II"},{"id":"1098617","user":"mbostock","description":"Arc Clock"},{"id":"4341574","user":"mbostock","description":"The Amazing Pie"},{"id":"4341417","user":"mbostock","description":"Donut Transitions"},{"id":"4183330","user":"mbostock","description":"World Tour"},{"id":"9656675","user":"mbostock","description":"Zoom to Bounding Box II"},{"id":"4707858","user":"mbostock","description":"Project to Bounding Box"},{"id":"1153292","user":"mbostock","description":"Mobile Patent Suits"},{"id":"2706022","user":"mbostock","description":"Force-Directed Graph with Mouseover"},{"id":"5141278","user":"d3noob","description":"Basic Directional Force Layout Diagram"},{"id":"5107491","user":"espinielli","description":"Random World Tour with flags"},{"id":"5044313","user":"mbostock","description":"Gray Earth"},{"id":"5141528","user":"d3noob","description":"Directional Force Layout Diagram with Node Highlighting"},{"id":"4342045","user":"mbostock","description":"Symbol Map"},{"id":"3711652","user":"mbostock","description":"Projection Transitions"},{"id":"4063530","user":"mbostock","description":"Circle Packing"},{"id":"3305854","user":"mbostock","description":"Custom Tweens"},{"id":"5180185","user":"mbostock","description":"Zipdecode"},{"id":"5386999","user":"herrstucki","description":"Zipdecode Switzerland"},{"id":"5416440","user":"mbostock","description":"Merging States II"},{"id":"5416405","user":"mbostock","description":"Merging States"},{"id":"4061961","user":"mbostock","description":"Bullet Charts"},{"id":"5518052","user":"milroc","description":"bar + sum: vanilla d3.js"},{"id":"5519642","user":"milroc","description":"bar + sum: reusable d3.js"},{"id":"5519819","user":"milroc","description":"bar + sum: d3.js & angular.js"},{"id":"5520449","user":"milroc","description":"bar + sum: d3.js & ember.js "},{"id":"5522467","user":"milroc","description":"bar + sum: d3.js & backbone.js"},{"id":"d22bbf92231876505e5d","user":"milroc","description":"bar + sum: d3.js, react.js, & Flux"},{"id":"5553051","user":"milroc","description":"    "},{"id":"5593150","user":"mbostock","description":"Vector Tiles"},{"id":"1642989","user":"mbostock","description":"Spline Transition"},{"id":"1705868","user":"mbostock","description":"Point-Along-Path Interpolation"},{"id":"5662135","user":"cloudshapes","description":"attrTween in a Transition to Move an Element Using a Function"},{"id":"1667367","user":"mbostock","description":"Focus+Context via Brushing"},{"id":"4180634","user":"mbostock","description":"World Map"},{"id":"5732685"},{"id":"4973620","user":"dwtkns","description":"Faux-3D Arcs"},{"id":"5732719","user":"darrenjaworski","description":"TOPOJSON from shapefile - OK Census tracts"},{"id":"5616813","user":"mbostock","description":"Vector Tiles"},{"id":"5874133","user":"darrenjaworski","description":"Tutorial I"},{"id":"5874214","user":"darrenjaworski","description":"Tutorial II"},{"id":"5874227","user":"darrenjaworski","description":"Tutorial III"},{"id":"5874229"},{"id":"5874233"},{"id":"5874236"},{"id":"5397362","user":"darrenjaworski","description":"Continuous gradient key"},{"id":"5886992","user":"d3noob","description":"Simple d3.js Bullet Chart example"},{"id":"1021953","user":"mbostock","description":"Multi-Foci Force Layout"},{"id":"5691513"},{"id":"1389927","user":"mbostock","description":"A Bar Chart"},{"id":"1129492","user":"mbostock","description":"Bounded Force Layout"},{"id":"5820393","user":"karmadude","description":"San Francisco Contours"},{"id":"6052814","user":"nbremer","description":"Self Organizing Map - Heatmap - D3"},{"id":"6052681","user":"nbremer","description":"Self Organizing Map - Hexagonal Heatmap - Lines"},{"id":"6187523","user":"CodeXmonk","description":"BulleT: a variant based on mbostock\'s bullet with Miso\'s d3.chart.js"},{"id":"5249328","user":"mbostock","description":"Hexagon Mesh"},{"id":"6150151","user":"nitaku","description":"Colored hex regions"},{"id":"3887118","user":"mbostock","description":"Scatterplot"},{"id":"6112167","user":"CodeXmonk","description":"Simple modification based on mbostock\'s Bullet Charts."},{"id":"1703449","user":"christophermanning","description":"Hamiltonian Graph Builder"},{"id":"6203413","user":"christophermanning","description":"CTA Line Simplification"},{"id":"4062085","user":"mbostock","description":"Population Pyramid"},{"id":"6226150","user":"cmdoptesc","description":"JavaScript D3: Drawing Concentric Arcs"},{"id":"5100636","user":"mbostock","description":"Arc Tween"},{"id":"6228457","user":"cmdoptesc","description":"JavaScript D3: Arc tween transitions using attrTween and attr methods"},{"id":"6279966","user":"hugolpz","description":"France_topographic_map.svg"},{"id":"5649592","user":"mbostock","description":"Stroke Dash Interpolation"},{"id":"2846454","user":"mbostock","description":"Force Layout & Matrix Market Format"},{"id":"4060366","user":"mbostock","description":"Voronoi Tessellation"},{"id":"1405439","user":"njvack","description":"Voronoi-based point picker"},{"id":"1734663","user":"christophermanning","description":"Voronoi Diagram with Force Directed Nodes and Delaunay Links"},{"id":"6439398","user":"simzou","description":"Kobe Bryant 2012-13 Game Log Line Graph"},{"id":"3884955","user":"mbostock","description":"Multi-Series Line Chart"},{"id":"6459889","user":"simzou","description":"US Map of Nielsen Media Markets"},{"id":"2206590","user":"mbostock","description":"click-to-zoom via transform"},{"id":"3019563","user":"mbostock","description":"Margin Convention"},{"id":"3894205","user":"mbostock","description":"Difference Chart"},{"id":"3885304","user":"mbostock","description":"Bar Chart"},{"id":"21746a9668ffdf6d8242","user":"nbremer","description":"Radar Chart Redesign"},{"id":"6514960","user":"nitaku","description":"Hilbert curve (L-system)"},{"id":"11094667","user":"ndarville","description":"Party Trend (Multi-Party Display)"},{"id":"5230564","user":"mbostock","description":"Times"},{"id":"6901037","user":"nitaku","description":"Circles"},{"id":"6622700","user":"nitaku","description":"GeoJSON squares"},{"id":"6173659","user":"nitaku","description":"Hex coordinates"},{"id":"7023140","user":"nitaku","description":"Gosper hex tiling"},{"id":"7008736","user":"nitaku","description":"Custom hex projection"},{"id":"6521802","user":"nitaku","description":"Gosper curve (L-system)"},{"id":"7015186","user":"nitaku","description":"Gosper hex tiling (fancy)"},{"id":"7023794","user":"nitaku","description":"Gosper regions"},{"id":"6982528","user":"nitaku","description":"TopoJSON geometrical renderer"},{"id":"7025272","user":"nitaku","description":"Precomputed Gosper regions"},{"id":"7051552","user":"phil-pedruco","description":"Disable zoom on scrollwheel but retain the ability to pan #2"},{"id":"7051484","user":"phil-pedruco","description":"Disable zoom on scrollwheel but retain the ability to pan #1"},{"id":"4063423","user":"mbostock","description":"Sunburst Partition"},{"id":"7032353","user":"radiocontrolled","description":"Humanitarian population by major Canadian city, 2012"},{"id":"4237768","user":"mbostock","description":"Voronoi Clipping"},{"id":"3846051","user":"mbostock","description":"Voronoi tests"},{"id":"7233233","user":"nitaku","description":"Voronoi"},{"id":"1157787","user":"mbostock","description":"Small Multiples"},{"id":"6476579","user":"Caged","description":"Using d3-tip to add tooltips to a d3 bar chart"},{"id":"2295155"},{"id":"3680999","user":"mbostock","description":"SVG Geometric Zooming"},{"id":"7328902","user":"jkutianski","description":"My attempt to add templating to d3.js"},{"id":"3750558","user":"mbostock","description":"Sticky Force Layout"},{"id":"7483341","user":"nitaku","description":"ID-based force layout"},{"id":"7493693","user":"nitaku","description":"Graph editing"},{"id":"5001347","user":"rkirsling","description":"Directed Graph Editor"},{"id":"7512487","user":"nitaku","description":"Graph editing tools"},{"id":"6890861","user":"nitaku","description":"IndexedDB"},{"id":"7517984","user":"nitaku","description":"Graph editing with persistence"},{"id":"7475950","user":"jkutianski","description":"A new attempt to add templating to d3.js"},{"id":"5052095","user":"timelyportfolio","description":""},{"id":"7188018","user":"radiocontrolled","description":"Humanitarian population by Canadian region, 2012"},{"id":"4339184","user":"mbostock","description":"Reingold–Tilford Tree"},{"id":"1093025","user":"mbostock","description":"Collapsible Indented Tree"},{"id":"7910706","user":"nitaku","description":"Random tree"},{"id":"7962295"},{"id":"7938492","user":"nitaku","description":"Random tree II"},{"id":"7960622"},{"id":"4136647","user":"mbostock","description":"U.S. TopoJSON"},{"id":"8028264","user":"nitaku","description":"Fractal treemap (random, Gosper)"},{"id":"7518871","user":"nitaku","description":"Graph with immutable nodes and links"},{"id":"3757132","user":"mbostock","description":"Spherical Mercator"},{"id":"8031205","user":"nitaku","description":"Fractal tree depth map (random, Gosper)"},{"id":"8260510","user":"nitaku","description":"Canonical representation of unordered rooted trees"},{"id":"8185373","user":"rveciana","description":"Base map for Haiyan typhoon track"},{"id":"1346395","user":"mbostock","description":"Pie Chart Update, I"},{"id":"8244446","user":"nitaku","description":"Random tree (unordered)"},{"id":"8272105"},{"id":"8272715","user":"nitaku","description":"Fractal treemap of Konanopii (1,724 leaves)"},{"id":"3014589","user":"mbostock","description":"Lab and HCL Color Spaces"},{"id":"8699346","user":"StewartNoyce","description":"D3 Authors by Domain"},{"id":"3808218","user":"mbostock","description":"General Update Pattern, I"},{"id":"8772179","user":"nitaku","description":"Space-flling curve layout (Gosper)"},{"id":"8784278","user":"nitaku","description":"Jigsaw treemap (Gosper)"},{"id":"8784942","user":"nitaku","description":"Jigsaw treemap (Hilbert)"},{"id":"8787102","user":"nitaku","description":"Hilbert treemap (area encoding)"},{"id":"4341134","user":"mbostock","description":"Hierarchical Edge Bundling"},{"id":"8788101","user":"nitaku","description":"Gosper treemap with hierarchical edge bundling"},{"id":"8566245","user":"nitaku","description":"Categorical color scale generator (HCL)"},{"id":"8246732","user":"radiocontrolled","description":"What per cent of people in the UK have used the Internet?"},{"id":"8900555","user":"nitaku","description":"Coloring of intersecting regions"},{"id":"8882722","user":"nitaku","description":"Label placement for Hilbert treemaps"},{"id":"8955159","user":"nitaku","description":"Stability of Peano curve"},{"id":"8947871","user":"nitaku","description":"Stable Hilbert curve"},{"id":"8947565","user":"nitaku","description":"Unstable Hilbert curve"},{"id":"6531064","user":"nitaku","description":"Peano (?) curve (L-system)"},{"id":"8949471","user":"nitaku","description":"Peano curve (L-system)"},{"id":"8968230","user":"nitaku","description":"FASS curve I (L-system)"},{"id":"4063269","user":"mbostock","description":"Bubble Chart"},{"id":"4327678","user":"herrstucki","description":"Swiss Cantons and Municipalities"},{"id":"9205257","user":"herrstucki","description":"Transitions with React and D3 I"},{"id":"9205264","user":"herrstucki","description":"Transitions with React and D3 II"},{"id":"9205238","user":"herrstucki","description":"Transitions with D3"},{"id":"9216081"},{"id":"9216751","user":"vlandham"},{"id":"9204795","user":"herrstucki","description":"Swiss Cantons and Municipalities with React"},{"id":"9265219","user":"bollwyvl","description":"A fishbone editor"},{"id":"9239214","user":"bollwyvl","description":"d3 fishbone"},{"id":"9572040","user":"dbuezas","description":"Pie Chart Labels with missing data"},{"id":"5126418","user":"mbostock","description":"New Jersey State Plane"},{"id":"4573883","user":"mbostock","description":"Threshold Key"},{"id":"9417919","user":"StewartNoyce","description":"D.C. Choropleth"},{"id":"3886208","user":"mbostock","description":"Stacked Bar Chart"},{"id":"950642","user":"mbostock","description":"Labeled Force Layout"},{"id":"9746652","user":"erkal","description":"Directed Links with Polygons"},{"id":"9746628","user":"erkal","description":"Mobile Patent Suits with Polygon Links"},{"id":"7607535","user":"mbostock","description":"Zoomable Circle Packing"},{"id":"7090426","user":"kerryrodden","description":"Sequences sunburst"},{"id":"9845999","user":"milroc","description":"Fitts\'s Bar, II"},{"id":"9842179"},{"id":"9842284"},{"id":"9842512","user":"milroc","description":"Fitts\'s Bar, I"},{"id":"9871234","user":"erkal","description":"General Update Pattern with playButton"},{"id":"9871048","user":"erkal","description":"playButton"},{"id":"9914167","user":"erkal","description":"waitAndEval II"},{"id":"9912897","user":"erkal","description":"waitAndEval"},{"id":"4282586","user":"mbostock","description":"Three-Axis Rotation"},{"id":"9733594","user":"VisDockHub","description":"VisDock in Stacked Bar Chart"},{"id":"9972460","user":"Sumbera","description":"Another brushing with d3"},{"id":"11085004","user":"monfera","description":"circinus b"},{"id":"3795544","user":"mbostock","description":"Adaptive Resampling"},{"id":"5732029","user":"mbostock","description":"Line Simplification"},{"id":"4090846"},{"id":"4163057","user":"mbostock","description":"Gradient Along Stroke"},{"id":"10990305","user":"danharr","description":"Remote football stadiums (with labels)"},{"id":"10989553","user":"danharr","description":"Most remote football stadiums"},{"id":"10527804","user":"monfera","description":"circinus"},{"id":"5731632","user":"mbostock","description":"Orthographic to Equirectangular"},{"id":"1256572","user":"mbostock","description":"D3 Show Reel"},{"id":"6574995","user":"ndarville","description":"Party Trend (Single-Party Display)"},{"id":"7e8e57368175a1433791","user":"Sumbera","description":"SVG scaled overlay in Leaflet "},{"id":"11273546","user":"radiocontrolled","description":"Interactive thermometer, version 2"},{"id":"9885869","user":"radiocontrolled","description":"Interactive thermometer"},{"id":"ce9c2deb92042df13179","user":"georules","description":"oh yes spiral"},{"id":"6958e230e69a377620e3","user":"georules","description":"oh yes spiral"},{"id":"d67e0c64f0cb392f8a78","user":"georules","description":"wankel spiral"},{"id":"3cc1a2a289dddbd64688","user":"curran","description":"Fundamental Visualizations"},{"id":"c8b4472a648b08a26720","user":"vicapow","description":"fresh block"},{"id":"a23f857ee922bea4bded","user":"vicapow","description":"fresh block"},{"id":"818723e652995b6c110d","user":"vicapow","description":"fresh block"},{"id":"310c99e53880faec2434","user":"mbostock","description":"A Less-Angry Rainbow"},{"id":"76342abc327062128604","user":"mbostock","description":"Color Mesh II"},{"id":"3150059","user":"syntagmatic","description":"Nutrient Parallel Coordinates"},{"id":"eb9cddd11657887e1e0d","user":"saraquigley","description":"Curriculum Exploration"},{"id":"5194141","user":"saraquigley","description":"Issue Breakdown"},{"id":"c256fda4965d38e7c59b","user":"syntagmatic","description":"Hexbin Heightmap Transitions"},{"id":"1092fe86860def004ea7","user":"syntagmatic","description":"Hexbin Heightmap"},{"id":"3289530","user":"mbostock","description":"Heightmap"},{"id":"4248145","user":"mbostock","description":"Hexagonal Binning"},{"id":"280d83080497c8c13152","user":"mbostock","description":"Connected Particles III"},{"id":"b3831331f475fdcb13df","user":"mbostock","description":"Poisson-Disc V"},{"id":"9c87aed9a53a3ff20e29","user":"enoex","description":"Poisson-Disc V"},{"id":"e7a13ff417ff5257a067","user":"enoex","description":"Poisson-Disc V"},{"id":"1af08ad6cdb01707c33f","user":"curran","description":"Chiasm Boilerplate"},{"id":"60b40877ef898f19aeb8","user":"curran","description":"Standalone Line Chart"},{"id":"3887235","user":"mbostock","description":"Pie Chart"},{"id":"134ed87c99257e3f2e31","user":"curran","description":"Standalone Scatter Plot"},{"id":"0e57e7fff27f2eee431f","user":"enoex","description":"Fundamental Visualizations"},{"id":"7e830bd65ad749237e4d","user":"enoex","description":"data yoga 1"},{"id":"620ebec1c2841ea5a929","user":"enoex","description":"breathe"},{"id":"4188334","user":"jasondavies","description":"World Map"},{"id":"6123708","user":"mbostock","description":"Drag + Zoom"},{"id":"8beea1d918ff4104f9ab","user":"d3noob","description":"Simple Difference Chart"},{"id":"e5daff57a04c2639125e","user":"d3noob","description":"Favorite tooltip (simple version)"},{"id":"3902569","user":"mbostock","description":"X-Value Mouseover"},{"id":"4618602"},{"id":"c2637e28b79fb3bfea13","user":"d3noob","description":"Sankey diagram from formatted JSON"},{"id":"38744a17f9c0141bcd04","user":"d3noob","description":"Simple scatterplot with d3.js"},{"id":"473f0cf66196a008cf99","user":"d3noob","description":"Simple graph and table using d3.js"},{"id":"7030f35b72de721622b8","user":"d3noob","description":"Update d3.js data with button press"},{"id":"4ad06b0d9ee2a390eb20","user":"sampathweb","description":"datasana #1"},{"id":"2efd8084d345dd23ef96","user":"sampathweb","description":"datasana #circles"},{"id":"29a00092e4dbb7c659f7","user":"sxywu","description":"visfest block visualization"},{"id":"b3b3ff937241182ee67e","user":"sxywu","description":"visfest block visualization 2"},{"id":"33bc932b850792e832f8","user":"sxywu","description":"How D3 Transitions Work, Pt. 1: d3.interpolate"},{"id":"3a81930c054bb8ee39bf","user":"sxywu","description":"How D3 Transitions Work, Pt. 2: d3.interpolate with multiple elements"},{"id":"779f2db53e1e365e98d4","user":"curran","description":"Density-based Ticks"},{"id":"28f1fbeb41df9753e120","user":"syntagmatic","description":"Issue Breakdown"},{"id":"002ef2fb5c1dc2df5821","user":"syntagmatic","description":"Hexbin Canvas Transitions"},{"id":"1308257","user":"mbostock","description":"The Euro Debt Crisis"},{"id":"433a9b04f82a1c78af4b","user":"emeeks","description":"Modal Infoboxes - d3.carto.map"},{"id":"6746848","user":"mbostock","description":"See-Through Globe"},{"id":"c88435cb568dcaf11308","user":"emeeks","description":"Non-Rotating SVG Transparent Globe"},{"id":"29bccce80df0f253c97e","user":"syntagmatic","description":"Quantile, Quantize, Threshold Scales"},{"id":"6769077","user":"syntagmatic","description":"Github Users Worldwide"},{"id":"6419716","user":"syntagmatic","description":"Force-directed Splitting"},{"id":"0d1635533f6fb5ac4da3","user":"syntagmatic","description":"Nutrient Parallel Coordinates II"},{"id":"895eb781d88148cfd8e5","user":"syntagmatic","description":"Clock"},{"id":"ba569633d51ebec6ec6e","user":"syntagmatic","description":"Comparing Map Projections"},{"id":"8fadc5ac9c2a9e7c5ba2","user":"mbostock","description":"Map Pan & Zoom I"},{"id":"7352810","user":"linssen","description":"Programmatically and smoothly zoom to the centre."},{"id":"c2cc7242c8f800c736c4","user":"mgold","description":"Zoom Buttons I"},{"id":"bbc451a7b9f902954e7c","user":"mgold","description":"Zoom Buttons II"},{"id":"81271937fa94fdbdd854","user":"curran","description":"Migrant Deaths Map (direct)"},{"id":"87d038562333a7ad4a64","user":"curran","description":"Crossfilter & Chiasm"},{"id":"47aceae44bb5f8b63d7b","user":"boeric","description":"Deaths of Migrants"},{"id":"60eec0e1727c6c628728","user":"shobhitg","description":"Migrants-Deaths-Visualization"},{"id":"3943967","user":"mbostock","description":"Stacked-to-Grouped Bars"},{"id":"752b97cef3f880a813ab","user":"curran","description":"World City Explorer"},{"id":"a931688fa8cb65db4079","user":"curran","description":"Magic Bar Chart (Browserified)"},{"id":"b6e1d23c16dc76371a92","user":"curran","description":"Magic Bar Chart"},{"id":"2c736a99c2f57bfac7e4","user":"curran","description":"Margin Convention with Model.js"},{"id":"87d5dd02739089986d4a","user":"curran","description":"fresh block"},{"id":"3a68b0c81991e2e94b19","user":"curran","description":"Responding to Resize"},{"id":"d1e9ea2850047562be09","user":"curran","description":"Focus + Context Scatter Plots"},{"id":"cf4b98fff0517ca04667","user":"curran","description":"Scatter Plot Zooming"},{"id":"ba63c55dd2dbc3ab0127","user":"mbostock","description":"This Is a Globe"},{"id":"e2744ee563f7cab80350"},{"id":"bd552e711b8325c64729","user":"enjalot","description":"visualizing map distortion"},{"id":"66d926fe73211fd650ec","user":"curran","description":"Towards Reusable Charts Example"},{"id":"8033015","user":"mbostock","description":"Multi-Line Voronoi"},{"id":"5577023","user":"mbostock","description":"Every ColorBrewer Scale"},{"id":"5537697","user":"mbostock","description":"Log Axis"},{"id":"a22c42db65eb00d4e369","user":"d3noob","description":"Simple d3.js tooltips"},{"id":"9e04ccfebeb84bcdc76c","user":"curran","description":"Scatter Plot"},{"id":"4ce2ee825811f1c32125","user":"curran","description":"Chiasm Bar Chart and Line Chart"},{"id":"3b811f05a0ce39d0d7cd","user":"curran","description":"Data Canvas Part 4 - Colors"},{"id":"015d34d6d3d562877e51","user":"curran","description":"Data Canvas Part 3 - Bar Chart"},{"id":"015402cce2caa074551e","user":"curran","description":"Data Canvas Part 2 - Line Chart"},{"id":"dd73d3d8925cdf50df86","user":"curran","description":"Picking N Colors Automatically"},{"id":"5905182da50a4667dc00","user":"curran","description":"Reactive Flow Diagram"},{"id":"5f255332a9dcb9906f84","user":"curran","description":"Data Canvas Part 1 - Data"},{"id":"0854f60e489b5ee6e11a","user":"herrstucki","description":"Animating Circles (D3 & SVG)"},{"id":"40a7be58639daf5d510e","user":"herrstucki","description":"Animating Circles (React & SVG)"},{"id":"dc5be7c1d700eb6ecf46","user":"herrstucki","description":"Animating Circles (Canvas)"},{"id":"b6bdb82045c2aa8225f5","user":"susielu","description":"Annual Temp - New York 2015"},{"id":"2fffa9abe50ac97603c7","user":"emeeks","description":"Brushable Radial Chart"},{"id":"95800d30829ab8ab4ba6","user":"zeffii","description":"stage fright"},{"id":"b602b35c682ec69b9025","user":"zeffii","description":"stage fright 2"},{"id":"f2aff83148a5f64f3222","user":"micahstubbs","description":"Animated ROC Chart"},{"id":"f1b4a29749408dd826ef"},{"id":"465725cdc547c7cc8491","user":"micahstubbs","description":"radar chart with smallest area on top"},{"id":"44bb05aab218a40a4c12","user":"micahstubbs","description":"radar chart for nested data"},{"id":"2975320","user":"ZJONSSON","description":"barStack - stacking with negative values"},{"id":"6100713"},{"id":"a40254b6cb914018ff81","user":"micahstubbs","description":"stacking with negative values"},{"id":"5661984","user":"cloudshapes","description":"Dotted Path Following the Mouse"},{"id":"eda532b01c24bf4ac1d6","user":"timelyportfolio","description":"BioFabric in R as an htmlwidget with d3.js"},{"id":"7148ee2a60a09fed0b43","user":"timelyportfolio","description":"biofabric as an rstats htmlwidget - pre-alpha"},{"id":"a6916e88484f962d8f95","user":"timelyportfolio","description":"R | Norvig\'s English Letter ngrams with sunburstR (d3.js sequence sunburst htmlwidget)"},{"id":"3793462de638478937"},{"id":"d6658135f11023171587","user":"timelyportfolio","description":"R base graphics plot using stateface from propublica"},{"id":"58f8fe3e167ef47145d0","user":"timelyportfolio","description":"R + d3.js Parallel Coordinates of partykit ver 2 with interactive querying"},{"id":"d4ff502dc32b5b04eae4","user":"timelyportfolio","description":"R + d3.js Parallel Coordinates of partykit"},{"id":"adc2dfee7aef48ce5485","user":"timelyportfolio","description":" rCharts + d3.js view of rpart with sankey-like link width"},{"id":"7880033","user":"robschmuecker","description":"D3.js Drag and Drop, Zoomable, Panning, Collapsible Tree with auto-sizing."},{"id":"782b91b09326541a0fc8"},{"id":"a5df8dc94786a27d6420","user":"enjalot","description":"datasana #1"},{"id":"859c7b7150c81cc512b3","user":"rcrocker13","description":"datasana #1"},{"id":"67648b87e80fbc31ad20","user":"arrayjam","description":"Overlapping Geographic Circles"},{"id":"5c4288aa30de1b949433","user":"arrayjam","description":"Non-Overlapping Geographic Circles"},{"id":"5348789","user":"mbostock","description":"Concurrent Transitions"},{"id":"7ef773bdf11999c9eebb","user":"maartenzam","description":"Responsive map with Cartodb/Leaflet"},{"id":"1a5e8d77ae8feb464167","user":"asielen","description":"Violin Plot + Box Plot v2"},{"id":"d15a4f16fa618273e10f","user":"asielen","description":"Reusable Violin + Box Plot"},{"id":"5014368"},{"id":"6506614","user":"nbremer","description":"D3.js - Radar Chart or Spider Chart - Adjusted from radar-chart-d3"},{"id":"3a33bfdeda5b8f8c8cd2","user":"nbremer","description":"Text on an Arc - Animal Donut Slices - Default Arc Labels"},{"id":"b603c3e0f7a74794da87","user":"nbremer","description":"Text on an Arc - Animal Donut Slices - Flipped & Centered Arc Labels"},{"id":"7b051187fe329d705ee9","user":"nbremer","description":"Text on an Arc - Animal Donut Slices - Centered Arc Labels"},{"id":"25e2db4abc9eaf080190","user":"nbremer","description":"Text on an Arc - Animate from a Wavy line to an Arc"},{"id":"3916621","user":"mbostock","description":"Path Tween"},{"id":"bf3d285e48189507e0ea","user":"nbremer","description":"Text on an Arc - Animate from Arc to an Arc"},{"id":"f9dacd23eece9d23669c","user":"nbremer","description":"Stretched Chord Diagram - From educations to occupations"},{"id":"5b16c2a5716d346e2f34","user":"nbremer","description":"Stretched Chord - Step 4 - How to pull the two halves apart"},{"id":"c11409af47b5950f0289","user":"nbremer","description":"Stretched Chord - The Final Result - Including the hover effects"},{"id":"2e10bf27fa0f9f49588b","user":"nbremer","description":"Stretched Chord - Step 3 - Different Color Scheme"},{"id":"b99e416bd99fc0191b50","user":"nbremer","description":"Stretched Chord - Step 5 - How to make the chords touch the pulled apart arcs again"},{"id":"dcd01f820aa098133596","user":"nbremer","description":"Stretched Chord - Step 3 - How to make the two sections symmetrical"},{"id":"8295697aee7844da2299","user":"nbremer","description":"Stretched Chord - Step 2 - How to create an empty section in between the two halves"},{"id":"1527c2dd26a26d9ee942","user":"nbremer","description":"Stretched Chord - Step 1 - How to set up a Chord Diagram matrix to show Flows"},{"id":"f6952f1ef900d84be918","user":"nbremer","description":"Gooey Effect - Line"},{"id":"69808ec7ec07542ed7df","user":"nbremer","description":"Gooey Effect - Circle"},{"id":"a3684c52fb527c8fa415","user":"nbremer","description":"Gooey effect - Rectangle"},{"id":"8e25e1434cdd6db25b69","user":"nbremer","description":"Valentine\'s day Heart curve"},{"id":"df7f87361bb7e297e751","user":"nbremer","description":"Valentine\'s day Heart curve - One Line"},{"id":"2b1446f496c3968f6ecd","user":"enjalot","description":"Stacked-to-Grouped Police Killings"},{"id":"7833311","user":"mbostock","description":"Dynamic Hexbin"},{"id":"f3225fa363fbaccb8c9e","user":"enjalot","description":"visfest experiment #1"},{"id":"a74519c5a055b2903b41","user":"enjalot","description":"visfest experiment #2"},{"id":"98cf105e8531ff12013b"},{"id":"e7f4634cd71473c9658c"},{"id":"f8c41743ca81d7828c3a","user":"enjalot","description":"visfest experiment #3"},{"id":"7492cc85b1311f69ba3f","user":"enjalot","description":"morph experiment #1"},{"id":"02ac156db28e61ff20bb","user":"enjalot","description":"morph experiment #2"},{"id":"ebda1656976d90e2a636","user":"enjalot","description":"morph experiment #3"},{"id":"20d4098ce7ed88dde5c4","user":"enjalot","description":"viSFest logo: small multiples"},{"id":"7ea44d0bc364b6bddbd8","user":"enjalot","description":"The Migrant Files: Deaths"},{"id":"d6696d28fb47fcf8a537","user":"enjalot","description":"The Migrant Files: Deportations"},{"id":"d6a92a077e78fd33316a","user":"enjalot","description":"The Migrant Files: Money"},{"id":"157333662ef11c151080","user":"mbostock","description":"Connected Particles"},{"id":"7f14a531dec565ca0884","user":"vicapow","description":"WebGL + d3.layout.force"},{"id":"4bd6d92fd553bb9bac11","user":"enjalot","description":"sparse matrix zoo"},{"id":"42a531c5d87bfc91036e","user":"enjalot","description":"sparse matrix zoo: canvas"},{"id":"5109a9fbd5f9a7230f17","user":"enjalot","description":"hilbert grid"},{"id":"77cfa8eb62e34833ae7c","user":"enjalot","description":"hilbert grid marching"},{"id":"e662bb2e2c0783ee82f9","user":"enjalot","description":"hilbert grid creeping"},{"id":"6ac67b0d8ed673c9aa61","user":"enjalot","description":"all the blocks"},{"id":"1d679f0322174b65d032","user":"enjalot","description":"block wall"},{"id":"211bd42857358a60a936","user":"enjalot","description":"block wall: thumbnails only"},{"id":"7b63fef8ccfbad1f851e","user":"enjalot","description":"block wall: thumbnails hilbert"},{"id":"1554783","user":"jasondavies","description":"alpha-shapes aka concave hulls in d3"},{"id":"27969219a945e2bd20dc","user":"enjalot","description":"d3.geo.weichel"},{"id":"c1f459768d09e0c334c1","user":"enjalot","description":"cosine similarity"},{"id":"c741995e777c0e089418","user":"enjalot","description":"copy paste aesthetic"},{"id":"01aa2685f083b6c1b9fb","user":"curran","description":"Map & Globe"},{"id":"eec4a6cda2f573574a11","user":"mbostock","description":"Map Pan & Zoom II"},{"id":"618daab0fc5a3ff494d9","user":"enjalot","description":"中文: simplified characters"},{"id":"a9a3b146cfe63ab68a6b","user":"enjalot","description":"中文: traditional characters"},{"id":"65ae9c0fc95337107448","user":"enjalot","description":"matrix: reboot"},{"id":"bc38c32d24e6fba4db84","user":"emeeks","description":"Sketchy Network II"},{"id":"3887051","user":"mbostock","description":"Grouped Bar Chart"},{"id":"e285b8e4c7b84710e463"},{"id":"a7c02c493896a33d5f37","user":"bricedev","description":"Diverging Stacked Bar Chart (odd)"},{"id":"f80fdbc2c03dbc1ae4e8","user":"bricedev","description":"Diverging Stacked Bar Chart (even)"},{"id":"1377729","user":"MoritzStefaner","description":"Force-based label placement"},{"id":"5653692","user":"djjupa","description":"Collapsible force layout with directed paths and images/text in the nodes. "},{"id":"4679202","user":"mbostock","description":"Stacked-to-Multiples"},{"id":"4063663","user":"mbostock","description":"Scatterplot Matrix Brushing"},{"id":"1fa21f4ccf084f6369d3","user":"enjalot","description":"hull padding"},{"id":"298e07ea67a640b5d9f4","user":"emeeks","description":"Orbit Layout 4"},{"id":"d8b1c5f7bc975de83d99","user":"emeeks","description":"Orbital Layout 3"},{"id":"8e73290130d9e25c6d9c","user":"emeeks","description":"Orbital Layout 2"},{"id":"7d5925cb7d9721c60360","user":"emeeks","description":"Quadtree clustering - d3.carto.map"},{"id":"540b1b884b80b14a44c6","user":"emeeks","description":"Improved Circle Pack Clustering - d3.carto"},{"id":"1a75ec54489368b514f8","user":"emeeks","description":"Feature Clustering - d3.carto"},{"id":"905bb4f399e0855e08fe","user":"emeeks","description":"Custom Infobox Formatter - d3.carto.map"},{"id":"f8c0220c54ec8347ea95","user":"emeeks","description":"Changing Markers - d3.carto"},{"id":"aea3c7fc1acc0eca4d44","user":"emeeks","description":"Styling Canvas Elements - d3.carto"},{"id":"e6f72fbca42e77be0eb3","user":"emeeks","description":"Canvas Styling (Transform) - d3.carto"},{"id":"0ad500de10f9edfe5d15","user":"zanarmstrong","description":"Time Data"},{"id":"23137b412caf6e80b34a","user":"zanarmstrong","description":"Jittery Line w/ option to choose interpolation"},{"id":"dcfcc3887ff56a9e1928","user":"Sumbera","description":"SVG default overlay in Leaflet v 1.0"},{"id":"11114288","user":"Sumbera","description":"Leaflet Canvas Overlay"},{"id":"b57f4cc89dacd38fcdcd","user":"emeeks","description":"circularbrush.filter"},{"id":"9265674","user":"mbostock","description":"Mexico"},{"id":"6a83de20f780b42fadb9","user":"boeric","description":"D3 Real Time Chart with Multiple Data Streams"},{"id":"3b57a788a4b96e1af211","user":"boeric","description":"D3 Based Real Time Chart"},{"id":"e16ad218bc241dfd2d6e","user":"boeric","description":"D3 Dynamic Array of Tables"},{"id":"9643738d5f79c7b594d0","user":"hugolpz","description":"Map zoom + responsive frame"},{"id":"c89a76096c070a5a7d23","user":"hugolpz","description":"Map zoom + static frame"},{"id":"1014829","user":"mbostock","description":"External SVG"},{"id":"91254c459602b31ba549","user":"syntagmatic","description":"Curriculum Exploration"},{"id":"914d024adf10bface11a","user":"dhoboy","description":"Gately Tree"},{"id":"8027637","user":"mbostock","description":"Closest Point on Path"},{"id":"8027835","user":"mbostock","description":"Closest Point on Path II"},{"id":"06af5f439f24bf28aec0","user":"hwangmoretime","description":"Point Tracking for Non-Linear Lines: I"},{"id":"06aa7e108b77745f1f24","user":"hwangmoretime","description":"Point Tracking for Non-Linear Lines: II"},{"id":"da8e72b5e680c827d6dd","user":"hwangmoretime","description":"Point Tracking for Non-Linear Lines: III"},{"id":"98129315d0f7df3b53e3","user":"1wheel","description":"Scatter I"},{"id":"7e473c251e68ce760e2a","user":"1wheel","description":"Scatter II"},{"id":"3dfee2b74943398f0550","user":"1wheel","description":"Scatter III"},{"id":"f0b021b0a56fee82dd97","user":"nitaku","description":"Tangled tree II"},{"id":"5fb51700f991e4101773","user":"nitaku","description":"Tangled tree"},{"id":"8822395"},{"id":"8746032","user":"nitaku","description":"Basic force layout (ID-based, zoomable, fixed random seed)"},{"id":"833632f23c308ae2d58b","user":"nitaku","description":"Isometric treemap (flare)"},{"id":"a8aa67de3cd9f2e0554e","user":"nitaku","description":"Tree colors (sunburst, DBpedia)"},{"id":"d7cbf8fd96ce42fed36d","user":"nitaku","description":"Duck Islands (Pink Floyd)"},{"id":"3db48ae4c663ca028a6f","user":"nitaku","description":"Duck Similarity (Galileo)"},{"id":"8f96bf393b94caff688b","user":"nitaku","description":"Isometric projection"},{"id":"3424eed86f55550622ef","user":"nitaku","description":"Labeled treemap (flare)"},{"id":"6210bd80bdd20181e1f4","user":"nitaku","description":"Isometric word cloud"},{"id":"e03a1a5c1a4a95f06c3b","user":"nitaku","description":"Isometric \\"treemap\\""},{"id":"79f16392f7e1bed77f07","user":"nitaku","description":"Word cloud treemap (flare)"},{"id":"0c991d6ed0e994e1c7ed","user":"nitaku","description":"Node Gosper hex tiling"},{"id":"ce638f8bd5e70cb809e1","user":"nitaku","description":"Node Gosper curve"},{"id":"1036b853c3f52b8994a4","user":"nitaku","description":"Gosper hex tiling irregularity"},{"id":"cd8e12c7a18495980bd0"},{"id":"d8c76dfc03589e6dbf1f","user":"nitaku","description":"Half matrix for symmetrical relations"},{"id":"5c5078b3cc3e54e4fec2","user":"nitaku","description":"A classic comparison"},{"id":"4afb54600dc9328d14bd","user":"nitaku","description":"Gosper Displacement"},{"id":"d3fd26207d7468b6c514","user":"nitaku","description":"Classic hexagonal binning"},{"id":"bf5c4ea014d0b91f1f04","user":"nitaku","description":"Classic hexagonal binning II"},{"id":"2d502924bad6152acbe5","user":"nitaku","description":"Basic treemap (flare)"},{"id":"564fcb398fdad08442c1","user":"nitaku","description":"Node-link circular layout: Sankey links"},{"id":"a50ccec1c202731fa8f1","user":"nitaku","description":"Node-link polar layout: curved links"},{"id":"6354551","user":"nitaku","description":"Flowlines"},{"id":"230ff9a14751b8f3092d"},{"id":"a161bdb59b9dcec9a32e","user":"nitaku","description":"Node-link polar layout"},{"id":"d5fc7956ba6896330ea1","user":"nitaku","description":"Node-link polar layout with centrality (eigenvector)"},{"id":"70da709633904c6de9d9","user":"nitaku","description":"Pie vs. pie"},{"id":"16933e96f51571fbbcd6","user":"nitaku","description":"Random(ish) polygon"},{"id":"8543484"},{"id":"dcce9b645783d5239a04","user":"nitaku","description":"FASS spiral (L-system)"},{"id":"bffd66a05d5bf04aefa7","user":"nitaku","description":"Hilbert spiral (L-system)"},{"id":"e2af207bc46782aa460c","user":"nitaku","description":"Hilbert sequence (L-system)"},{"id":"8b9e134ca8bae13bb470","user":"nitaku","description":"Square spiral (L-system)"},{"id":"c3d1662948a049fc80dd","user":"nitaku","description":"Hex spiral (L-system)"},{"id":"11337491","user":"mbostock","description":"Rainbow Luminance"},{"id":"5171361"},{"id":"4360c8ac1dcaee373113","user":"darosh","description":"2D with stacksgl"},{"id":"a71ff1c9d6e163e2faea","user":"darosh","description":"Benchmark"},{"id":"14e2e4e14898f13e13c7","user":"darosh","description":"Planetary Grid Browser I"},{"id":"7b816a50e66bb62208a7","user":"darosh","description":"Planetary Grid Browser II"},{"id":"0444bdd92c1f968c75ef","user":"darosh","description":"Zoom to Group of Countries III"},{"id":"f5204d3d85bdaa1fd6ea","user":"darosh","description":"Zoom to Group of Countries II"},{"id":"baf7dd8d481d83b7f37e","user":"darosh","description":"Zoom to Group of Countries"},{"id":"2d12a584a14910032ab8","user":"darosh","description":"Planetary Grid"},{"id":"2bab520665d975780931","user":"darosh","description":"Rotating Planetary Grid"},{"id":"2fe464efd794bde5ed68","user":"darosh","description":"Hexakis Icosahedron"},{"id":"3055104","user":"mbostock","description":"Icosahedron"},{"id":"4b6ab7914183dbf7a16f","user":"zanarmstrong","description":"Adaption of Jfire.io animation, for teaching purposes"},{"id":"3b5f766647e15e23e5b8","user":"zanarmstrong","description":"Stripped adaptation of Jfire.io animation, for teaching purposes"},{"id":"56aa8232fb56247094ae","user":"zanarmstrong","description":"Bar Chart: stripped easier"},{"id":"172a6a53ddbce792b10d","user":"zanarmstrong","description":"visualization template based on mouse input"},{"id":"671c0e7adfb1ce7060b8","user":"emeeks","description":"Simple Correlation Matrix"},{"id":"5cce4b8ca41650f14bb4","user":"sxywu","description":"Image processing fun #1"},{"id":"515f713d41186e18e384","user":"sxywu","description":"Image processing fun #2"},{"id":"680375cb6a66760ea011","user":"sxywu","description":"Image processing fun #3"},{"id":"98f56f3e840143a4eccf","user":"emeeks","description":"Treemap"},{"id":"c5f71b45dbd87402e6f2","user":"micahstubbs","description":"County Treemap I"},{"id":"58f360e13a4397bf3dad","user":"jjelosua","description":"d3intro_ex02"},{"id":"fe38f5960d1276833555","user":"jjelosua","description":"d3intro_ex03"},{"id":"9358409","user":"sxywu","description":"Enter-Update-Exit in Force Layout"},{"id":"4063326","user":"duopixel","description":"Animate path in D3"},{"id":"4063318","user":"mbostock","description":"Calendar View"},{"id":"51ccb8b4f111ef4aec1c","user":"zanarmstrong","description":"Stripped adaptation of Jfire.io animation, for teaching purposes: more difficult"},{"id":"5446416","user":"mbostock","description":"Milky Way"},{"id":"de262983e3ba0c0f89c1","user":"enjalot","description":"block colors"},{"id":"0d2e658691a4f93cad92","user":"nbremer","description":"A SOM Clustering of block Colors - Including HSL & RGB"},{"id":"6f26d011aebc4c75272b","user":"ufenegga","description":"sin(2t), radial projection"},{"id":"bb29b599bce91048ec40","user":"ufenegga","description":"Radial line generator, interpolation from an empty array"},{"id":"037488ed37f0e1cbfe32","user":"emeeks","description":"Another UI Voronoi"},{"id":"29cc3cc4078091fd2115","user":"mbostock","description":"State Grid"},{"id":"8ba86c4fded2c67b34c7","user":"sxywu","description":"Image processing fun #4"},{"id":"53c6d59ea70afaf19cf1","user":"nicksrandall","description":"KotoJS BarChart (ES2015)"},{"id":"58457ea613b84f7544b1","user":"nicksrandall","description":"KotoJS BarChart (ES5)"},{"id":"5c136de85de1c2abb6fc","user":"timelyportfolio","description":"demo programmatic control of a d3 brush"},{"id":"a8d01671b04b326d36de","user":"ufenegga","description":"Satellite Projection Explorer"},{"id":"07ed66cc6fc394d6ea53","user":"jonsadka","description":"Binomial Probability Density"},{"id":"d7e4f9199c15d71258b5"},{"id":"667e4df76848e72f250b","user":"nbremer","description":"Zoomable Circle Packing with Canvas & D3.js - I"},{"id":"5a801d9153059b226bbd","user":"nbremer","description":"Circle Packing at its most Basic - Canvas only"},{"id":"db24422abdb20150a9dd","user":"nbremer","description":"Zoomable Circle Packing with Canvas & D3.js - II"},{"id":"4b42493b70dbc9e1ce02","user":"nbremer","description":"A SOM Clustering of block Colors - Including RGB"},{"id":"a35687613ab0f4991f37"},{"id":"cc818fff7a1049cc0efe","user":"enjalot","description":"The Migrant Files: Money by Route"},{"id":"80097d54d4ec4ce83222","user":"zzolo","description":"A scatter plot"},{"id":"89de858deaf6f8fc78ba","user":"zzolo","description":"A scatter plot"},{"id":"15f52d2ec0b035b53c6f","user":"Jay-Oh-eN","description":"Civic Impact through Data Visualization: Exercise 1"},{"id":"34d2ce39d3b8c2f8a577","user":"malcolm-decuire","description":"American Lynches"},{"id":"19a3f0afed794cf720b3"},{"id":"40f0f319001394b5f8af","user":"curran","description":"Lynchings by State Pie Charts"},{"id":"f1a875885437608d17e8","user":"curran","description":"Lynchings by State Pie Charts First Attempt"},{"id":"e025a50dbaae7186e516","user":"curran","description":"Sized Pie Charts"},{"id":"11b02f8917fac66d6fe5","user":"curran","description":"Donut Chart Small Multiples"},{"id":"40d5e61963abf20da067","user":"curran","description":"Polar Area Small Multiples"},{"id":"be3744cfe1b318bf4035","user":"curran","description":"Pie Chart Small Multiples"},{"id":"3757119","user":"mbostock","description":"Equirectangular (Plate Carrée)"},{"id":"14e29858efdd19253787"},{"id":"1da93bab4cdc708f41ae","user":"curran","description":"Blocks Graph"},{"id":"d0a42741ce0cf6cdc3ab","user":"curran","description":"Sized Donut Charts"},{"id":"94f1376b946c9d217014","user":"curran","description":"Polar Area Diagram"},{"id":"1c23d9c7070deb6f8488","user":"curran","description":"Religions Pie Chart"},{"id":"950cbe78b4c307fa14a1","user":"curran","description":"Using d3-legend"},{"id":"805413fb3b2efaada1ce","user":"curran","description":"Stacked Bars"},{"id":"b66a37afe6581eb5bc0c","user":"zanarmstrong","description":"D3 Bingo! (Zan)"},{"id":"6daa5503fc60d4a89a11","user":"zanarmstrong","description":"D3 Bingo!"},{"id":"666179ad5587254694bc","user":"enoex","description":"Styled Map 1 - Working"},{"id":"010ffad3577afec10ef6","user":"enoex","description":"Styled Map 2 - Broken by default"},{"id":"92abca0ebac031d77521","user":"enoex","description":"Styled Map 1 - Working"},{"id":"e749224c89f82788cb18","user":"emeeks","description":"Sankey Particles III"},{"id":"9673c96a682fe3948379","user":"emeeks","description":"Sankey Particles II"},{"id":"21f99959d48dd0d0c746","user":"emeeks","description":"Sankey Particles"},{"id":"4403522","user":"mbostock","description":"Rotated Axis Labels"},{"id":"3176159","user":"phoebebright","description":"D3 using nest on csv data"},{"id":"0055d87cfaecc5b06cd2","user":"hsuttong","description":"d3 first transition"},{"id":"835c17a94abade5c2ca1","user":"hsuttong","description":"d3 first svg"},{"id":"4a7f517bec51adc6e7bc","user":"hsuttong","description":"d3 first bar plot"},{"id":"be4a45ec74357e7d9b10","user":"curran","description":"Blocks Graph with Links"},{"id":"ebec037138b5866ff0d3","user":"syntagmatic","description":"Breathing Color Mesh"},{"id":"c21840890a4790632124","user":"enjalot","description":"Connected Particles: Lasers"},{"id":"be2abfb3155a38be4de4","user":"eesur","description":"d3 | Force layout with images"},{"id":"3cda05ca68cba260cb81","user":"micahstubbs","description":"programmatic control of a d3 brush - specify zoom"},{"id":"7b226e90c7338c69606b","user":"enjalot","description":"matrix: rotations"},{"id":"d5252d37917ab6eab032","user":"curran","description":"Focus + Context Area Charts"},{"id":"92248ec5049ba86bf125","user":"geraldarthur","description":"State Grid Choropleth"},{"id":"78b10a3836254f8b6d8e","user":"geraldarthur","description":"JSON to Grid Choropleth"},{"id":"2ceaea7f0a4e37ca5a5d","user":"sxywu","description":"Image processing fun #5"},{"id":"2aead353c3446ee9acca","user":"sxywu","description":"Image processing fun #6"},{"id":"f2f6883ac7c965d09b90","user":"emeeks","description":"Networks - Graphs 7"},{"id":"daf6bc9db8b0a28e3973","user":"curran","description":"Blocks Graph Edges Only"},{"id":"db1e524cae5e4344b2e6","user":"curran","description":"Dynamic Size"},{"id":"6c0ce7a12c7d5497350d","user":"curran","description":"Multi-Line Voronoi 2015"},{"id":"a61e208c37ea177cf83a","user":"patricknelli","description":"Civic Impact through Data Visualization: Exercise 1"},{"id":"b6e4ec3859b2f732dfc0","user":"nbremer","description":"Circle Packing at its most Basic - Canvas & D3.js "},{"id":"8a7f9bed9715c0eb678a","user":"maartenzam","description":"Responsive CartoDB choropleth linked to strip plot"},{"id":"d1c32b2e77120f560061","user":"nitaku","description":"Arc Diagram II"},{"id":"00e6248efe5605c1fa5c","user":"jonsadka","description":"Conversion rates"},{"id":"66eee134d6fd3babb716"},{"id":"018e79e4b62e86dfd988","user":"altocumulus","description":"Ruiz globe"},{"id":"2920551","user":"donaldh","description":"force-multi-foci with convex hulls"},{"id":"00336c9eb59ee956426d","user":"newsummit","description":"force-multi-foci with convex hulls"},{"id":"ea64575d70ecf3354874","user":"xaranke","description":"income_categories"},{"id":"b5df5023965f65719d7a"},{"id":"93297e55e7535dd833a1","user":"xaranke","description":"538_RTs"},{"id":"23b5bc37d39c9f9dd5e7","user":"xaranke","description":"538_links"},{"id":"8be32e6f1f32920ba841","user":"enjalot","description":"aframe + d3 test"},{"id":"a3ee04578325668bd3f8","user":"EE2dev","description":"item explorer - demo"},{"id":"5a4ab3ca8b3b7b57d234","user":"EE2dev","description":"item explorer - data format - example 1"},{"id":"0f7abbfc6ab01513d89a","user":"EE2dev","description":"item explorer - data format - example 2"},{"id":"d9ad0499316f09c598a3","user":"EE2dev","description":"item explorer - data format - example 3"},{"id":"2a7a31815153d26b39f6","user":"EE2dev","description":"item explorer - data format - example 4"},{"id":"69c42b901d0ed52d480a","user":"EE2dev","description":"item explorer - data format - example 5"},{"id":"3bb8a779948659a5b101","user":"EE2dev","description":"item explorer - data source - example 1"},{"id":"07bbe91f368e5ce0b180","user":"EE2dev","description":"item explorer - data source - example 2"},{"id":"a5e1b098533228613f28","user":"EE2dev","description":"item explorer - data source - example 3"},{"id":"de4a9e0010795ace76b8","user":"EE2dev","description":"item explorer - data source - example 4"},{"id":"131ad62a0ef5a8e6968b","user":"EE2dev","description":"item explorer - visualization option 1"},{"id":"c8ef9d67acc044b368ef","user":"emeeks","description":"d3.layout.orbit modes"},{"id":"bdc0474429e6567bc320","user":"weiglemc","description":"D3 Scatterplot of 2014 NCAA Passing Statistics"},{"id":"3e46da46186e1dc1a02e","user":"malcolm-decuire","description":"Lobbying Spending 1998-2015"},{"id":"f8e9ae0a4c101d978f84","user":"sxywu","description":"Art in Pi, Experiment #1"},{"id":"9fc66f76d0217475f2e4","user":"sxywu","description":"Art in Pi, Experiment #2"},{"id":"61a4bd0cfc373cf08884","user":"sxywu","description":"The Force with React + D3, Approach #1"},{"id":"1db896c1a38d89ae71b4","user":"sxywu","description":"The Force with React + D3, Approach #2"},{"id":"fcef0e6dac231ef2e54b","user":"sxywu","description":"The Force with React + D3, Approach #3"},{"id":"c31c5eb3bf1c5a72bde9","user":"biovisualize","description":"Histogram Equalization"},{"id":"3878819","user":"phoebebright","description":"Ireland Sporthorse Foal Registrations - in progress"},{"id":"1238376","user":"biovisualize","description":"External SVG"},{"id":"99df29f258860e53c5e2","user":"micahstubbs","description":"Sporthorse Foal Registrations II"},{"id":"18cb7a77b2d9de597b86","user":"enjalot","description":"dots on a map: setup"},{"id":"a4679ee453aa9357977c","user":"eesur","description":"d3 | Reusable slopegraph"},{"id":"ee8d0ab88229d0e07f7f","user":"eesur","description":"d3 | reusable slopegraph v2"},{"id":"5fbda7f410d31da35e42","user":"eesur","description":"d3 | reusable heatmap calendar"},{"id":"b100d04bda697f95f246","user":"veltman","description":"Gif rendering"},{"id":"03edaa335f93b5a9ee57","user":"veltman","description":"Gif rendering - globe"},{"id":"3231298","user":"mbostock","description":"Collision Detection"},{"id":"b84846a0511acfeaf925","user":"Jay-Oh-eN","description":"A Rectangle of Circles"},{"id":"3d66eaf6306fe3b279e6","user":"geraldarthur","description":"Random line drawing"},{"id":"e52b02edb554747370c5","user":"geraldarthur","description":"Random line drawing 2"},{"id":"6bd2b990bea368bd6358","user":"geraldarthur","description":"Random line drawing 3"},{"id":"5f168b5c884b1f9c36a5","user":"KatiRG","description":"d3js clickable stacked bar chart"},{"id":"8325617"},{"id":"3601e88d5317ab2be0e8","user":"Wanagram","description":"Bar Chart"},{"id":"487ef139e7025406c4c1","user":"benduffin","description":"Connected Particles III"},{"id":"294eae4fec5e31d0390d","user":"benduffin","description":"Connected Particles III"},{"id":"4506b5bf37fab13586f7","user":"benduffin","description":"Focus+Context via Brushing"},{"id":"ca5eb04b731b7676104a","user":"benduffin","description":"Population Pyramid"},{"id":"e8ea925f7c61b353f694","user":"benduffin","description":"Population Pyramid"},{"id":"47ec2268b4e1edfda9d7","user":"benduffin","description":"Population Pyramid"},{"id":"a3b5571be92a0513b2f9","user":"benduffin","description":"Population Pyramid"},{"id":"fa6292523b1680ecbb15","user":"khawkins98","description":"Adaptive-content-model v0.2"},{"id":"308aa0fb4aeb2771b6cc","user":"khawkins98","description":"Adaptive-content-model V0.1"},{"id":"fe31fe34099bbb41e0a7","user":"cheneymb","description":"Bar Chart"},{"id":"6b62ef1ddf6523b1f0fd","user":"mansfimx","description":"Bar Chart"},{"id":"e266096cad90266aa85e","user":"mansfimx","description":"Bar Chart"},{"id":"df9af361ca4b8f34aec9","user":"lambrex","description":"Bar Chart"},{"id":"f641200424b306c4b724","user":"lambrex","description":"Bar Chart"},{"id":"8d7bad2d954ee09ea347","user":"devssunil","description":"fresh block"},{"id":"d1f3811a4964d484017c","user":"devssunil","description":"bahamas flag"},{"id":"262b5344222f227dd9d3","user":"devssunil","description":"fresh block"},{"id":"f633095702b6f478cc12","user":"devssunil","description":"fresh block"},{"id":"f2e095a4f77bc51b6010","user":"devssunil","description":"fresh block"},{"id":"9e3f368898e5fca662f2","user":"grybnicky","description":"Bar Chart"},{"id":"2ed04b7552f1ef9f8e0c","user":"grybnicky","description":""},{"id":"aa2b8867d2f13ead838b","user":"mcgovemc","description":"Bar Chart"},{"id":"c5d9a583437b19493ba3","user":"zaccagbj","description":"Bar Chart"},{"id":"a7ef0b8473773b3ccda1","user":"zaccagbj","description":"Bar Chart"},{"id":"a2db15a154b360c591c7","user":"zaccagbj","description":"Bar Chart"},{"id":"75878caf6912fe6bfe85","user":"zaccagbj","description":"Bar Chart"},{"id":"4082de18058c055efe84","user":"Smith5mr","description":"Bar Chart"},{"id":"1733c62207e0bf614f06","user":"Smith5mr","description":"Bar Chart"},{"id":"f37b07b92633781a46f7","user":"mbostock","description":"Arc Padding II"},{"id":"9b16c3815f461d8c0817","user":"Smith5mr","description":"Arc Padding II"},{"id":"c32d1c61d0d09dcda690","user":"Smith5mr","description":"fresh block"},{"id":"38cd48fe454b017122aa","user":"Smith5mr","description":"fresh block"},{"id":"3ef8e84b6a3482c9efa9","user":"Smith5mr","description":"fresh block"},{"id":"33a6d86c5036e61549b5","user":"AdamBlaine1","description":"Bar Chart"},{"id":"eca6a6ab132db0eb3278","user":"AdamBlaine1","description":"Bar Chart"},{"id":"c23d14a90a18c0ba9498","user":"AdamBlaine1","description":"Bar Chart"},{"id":"5cebc9137ffcd6271071"},{"id":"59ad8df8112637667982","user":"thoma2nm","description":"Bar Chart"},{"id":"0a4fc38df5249e1614a1","user":"dunlapea","description":"Bar Chart"},{"id":"8ed968fc7b4ccb04630c","user":"diepvf","description":"Bar Chart"},{"id":"5155181","user":"d3noob","description":"Directional Force Layout Diagram with varying link opacity"},{"id":"18c2975af798328a528f","user":"BDAguila","description":"Bar Chart"},{"id":"01deb69af82797bd8738","user":"BDAguila","description":"Bar Chart"},{"id":"db57b9e8546b4b83a405","user":"micahstubbs","description":"Correlation Matrix VI"},{"id":"66474fc2225415d1ebd3","user":"micahstubbs","description":"Correlation Matrix IV"},{"id":"ea0a8c361ba849711628","user":"micahstubbs","description":"Correlation Matrix V"},{"id":"4f068e1a8833a7d2f2fb","user":"micahstubbs","description":"tiny hexbin plot"},{"id":"3f6e737fd8e50f6cbda2","user":"micahstubbs","description":"Correlation Matrix III"},{"id":"42b1361b49ed2cc4e0ae","user":"micahstubbs","description":"Correlation Matrix II"},{"id":"3ef5a223bdb760a228b4","user":"micahstubbs","description":"Correlation Matrix I"},{"id":"26c887df79dc869059ba","user":"micahstubbs","description":"Blocks Graph II Voronoi Sun"},{"id":"8a173cfcb9171627c7f1","user":"micahstubbs","description":"Blocks Graph I Readme Mentions"},{"id":"6420534","user":"couchand","description":"Better force layout node selection"},{"id":"0cfe97cda6ed02d49591","user":"stelt","description":"morph a composite path"},{"id":"b1cd9a8ae8f2f9d67ea9","user":"stelt","description":"morph a composite path"},{"id":"4b86c29e1669b75653de","user":"mostaphaRoudsari","description":"Reusable Area Chart: Ladybug group interactions"},{"id":"4969184","user":"tmcw","description":"Jenks Natural Breaks with simple-statistics and d3"},{"id":"60a1ba782ce09cf2091e","user":"curran","description":"Useless Vis"},{"id":"6567fb027971588bc779","user":"curran","description":"Invitations Links Map"},{"id":"55d327542393530662c3","user":"curran","description":"Country Centroids on a Map"},{"id":"c4a8380f6b3a5ae6668d","user":"bmershon","description":"Shellsort"},{"id":"1582075","user":"mbostock","description":"Quicksort"},{"id":"4360892","user":"mbostock","description":"U.S. Airports Voronoi"},{"id":"a0d2efed63aeefce5cb0","user":"SpaceActuary","description":"Distributions"},{"id":"41b50ea8bb206e44fec2","user":"SpaceActuary","description":"Non-negative Distributions"},{"id":"a003bf90d75a54c7ccb6","user":"bletcher","description":"d3FishMove"},{"id":"b3f5eb034f440cfb6809","user":"bletcher","description":"d3FishMove"},{"id":"4d62de0846a2554b113b","user":"boeric","description":"Driver License Suspensions II"},{"id":"f6ddea14600dc5093506","user":"boeric","description":"Mapbox GL Synced Dual Maps"},{"id":"2dca5c7c84eb5d3c72a8","user":"boeric","description":"Driver License Suspensions"},{"id":"8203750","user":"christophermanning","description":"Random Walk USA"},{"id":"0d95074b6d83a77dc3ad","user":"bricedev","description":"Grouped bar chart"},{"id":"0b4b038fd4dd3a046168","user":"monfera","description":"Stephen Few\'s Student Dashboard with d3.js"},{"id":"ddc9632a718e306b6e71"},{"id":"3f0e150ff6a86838f810"},{"id":"f56bb7f0e3c73358b752","user":"thomasvbrown","description":"Stephen Few\'s Student Dashboard with d3.js"},{"id":"f3708ba3311007a9b4a6","user":"sivartravis","description":"Multi-Line Voronoi"},{"id":"8ae3fd45fca0f18372d4","user":"nitaku","description":"Half matrix II"},{"id":"162e96df868aa79167ac"},{"id":"6783e81b15f3205e9ff2","user":"lindep","description":"arc with datum"},{"id":"542e6e08a2a9f7c2ebac","user":"Jay-Oh-eN","description":"Udacity Data Visualization: World Cup Attendance (scatter)"},{"id":"2f2183747543c804b8ca","user":"Jay-Oh-eN","description":"Udacity Data Visualization: World Cup Attendance (line)"},{"id":"9d62b7a2c4335a0fd1e6","user":"Jay-Oh-eN","description":"Udacity Data Visualization: World Cup Attendance (D3.js)"},{"id":"f25a996484a0588cb8c2","user":"Jay-Oh-eN","description":"Udacity Data Visualization: World Cup Attendance Annotated"},{"id":"3969722","user":"mbostock","description":"Gradient Encoding"},{"id":"9154d57067918cdb4cf5","user":"Jay-Oh-eN","description":"1-D Random Walk (points)"},{"id":"1440766","user":"mbostock","description":"selection.order"},{"id":"8ad986db8b3f5cc82e69"},{"id":"744228c927ee95871559","user":"etpinard","description":"trace struct flattener"},{"id":"810749b7dbcf0eca1e4e","user":"jonsadka","description":"Lever Love (Hire2)"},{"id":"341ed17c343e2520bde6","user":"zeffii","description":"Glucose over time + food hints"},{"id":"04a00e72a27edafa5ab8","user":"zeffii","description":"Glucose over time + food hints"},{"id":"3c280b21451e269ba759","user":"zeffii","description":"Glucose over time + food hints"},{"id":"06972c1773b30ccdb2d8","user":"zeffii","description":"Glucose over time + food hints"},{"id":"4c45db68b16ff90254de","user":"zeffii","description":"Glucose over time + food hints"},{"id":"77428cb3e0875e9683d9","user":"zeffii","description":"Glucose over time + food hints"},{"id":"4dbe405dc614fd08ad77","user":"zeffii","description":"Glucose over time + food hints"},{"id":"b3dbd57c3ec465a3d925","user":"zeffii","description":"Glucose over time + food hints"},{"id":"5df8dd084a93ad878cfc","user":"zeffii","description":"Glucose over time + food hints"},{"id":"bb56b979c5a6117b334b","user":"zeffii","description":"Glucose over time + food hints"},{"id":"b887532acfb8b001940d","user":"zeffii","description":"Glucose over time + food hints mod"},{"id":"f73384946e17e4b1b46a","user":"ChristosT","description":" CS 725 Information Visualization - VI3"},{"id":"52239ed074878b9a60ca","user":"ChristosT","description":" CS 725 Information Visualization - VI2"},{"id":"2f93011f91b398b936be","user":"ChristosT","description":" CS 725 Information Visualization - VI1"},{"id":"39d0395522fb4882de38"},{"id":"9499896"},{"id":"2481e1f3b1d92002317e","user":"Fil","description":"UN Votes - Session 70"},{"id":"a9e99b949d0d9b1e6b85"},{"id":"c5e83b964f5cf7c5edda","user":"alandunning","description":"fresh block new"},{"id":"c0da0fb4a6c9e4c393de","user":"alandunning","description":"fresh block"},{"id":"4df29e2f8c6e20ed2baf","user":"curran","description":"Religions Bar Chart"},{"id":"b1014a71757ce72444e1","user":"curran","description":"Multi-Line Chart of Largest Countries"},{"id":"34784700eb8fb594f17f","user":"curran","description":"World Population Area Chart"},{"id":"9eea6a43904b1a158e92","user":"curran","description":"Stacked Area Chart"},{"id":"09bc0b1f7512757ad152","user":"curran","description":"Stacked Area Chart"},{"id":"38845ef1d0c11b40dfd8","user":"curran","description":"Sortable Slices"},{"id":"8838736cfa6f3f960e2c","user":"curran","description":"Crime by Race Dataset"},{"id":"851f506aac452bf962d3","user":"curran","description":"Crime by Race Dataset (Normalized)"},{"id":"430efaf8f592d018bd3e","user":"curran","description":"Mother Jones Gun Violence Dataset"},{"id":"a08a1080b88344b0c8a7","user":"curran","description":"The Iris Dataset"},{"id":"014b461f460cf8fa3b77","user":"curran","description":"Iris Dataset Scatter Plot"},{"id":"9938078a93a4ba380a0e","user":"curran","description":"Interactive Scatter Plot"},{"id":"46050d18d5ec1ab401fa","user":"curran","description":"Chiasm-Charts v0.1.0"},{"id":"3883195","user":"mbostock","description":"Area Chart"},{"id":"e05c76ab9450cbc214ac","user":"curran","description":"World Population Line Chart"},{"id":"1297670a35e6e0841636","user":"Sokrates86","description":"scatterplot-lines-SAINTS"},{"id":"b50089030f88e5f58c07","user":"lulu567","description":"Milky Way"},{"id":"df90b219b9443e457e0d","user":"jalapic","description":"James\' tactics board"},{"id":"bc36d0af347f32152e07"},{"id":"7d15b6ea45e5b37c20c4","user":"jalapic","description":"Tactics board, freehand draw"},{"id":"522d3842f27e2581f0d9","user":"Jay-Oh-eN","description":"Foundations of D3: Data Binding Scope"},{"id":"4d17fa15a7a5084e217992f985fba484","user":"espinielli","description":"D3 tutorial V: Adding tooltips"},{"id":"5181105","user":"rveciana","description":"D3 tutorial V: Adding tooltips"},{"id":"7b66ad387b75d6077348","user":"espinielli","description":"European FABs"},{"id":"d517a035d0abb5cd0919","user":"espinielli","description":"European FIRs"},{"id":"9ea56e041f6847dbe944","user":"espinielli","description":"D3.js Boetti "},{"id":"2986e55a01c7008d4b5b","user":"rveciana","description":"D3 Trail Layout animated map"},{"id":"10743959","user":"rveciana","description":"Hayan typhoon gradient colored track II"},{"id":"6193058","user":"rveciana","description":"Flag map with D3js - SVG"},{"id":"5689783","user":"espinielli","description":"Cahill-Keyes map projection"},{"id":"86e51152d02e6280e9f3"},{"id":"94c3203a8f86d34a6af7","user":"sheffieldhale","description":"Soda Taxes Bubble Up (White)"},{"id":"50667ddd436c39f66b84","user":"bletcher","description":"transition test"},{"id":"1e7a161a8bf6f545b8f8","user":"walkerjeffd","description":"transition test"},{"id":"1fd196cd99f8d58a56d3","user":"enjalot","description":"aframe + d3 test: text labels"},{"id":"dc1ce756527c072885dc","user":"enjalot","description":"dots on a map: setup-gl"},{"id":"b95748220bd4752fb33a","user":"enjalot","description":"dots on a map: lasso"},{"id":"3887118,"},{"id":"8287bd24c157edb5bb2b","user":"ndarville","description":"World Map"},{"id":"707cc158d2520c4e4602","user":"ndarville","description":"World Map (Multicolour)"},{"id":"acb1dde273bff654262c","user":"ndarville","description":"Visualisering af statistisk usikkerhed i Megafon-måling 27/11-14"},{"id":"e09fcd2621b42d07a9fe","user":"ndarville","description":"Meningsmålingstendenser op til 27/11-14"},{"id":"66fa642ce3eb6a0de885","user":"ibbecknell","description":"fresh block"},{"id":"0faeb2237488f7aa526b","user":"ibbecknell","description":"fresh block"},{"id":"6185069","user":"weiglemc","description":"D3 Scatterplot Example"},{"id":"6e602654b41a48709612","user":"cheneymb","description":"Multi-Series Line Chart"},{"id":"6be047ed3c064b505c8f","user":"AdamBlaine1","description":"Multi-Series Line Chart"},{"id":"d6c5a1923f53a60876ad","user":"AdamBlaine1","description":"Multi-Series Line Chart"},{"id":"533e9ec746874e1a36cd","user":"zaccagbj","description":"Multi-Series Line Chart"},{"id":"6e75ad8f8664c245d0a0","user":"dunlapea","description":"Multi-Series Line Chart"},{"id":"2b1e4cc603310e9abc86","user":"lambrex","description":"fresh block"},{"id":"17567df60d22eed325b4","user":"lambrex","description":"fresh block"},{"id":"e758727fb4e111fdf045","user":"lambrex","description":"fresh block"},{"id":"b3f97b9b6a27a2878f5b","user":"lambrex","description":"fresh block"},{"id":"51cd71f0b6854e57e6a1","user":"lambrex","description":"fresh block"},{"id":"c55265d611e30e7e95f0","user":"lambrex","description":"fresh block"},{"id":"0514ad3e56d05722f997","user":"lambrex","description":"fresh block"},{"id":"09f8c8eb06feff3e6dea","user":"lambrex","description":"fresh block"},{"id":"264ed380895fea0d3844","user":"mansfimx","description":"Multi-Series Line Chart"},{"id":"1e6da47724c39156adb3","user":"Kcnarf","description":"timeline - correlation"},{"id":"0a8fe1caa2ac025c8e86","user":"Kcnarf","description":"timeline - trend & seasonality"},{"id":"fa5deb2022e829449688"},{"id":"189bbf2dad71071b9969"},{"id":"2583342b5b484e70899b"},{"id":"9da0a8c4e7391243e941","user":"tacastillo","description":"Multi-Series Line Chart"},{"id":"5cf2da9490fac8f59799","user":"rmtrailor","description":"Multi-Series Line Chart"},{"id":"ca1f73e81c2440b46eed","user":"rmtrailor","description":"Multi-Series Line Chart"},{"id":"a416105e509593928ec5","user":"vwrideout","description":"Multi-Series Line Chart"},{"id":"a7b5b1f23019e065d8aa","user":"HelenHChen","description":"Multi-Series Line Chart"},{"id":"f80a387b1ce45adfbe08","user":"sliu72","description":"Multi-Series Line Chart"},{"id":"9d9ccdf86fb59ab6c6e0","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"29d80cf22eda5b55e2c1","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"7c289a9dbf38ceb665d8","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"a45d78cc14704ced3f88","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"deb677307bfb906b38e6","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"a9711c2f39239465f30e","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"de369cc33c7c02015263","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"6e75e8d20da020b9de19","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"1727593e326e81b0951f","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"4db859d1e3fd8e8b8642","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"a2e10229636d23f13dbb","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"d7aded22d8ab1a5ff063","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"527111d4bf58cfbaa8f7","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"4119e1e519d687eb7ffc","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"aaa180c9379a902aba3e","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"5359c5b7020527a68e60","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"aa154290d2f39a1ab54b","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"ab47787d16eb43d8af34","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"185510fc80ac8a874cd1","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"7ae92335446d3ad639d0","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"5740eb91f7f2f4bef0ae","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"7d8f7ff7f31b2789b1f9","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"87df80ba235efb82e9de","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"7b28e2aca81bd450e15e","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"6d6fa3b5fbd160e0afb4","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"640803240b9db8f610af","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"3da6b1e5522c57dd8106","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"c7b3934926cee4f7b39e","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"80509e9d1cdc66568152","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"a592a0a644f806ee56a7","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"ab22a21c4fb7d977ea7b","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"b74bb2749f8a96c4c241","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"b7f4298f7d2892ba4b1b","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"d865b3a6873f39fe0d75","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"65ea67b5e062b5ba666b","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"921af093736051ab15a8","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"d63a29287faa83227f65","user":"lyndonclarke","description":"Multi-Series Line Chart"},{"id":"ac5b6c28390fb4af7a04","user":"jeestella","description":"Multi-Series Line Chart"},{"id":"9f2c2f3e48fc6b3e51ff","user":"jeestella","description":"Multi-Series Line Chart"},{"id":"8a6e0ca67f054dd9ef29","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"a2c2ab6da0a0aa3d8fd1","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"1f02ba8c57e84bbf0d08","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"d3a03c0a140b6d4b4e2c","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"7b912a3693e7dee2633e","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"0dc207c08decd57319f3","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"3ffc84f3def0025a4243","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"333c0477264183d25c12","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"a69684b04fde3f873ee8","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"10f43d81d7fa62872872","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"f00d5c23c2d79f37653e","user":"fengqingli","description":"Multi-Series Line Chart"},{"id":"2fbe51dcbc0d27cf897b","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"ea72de53eb3daad14f73","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"f3e6415f79b078b75fe4","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"d3b1e127741d5be5bbc3","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"fea2240ea499f36b7ec4","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"d721b55071e31f8da8c3","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"4df06aacdf53e24c90b7","user":"kiansheik","description":"Multi-Series Line Chart"},{"id":"00e295827c51ffa80104"},{"id":"9b23673c0786fa5b1a75","user":"N0taN3rd","description":"fresh block"},{"id":"e503f9cd7655acf5d9a7","user":"N0taN3rd","description":"fresh block"},{"id":"cf3031700f42670dccf6","user":"jeremiahraymond","description":"Multi-Series Line Chart"},{"id":"97a40f1c0684bc5bd0d5","user":"jeremiahraymond","description":"Multi-Series Line Chart"},{"id":"81d0c04cbd78c95cc674","user":"jeremiahraymond","description":"Multi-Series Line Chart"},{"id":"a807f2ba95e19db2a0f5","user":"jeremiahraymond","description":"Multi-Series Line Chart"},{"id":"70b669815dbad375ea75","user":"jeremiahraymond","description":"Multi-Series Line Chart"},{"id":"28c466de83d5100f009e","user":"jeremiahraymond","description":"Multi-Series Line Chart"},{"id":"cf29a41485972f2a15cf","user":"Cdcole","description":"Multi-Series Line Chart"},{"id":"a4658f02960b71612a57","user":"Cdcole","description":"Multi-Series Line Chart"},{"id":"4e9a0662dc81944593f9","user":"Cdcole","description":"Multi-Series Line Chart"},{"id":"c81883c957e8537be10f","user":"Cdcole","description":"Multi-Series Line Chart"},{"id":"1aef402d919da5d776b5","user":"djokicx","description":"Multi-Series Line Chart"},{"id":"fdb820d9d828400cb227","user":"djokicx","description":"Multi-Series Line Chart"},{"id":"9ccba191aa29181821d2","user":"Mrajyalakshmi","description":"fresh block"},{"id":"ed2a8aff3d202713525f","user":"Mrajyalakshmi","description":"fresh block"},{"id":"4689130","user":"vjpgo","description":"d3.js major minor tick style 3"},{"id":"4349486","user":"mbostock","description":"ggplot2-Style Axis"},{"id":"6738109","user":"mbostock","description":"Superscript Format"},{"id":"0da60479257cc3d90a62","user":"lambrex","description":"ggplot2-Style Axis"},{"id":"965cf81685bc8a9021a8","user":"jfost00","description":"Bar Chart"},{"id":"7ac51fe69e41fc6c606a","user":"jrodgz","description":"JDR VI4 for CS725@ODU "},{"id":"3887235."},{"id":"60e84ea5cdffa49356e4","user":"ashtonburg","description":"d3.js major minor tick style 3"},{"id":"384dd445a6a7ae9f6086","user":"ashtonburg","description":"d3.js major minor tick style 3"},{"id":"4384949715de645a77ef","user":"ashtonburg","description":"d3.js major minor tick style 3"},{"id":"1f1ab0ec1cc8cee5970f","user":"ashtonburg","description":"Superscript Format"},{"id":"23e98ddcc9ff35b6517f","user":"ashtonburg","description":"Superscript Format"},{"id":"7b807fa90c485937b2ea","user":"ashtonburg","description":"Superscript Format"},{"id":"bf6871220d8db6efd10f","user":"ashtonburg","description":"Superscript Format"},{"id":"b378b3a76c1e12038c43","user":"ashtonburg","description":"Superscript Format"},{"id":"74cc63dc0a9ae18297de","user":"ashtonburg","description":"Superscript Format"},{"id":"96a3758777f9bb5e91c6","user":"ashtonburg","description":"Superscript Format"},{"id":"981721947501c7fc2fbc","user":"ashtonburg","description":"Superscript Format"},{"id":"5c4e011cc543373478e8","user":"ashtonburg","description":"Superscript Format"},{"id":"b95717283160c8c293e0","user":"ashtonburg","description":"Superscript Format"},{"id":"cdc8b048f1e7a56fae0e","user":"ashtonburg","description":"Superscript Format"},{"id":"da81217dee2d551d1411","user":"ashtonburg","description":"Superscript Format"},{"id":"5ada6a7d00115f0e2f1e","user":"emeeks","description":"Ch. 5, Fig. 6 - D3.js in Action"},{"id":"019307194abe050e1117","user":"cool-Blue","description":"d3 Force directed graph with node size transitions"},{"id":"f810911f5f84b94f2e3e","user":"cool-Blue","description":"d3 Force directed graph with node size transitions - CSS transitions "},{"id":"a4530669c16faced0d57","user":"cool-Blue","description":"Pixi.js WebGL using spritesheet"},{"id":"ea9be02dff5b6c3a18e2","user":"cool-Blue","description":"Canvas renderer with texture atlas (spritesheet)"},{"id":"febe139365a1819a6953","user":"cool-Blue","description":"WebGL renderer with multiple sprites"},{"id":"9704fe9249dfbc5c7da9","user":"cool-Blue","description":"Canvas renderer with multiple sprites"},{"id":"23ca2f006b720c784fc2","user":"cool-Blue","description":"SVG speed test"},{"id":"5b3161f6be8bd2baac52","user":"cool-Blue","description":"d3 Force directed graph with node size transitions - velocity.js transitions"},{"id":"4562ac558aa8fb77269c","user":"enjalot","description":"interviewing.io: mean lines"},{"id":"78e3a730e77c677e168c","user":"enjalot","description":"interviewing.io: mean vs stddev"},{"id":"4ee4c58c9dfc2a41ed26","user":"micahstubbs","description":"hexbin with no axes"},{"id":"8c462789ffbb04351a11","user":"Kcnarf","description":"timeline - seasonality detection (II)"},{"id":"89e1e69c888e8241ed92","user":"Kcnarf","description":"timeline - seasonality detection (I)"},{"id":"5118ba2eb78edfcf645e","user":"Kcnarf","description":"timeline - seasonality detection (III)"},{"id":"77ddbd1e08c11e18a0f7","user":"ChristosT","description":" CS 725 Information Visualization - VI4"},{"id":"08fc85ae18559fe95ad3","user":"georules","description":"oh yes spiral"},{"id":"3ad7359dc3d6f0d25734","user":"rpgove","description":"Heatmap of Force-Directed Graph Node Positions"},{"id":"a82271eb40bed573f921","user":"nitaku","description":"Polar floating bar chart"},{"id":"4c7a8a89a25bd86a61a8","user":"susielu","description":"Radar Plot Annual Temperature"},{"id":"6a922b0fb6abbb815158","user":"veltman","description":"Gif rendering - dynamic SVG"},{"id":"d1b8c76c16ceab5d3b45","user":"veltman","description":"Transition hacking"},{"id":"23460413ea085c024bf8","user":"veltman","description":"Transition hacking with chains"},{"id":"1071413ad6b5b542a1a3","user":"veltman","description":"Gif rendering - SVG to GIF"},{"id":"38149d05ea247cbcebb1","user":"veltman","description":"Hexbin resizing test"},{"id":"5d4eac580beb1fbb0031","user":"chillee151","description":"fresh block"},{"id":"7fdc5a209906a8e6789b","user":"chillee151","description":"fresh block"},{"id":"936ef76e148c655b1058","user":"chillee151","description":"fresh block"},{"id":"e9b3bfc6f43b4bd237e2","user":"cmdoptesc","description":"D3 Arc Progress Gauge / Meter (for d3-js group)"},{"id":"3750941","user":"mbostock","description":"Progress Events"},{"id":"10699411","user":"jebeck","description":"SVG foreignObject tooltips in D3"},{"id":"d15be2c0ace80aef3503","user":"jebeck","description":"playing with SVG line markers in D3"},{"id":"a639c8d8fb6ad384a8e3","user":"jebeck","description":"second verse...not same as the first"},{"id":"c22e71c05e3c3bfadcae","user":"jhubley","description":"vector tiles plus plotted coordinates"},{"id":"7722907","user":"radiocontrolled","description":"Refugee claimants by Canadian region, 2012"},{"id":"913d0c1716e92e9fe29c","user":"rveciana","description":"JSL 2015: Mapa sencillo usando Canvas"},{"id":"2787020caf01beea88cd","user":"rveciana","description":"JSL 2015: Mapa sencillo"},{"id":"4affa5bdb5e8c87ea5e5","user":"rveciana","description":"JSL 2015: Pie layout animado"},{"id":"20f120d7ab0580f9a8c5","user":"rveciana","description":"JSL 2015: Pie Layout"},{"id":"cbd4c10fed8942c87332","user":"rveciana","description":"JSL 2015: Gráfico con transiciones"},{"id":"c81710601e2232aaedc0","user":"rveciana","description":"JSL 2015: Gráfico sencillo"},{"id":"12c2e8a92d521144e146","user":"thedod","description":"Twister daily traffic (D3 visualization of TwisterIO stats)"},{"id":"8603837","user":"d3noob","description":"Multiple line graphs with labels"},{"id":"b8a8fcb885b6840bfde5","user":"scresawn","description":"genome browser"},{"id":"01215dfa696fb3ec66f6","user":"AdamBlaine1","description":"genome browser"},{"id":"e263c1e6b71ff8fe0976","user":"AdamBlaine1","description":"genome browser"},{"id":"d5ce25776cb31dde851b","user":"BrandonStroud","description":"genome browser"},{"id":"ccd1b2d7ce54e59e455e","user":"BrandonStroud","description":"fresh block"},{"id":"a679815370ad5e8ce609","user":"ChristosT","description":" CS 725 Information Visualization - VI5"},{"id":"a0c5ef180272fac3aea6","user":"bricedev","description":"Text tween"},{"id":"5e498878a37abb60b902","user":"MatteoTomassetti","description":"Text tween"},{"id":"4e199eb9812a066e7f2d","user":"MatteoTomassetti","description":"Portugal banking"},{"id":"a104fffc6e3c2abc1c8d","user":"GeorgeMcIntire","description":"Portugal banking"},{"id":"96447623ef4d342ee09b","user":"NPashaP","description":"DashBoard"},{"id":"9b193942e2fc4ac88c6e","user":"curran","description":"Unemployment in San Mateo County"},{"id":"8d667f0989d66f03294b"},{"id":"002ba028b31588848738","user":"RuiChang123","description":"Portugal banking age"},{"id":"8709363","user":"llb4ll","description":"k-nearest-neighbor search using D3 quadtrees"},{"id":"0dfac0e7c3d33fcca86b","user":"armollica","description":"HSL Decomposition"},{"id":"1cccb8a71e8c5aaf6c08","user":"armollica","description":"HSL Decomposition 2"},{"id":"4248146","user":"mbostock","description":"Hexagonal Binning (Area)"},{"id":"6a2d04e4eb8ae8a72223","user":"cheneymb","description":"genome browser"},{"id":"f2540e53c4e327a145d0","user":"darrenjaworski","description":"OK Voting Trends"},{"id":"e552ead70d7baaa77739","user":"darrenjaworski","description":"Voting trends OK Upper House"},{"id":"a0e1406d6bb56ff70269","user":"djokicx","description":"Multi-Series Line Chart"},{"id":"f1b2b824bd9cccea57df","user":"dunlapea","description":"genome browser"},{"id":"7caf3e0c1bff5f4ffaac","user":"dunlapea","description":"genome browser"},{"id":"a1c9688944f950218658"},{"id":"2dd0548aee7cd62dd496","user":"ericamartel","description":"genome browser"},{"id":"247b71fdef129a907f35","user":"BrandonStroud","description":"fresh block"},{"id":"36511a38ee44a254c172","user":"grybnicky","description":"genome browser"},{"id":"64b015914153b85419ce","user":"hungvietdo","description":"starbucks in Norfolk"},{"id":"ed790586548e472f1f57","user":"hungvietdo","description":"Starbucks in Norfolk (mousehover)"},{"id":"43c5ecc0fe2199ea84dc","user":"jpnoll","description":"genome browser"},{"id":"646c80e683c3fdecf5b7","user":"jpnoll","description":"Genome Ruler"},{"id":"1a32a92131723a1cc808","user":"jpnoll","description":"Genome Ruler"},{"id":"847da6bc1fd5e0b0579a","user":"lambrex","description":"genome browser"},{"id":"8b896db8aac59dac7a37","user":"Smith5mr","description":"Arc Padding II"},{"id":"0c1b97dc48a6096ea7ce","user":"mcgovemc","description":"genome browser"},{"id":"5d0b0777aa681f849090","user":"Smith5mr","description":"genome browser"},{"id":"fb8e1e6750843954ead0","user":"AdamBlaine1","description":"The genome browser"},{"id":"bbc662a5bf51665cce8b","user":"mcgovemc","description":"genome browser"},{"id":"e785328c22638497dcb5"},{"id":"17b1a9d5f1788c35b255","user":"BrandonStroud","description":"genome browser"},{"id":"ffe781dfde208dd3db46"},{"id":"5905838e05c8035329cb"},{"id":"e7da8d7aac86fce33bee"},{"id":"2312026badf1ad2a6cf4","user":"ericamartel","description":"genome browser"},{"id":"8c67e661fa919f87f182","user":"ericamartel","description":"genome browser"},{"id":"92e1dc0212d0cbf99a82","user":"ericamartel","description":"genome browser"},{"id":"66daabcfeed118d590f6","user":"Jay-Oh-eN","description":"The Simplest Scatter"},{"id":"32db87891b734b6c7267","user":"Jay-Oh-eN","description":"A Simpler Scatter (color added)"},{"id":"57f23fbddd23a0386030","user":"SpaceActuary","description":"Walmarts"},{"id":"2af6e6e47935190936b1","user":"Golodhros","description":"TDD Bar Chart"},{"id":"e1aa61856118edfa624d","user":"d3noob","description":"d3.js Graph with many features"},{"id":"7830074","user":"larskotthoff","description":""},{"id":"f4035e412a7822abf074","user":"RuiChang123","description":"Portugal banking"},{"id":"4d79d0cdb41a16903b7e","user":"MatteoTomassetti","description":"DashBoard"},{"id":"29c2c89bcdf66c2553c2","user":"SpaceActuary","description":"Bar Chart Transitions - Positive to Negative"},{"id":"4c0c9844596a2d00938a","user":"SpaceActuary","description":"Trapezoid Charts"},{"id":"54181ad2cb45d7e41ac8","user":"SpaceActuary","description":"Trapezoid Charts 2"},{"id":"fbb43f7cf188fa8f2d15","user":"enjalot","description":"The Counted: simple example"},{"id":"9f3884a9f9474e9beedd","user":"TheLady","description":"The Counted: simple example"},{"id":"00c36fbe045e5d0290fc","user":"nguyenbq","description":"Genome Viewer"},{"id":"93e01a9c651ebb8f0968","user":"devssunil","description":"sdfgsg"},{"id":"955beda9851111b7c4b1","user":"dunlapea","description":"genome browser"},{"id":"dce660b60d70576d6447"},{"id":"545566453d4c45d1f4a3","user":"dunlapea","description":"genome browser"},{"id":"f6db3b84de562142fe4b","user":"dunlapea","description":"genome browser"},{"id":"9c001d2ad72ea5c8f91c","user":"ericamartel","description":"genome browser"},{"id":"fb082e67cd821b4362ef","user":"etpinard","description":"scatter inner nodes ordering"},{"id":"b956ee7215b7b50bc78a","user":"xaranke","description":"d3-hexbin demo"},{"id":"a1a7d04bdd34c2096eaf","user":"fabid","description":"Rectangular binning - 2d histogram"},{"id":"0c4cf357ab5ed3e90382","user":"fabid","description":"d3-heatmap"},{"id":"024452c42b94723b401d","user":"fabid","description":"d3-returntimemap"},{"id":"1d8085294b6094e617e9","user":"grybnicky","description":"genome browser"},{"id":"a3cd99de2763a9a696d1","user":"grybnicky","description":"genome browser with GC"},{"id":"13933a693dc8fac38c62","user":"grybnicky","description":"genome browser with GC"},{"id":"db6533daf51fb05b0af6","user":"grybnicky","description":"genome browser with numbering, color, reverse, and stagger"},{"id":"7aa370b761c4763c0901"},{"id":"c8bb2ca99a6a3b894217","user":"grybnicky","description":"genome browser with numbering, color, reverse, and stagger"},{"id":"ed16bc3c6fe8c4b051db","user":"grybnicky","description":"genome browser with numbering, color, reverse, and stagger"},{"id":"90c4cfd299ca35bc54d8","user":"grybnicky","description":"genome browser with numbering, color, reverse, and stagger"},{"id":"7402f55e19e1e609f014","user":"enjalot","description":"Node splitting"},{"id":"36014350348825ded276","user":"enjalot","description":"rigid links"},{"id":"0568c594c55b8951b94c","user":"mathnathan","description":"rigid links"},{"id":"fd78a64d3ff9f03907c4","user":"enjalot","description":"polygroups visualization"},{"id":"9d0251925a6bf6409533","user":"margeigh","description":"Foundations of D3: Data Binding Scope"},{"id":"201b1e8e5a25dfcf76d4","user":"margeigh","description":"Foundations of D3: Data Binding Scope"},{"id":"26b6602160cd14c7e143","user":"margeigh","description":"Foundations of D3: Data Binding Scope"},{"id":"5cc8033ab729fbd9a4c9","user":"margeigh","description":"Foundations of D3: Data Binding Scope"},{"id":"eb69ef5fbcd2330a7d61","user":"enjalot","description":"polygroups visualization: activate"},{"id":"12cf7435eb7ccdbd8d02","user":"mdcscry","description":"Veggie 2014 Show Reel"},{"id":"ab8b613ca00de4f31b05","user":"mdcscry","description":"VeggieCirclePack 2014"},{"id":"7bb89480b28f189fafd3","user":"mdcscry","description":"VeggieBurst 2014"},{"id":"9406077edb5a01d13d02","user":"mcgovemc","description":"genome browser with tool tip ####"},{"id":"1028a3ee9ab4642199db","user":"mcgovemc","description":"genome browser %"},{"id":"090f603aa3ef1c5fcf0b","user":"mcgovemc","description":"genome browser"},{"id":"bf8dbe207e9aa4c74b21","user":"mcgovemc","description":"genome browser"},{"id":"abdff74d4f8ebf9b3350","user":"Wanagram","description":"genome browser"},{"id":"c16d4bf5e677045e9b94","user":"mcgovemc","description":"genome browser"},{"id":"8d48064f03c22ae1a539","user":"mcgovemc","description":"genome browser"},{"id":"d30e1f3cd1f7219bd0e5","user":"diepvf","description":"genome browser"},{"id":"3fa3c1a523c8f3c2cfb9","user":"micahstubbs","description":"Sankey Particles with only inline styles"},{"id":"f5922ed4d0ac1ac2161f","user":"jasondavies","description":"Rotated hexbin"},{"id":"de3ee03f25aa9f134ecf","user":"tomshanley","description":"Force directed graph using tabletop.js and shortestpath"},{"id":"3918369","user":"ZJONSSON","description":"d3.legend example"},{"id":"c9b90689c1438f57d649","user":"d3noob","description":"Sankey from csv with d3.js"},{"id":"6c6dd78bb6502e14b2f2","user":"zaccagbj","description":"genome browser"},{"id":"9c856f4944e50b734b85","user":"AdamBlaine1","description":"The genome browser"},{"id":"f2befd433e182193027dfa1d1b7a65d4","user":"BDAguila","description":"fresh block"},{"id":"19c88beca509ce5195643099f5740838","user":"BDAguila","description":"fresh block"},{"id":"9409231fdbdc710dcbb46cff643f86c9","user":"ericamartel","description":"fresh block"},{"id":"c185b3758e7fd011f9a32a3c0b806839"},{"id":"42f1c37f325999025db3","user":"BDAguila","description":"genome browser"},{"id":"cc6cd97c95a80f35c824cc24a5bf0f6d","user":"ericamartel","description":"genome browser"},{"id":"2e1f2a94cd49a429cda6d5a3d77e5271"},{"id":"33881b1947efe610b0e743580af093f8","user":"BrandonStroud","description":"genome browser"},{"id":"3f6b48f9c5d72fb14fafc28ed3129a9f"},{"id":"6d57db7d251fbf26360cb88a7f5a7296","user":"BrandonStroud","description":"genome browser"},{"id":"751159e6a2290ab4417e5deac63adec1","user":"ericamartel","description":"genome browser"},{"id":"7574590639a3fd654d87f02db11bddb1","user":"ericamartel","description":"genome browser"},{"id":"a2746196ad4c3a2d46e416d27c52d2cf"},{"id":"e0408aa623ee83b1eb8d","user":"BrandonStroud","description":"genome browser"},{"id":"9327a6642682b87430ec","user":"scresawn","description":"A Bar Chart"},{"id":"af2040b064e5d2e2e589","user":"BrandonStroud","description":"A Bar Chart"},{"id":"9bae6529ccab4b902a50","user":"CBasis","description":"d3.js wiki visualization"},{"id":"ba2ffcaaf8c8b7541661","user":"Darius9","description":"genome browser(testing1)"},{"id":"5993342","user":"nsonnad","description":"Circle-bound D3 force layout"},{"id":"8241b9338930f081275090c4d421b4bc","user":"Jay-Oh-eN","description":"Single Multiple"},{"id":"c649af7f141a700dca817b97386147f9","user":"Jay-Oh-eN","description":"Multiple Multiples"},{"id":"5da8fc981efc46180000cc749b99465d","user":"Jay-Oh-eN","description":"SF AirBnB Listings: Pie Chart"},{"id":"8232e0e796a6dbddc33caffe4929d985","user":"Jay-Oh-eN","description":"SF AirBnB Listings: Pie Chart with Text Annotation"},{"id":"f372f1555d1ab41dadd1","user":"Jay-Oh-eN","description":"An Experiment in Sketching: Visualizing SF AirBnB Listings"},{"id":"d4a745960538e937dcde13f61e9893f1","user":"Kcnarf","description":"Beeswarm + maintain x-position of nodes"},{"id":"91c5e84bed1ba6b1541deaa5d5f4f258","user":"Kcnarf","description":"ForceLayout - maintain x-position of nodes"},{"id":"6a0b4488bc60ea61eb887bf4d1f9b2b5","user":"Kcnarf","description":"Force Layout - faster final arrangement"},{"id":"151f6344ffd02105a67a","user":"bjtucker","description":"Bounded Force Layout - force rank by group"},{"id":"e6a1a8b53e87cadd00aa","user":"Sokrates86","description":"alkoholi-kulutus-kuolema"},{"id":"7ac04d6c0797b583c5c79bea0dcb2a3f","user":"SpaceActuary","description":"Mini Chart"},{"id":"6fd7a74709e6d24bf327439c62a3f1c1","user":"SpaceActuary","description":"Mini Charts"},{"id":"b408e03229958635c43b","user":"SpaceActuary","description":"Bugle Charts"},{"id":"4055889","user":"mbostock","description":"Pseudo-Demers Cartogram"},{"id":"9a92db9794c21d576087","user":"SpaceActuary","description":"Pseudo-Demers Cartogram"},{"id":"53fe9d373ca3b3e20632f69c5169a59d","user":"scresawn","description":"final exam question 2"},{"id":"9921862","user":"danharr","description":"Path transition"},{"id":"14fcf6f266e877cb1c23","user":"jalapic","description":"network fade"},{"id":"9078690","user":"mbostock","description":"Quadtree Search"},{"id":"1593f53c0c8346d067491f39255d0b84","user":"armollica","description":"K-D Tree Nearest Neighbors (k-NN)"},{"id":"7c0bd51dab6b9665a315fef06c436f27","user":"armollica","description":"Triangular Binning I"},{"id":"dcfa9c27db140183bd87f3fc90efaf10","user":"armollica","description":"Triangular Binning II"},{"id":"b4aa88691528c0f0b1fa","user":"curran","description":"Chiasm Foundation"},{"id":"e98e438c05eba9b8882412ca79af1c6f","user":"baramuyu","description":"Chiasm Foundation"},{"id":"814c00f234349de899ef0d95649974e9","user":"baramuyu","description":"Chiasm Foundation"},{"id":"cb9da9f0caa674dc908708336645f0dd","user":"baramuyu","description":"Chiasm Bar Chart and Line Chart"},{"id":"1bc8659b52b35b8a320f3fefb7275ef5","user":"bmershon","description":"Triangle to Square"},{"id":"6276c0db5b24cf6bfea02b9dd72c378d","user":"bmershon","description":"Triangle to Triangle I"},{"id":"73a90dd4229f8941b7f79df8b2c8505d","user":"bmershon","description":"Sutherland-Hodgman Clipping"},{"id":"28821b58b36a81d36a6a814ecdbdc037","user":"cherdarchuk","description":"Pulse Animations"},{"id":"d6b7f134335ddc4d12a3e143f81304d8"},{"id":"8d863db116f226727c71","user":"cheneymb","description":"genome browser blocks "},{"id":"735c8063f00c773ef1dea78f62a321fa","user":"curran","description":"Margin Convention II with ReactiveModel"},{"id":"6f97aa94357cae4611c54a80c11f6128","user":"curran","description":"Responsive Axes with ReactiveModel"},{"id":"b8e76dd7003538975b3e81e86ac6dd1e","user":"curran","description":"Margin Convention with ReactiveModel"},{"id":"974c9def890f8ac0172611921fb51b8a","user":"curran","description":"Responding to Resize with ReactiveModel"},{"id":"8622315","user":"devgru","description":"Simple stream + interpolation, layout offset & axes"},{"id":"a05b3ac17407e5d1d9cc989f882125af"},{"id":"e14c09b73d241d89536cd81b35771215","user":"devgru","description":"Simple stream 2016"},{"id":"5485fa28d3fdd422930b53ab330f96e3","user":"devssunil","description":"D3 Dynamic Array of Tables"},{"id":"681bfd06a86a6d5e237c","user":"devssunil","description":"Genome Viewer Final"},{"id":"2cce0f9305ec755a53e7","user":"devssunil","description":"genome browser"},{"id":"2c6fa34a28b157e78a22fc93800f0bc7"},{"id":"6222544da1551c11d55b505edf4b88fa","user":"lambrex","description":"genome browser"},{"id":"dcd52a1daf6b00e5f0afa9b32e2ca043","user":"lambrex","description":"genome browser abundance version"},{"id":"f8bacc54b016d6ea014e54d81f2b7e48","user":"jpnoll","description":"genome browser abundance version"},{"id":"4d7dfded54d1e2162265862ffb178f4a","user":"scresawn","description":"genome browser abundance version"},{"id":"9d49a219f72d8958313eb7fd9f236936","user":"lambrex","description":"genome browser abundance version"},{"id":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","user":"diepvf","description":"genome browser abundance version"},{"id":"7b750aac02c274ce7be1a2ec65681b6b","user":"dunlapea","description":"genome browser"},{"id":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"id":"e594934db447063ce886b35c2e3ea0c3","user":"dunlapea","description":"genome browser"},{"id":"63b313292ecb948800fb1bebaef690b3","user":"dunlapea","description":"genome browser"},{"id":"73d2088a4754f9a3b46db81c3a12ca42"},{"id":"752ff3769123dd6f733dd1a0fd139698","user":"dunlapea","description":"genome browser"},{"id":"8e82406ccf2abef3600b5c63db1830ca"},{"id":"0bc494cbfc5dab3fbea588a6a7cc0cdb","user":"dunlapea","description":"genome browser"},{"id":"e08d1b622815450a47a52deb8644533d"},{"id":"e844a36eff424d262f3de5d9baa16b91","user":"dunlapea","description":"genome browser"},{"id":"ea33bdf3e6d636ecd1bb9f1febd0125e","user":"dunlapea","description":"genome browser"},{"id":"f65bdcfc2f39d3717709357e2f8fd03e"},{"id":"34dc0e1aaabac24684ec622da2add7e9","user":"eoiny","description":"fresh block"},{"id":"54b835498f0288d2affc5c2d021864d1","user":"eoiny","description":"barNotes"},{"id":"a1169104fd3d0b78a2b60a2f099e0391","user":"eoiny","description":"barNotes"},{"id":"2338f36048aaa1372f386daa32bf624c","user":"eoiny","description":"barNotes"},{"id":"dde8f503ef6ea72edc8f3212896497d7","user":"eoiny","description":"barNotes"},{"id":"7c4f11418ebb53a997531c718e760f7c"},{"id":"deda5442d64c34186b537f11751004aa"},{"id":"0271e40675307d3aede5cecdad5715e0","user":"eoiny","description":"barNotes"},{"id":"1919bd8c2f574caa17ba","user":"enjalot","description":"State Grid Minimap"},{"id":"5606736552160acb3351","user":"enjalot","description":"Quadtree Tree"},{"id":"676bfe2b6e67e61e0656","user":"enjalot","description":"topojson on a map: setup-gl"},{"id":"373e03ed01dfcf97d985","user":"emeeks","description":"Networks - Graphs 6"},{"id":"da3f27dd8be82859b45e14898aa7fce0","user":"BDAguila","description":"fresh block"},{"id":"32d4c5badc4534da66b827122d6a1831","user":"ericamartel","description":"fresh block"},{"id":"ba1beb933b849d986453f374c9cfd206","user":"ericamartel","description":"fresh block"},{"id":"b895d79139c315b4a14c7c4f63a9b00e","user":"ericamartel","description":"fresh block"},{"id":"db4dcb20e68ee366eb4c253399a3ad5d","user":"ericamartel","description":"fresh block"},{"id":"4bfacbc47612de727bf99a32d632abc3","user":"ericamartel","description":"fresh block"},{"id":"f8eaa285348a91b74ff2bed44d4af44f","user":"ericamartel","description":"fresh block"},{"id":"b28c34585d071b6937fdf74b9a85bca4","user":"ericamartel","description":"fresh block"},{"id":"ede8ef37272abcb60013f885b6736d63","user":"ericamartel","description":"fresh block"},{"id":"f48e7435ff4bb34180e744b0786c57de","user":"ericamartel","description":"fresh block"},{"id":"b88b41124a4e1a398f8443041c41e24f","user":"ericamartel","description":"fresh block"},{"id":"7c0354016ccc2f7974d84714dc8e8d4a","user":"ericamartel","description":"fresh block"},{"id":"0d1bfe27165765ed03f8f175ce8680f1","user":"ericamartel","description":"fresh block"},{"id":"627517c6d7a1b1384bce3f5402fbb9c4","user":"ericamartel","description":"fresh block"},{"id":"ed2735e3952c35c92852410c21d15f46","user":"ericamartel","description":"fresh block"},{"id":"25f855bb1f47666b42962a82216dfd3e","user":"ericamartel","description":"fresh block"},{"id":"b29a3572b3e3f19e7a22b18ef9134920","user":"BrandonStroud","description":"fresh block"},{"id":"50f0b4412292163bf4b50d06253994ae","user":"grybnicky","description":"Repeat finder circle ruler"},{"id":"f8f62045f69c65e3514cfe20f33fb9f1"},{"id":"b4f37349887a4c178ef93ed855153605","user":"grybnicky","description":"Repeat finder circle ruler arc genes"},{"id":"1431967216e048fcb4890445e1741c7c","user":"grybnicky","description":"Repeat finder circle ruler arc genes"},{"id":"59d18946ec237fe864d70b811a62eddd","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen"},{"id":"9be28947eccefb1ac05598b8fbc53d27","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering"},{"id":"0bbec668d5ba6765cc908eafd6c556fc","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering path attempt1"},{"id":"7d41f75647bdc4fef8736442db42bad0","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering Tool tip"},{"id":"afc1b005be34f64b495b259263733b35","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering Tool tip repeat connect attempt1"},{"id":"33505001b3f4ff96c29fcb15425b561b","user":"scresawn","description":"Repeat finder circle ruler arc genes line gen keystone numbering Tool tip repeat connect attempt1"},{"id":"90056c4e88c140345ac8a52b8999cf1c","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering Tool tip repeat connect attempt1"},{"id":"0762f972ce5785f6efd4b975f2a95ff5","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering Tool tip repeat connect line tool tips"},{"id":"5f080cc5f6d000b6540bded03b3dc133","user":"grybnicky","description":"Repeat finder circle ruler arc genes line gen keystone numbering Tool tip repeat connect line random color tool tips"},{"id":"d390147f53cbcf8094b6aefea8791fc8","user":"grybnicky","description":"Wheel animated Repeat finder circle ruler arc genes line gen keystone numbering Tool tip repeat connect line random color tool tips"},{"id":"58abc7c39f8bcd04de56"},{"id":"302096884d5fbc1817062492605b50dd","user":"emeeks","description":"D3v4 Constraint-Based Layout"},{"id":"62cf60e116ae821c06602793d265eaf6","user":"nbremer","description":"Linear SVG Gradient - Traffic accidents per Day & Hour combination"},{"id":"7f8df0bcd7fba7e531e6","user":"hungvietdo","description":"VI7: Node-link diagram and Adjacency matrix"},{"id":"0020bebb012760de0d54","user":"jalapic","description":"network fade 2"},{"id":"7315455","user":"officeofjane","description":"Small multiple bar charts with tooltips"},{"id":"93c5c349be14f459c98a","user":"fernoftheandes","description":"Stacked-to-Multiples (improved)"},{"id":"24699e2002b4cea23615","user":"jjelosua","description":"d3intro_ex02"},{"id":"ab293c5472d02639ca4f","user":"jjelosua","description":"d3intro_exercise_selection"},{"id":"8ff54b5cc0640152c563","user":"jjelosua","description":"d3intro_ex21"},{"id":"bd880dbc71d2307e2a5b","user":"jjelosua","description":"d3intro_exercise_data_w_key_solved"},{"id":"95685c2bcf9407e687d6"},{"id":"94e7aebb7eb975291d9b","user":"jpmarindiaz","description":"fresh block"},{"id":"e949444235af20478188","user":"jpnoll","description":"genome browser with GC"},{"id":"d1b6461efdf225f53d0f","user":"jpnoll","description":"genome browser with GC"},{"id":"0dfef7aa92676a47b201","user":"jpnoll","description":"genome browser"},{"id":"b16dad1cea69952f5b72","user":"jpnoll","description":"genome browser"},{"id":"a675d439b9ed06a856bb","user":"jpnoll","description":"genome browser"},{"id":"3b3ae1013968c0a1613b","user":"judyyzhang","description":"fresh block"},{"id":"41c811c603360c27d0ae","user":"judyyzhang","description":"Counter"},{"id":"87cf840dd72fef25ac24","user":"judyyzhang","description":"Counter"},{"id":"bde995eccb68a6294dd9","user":"judyyzhang","description":"Counter"},{"id":"ba54603cfa4b6d7222c0","user":"judyyzhang","description":"Counter"},{"id":"13fa3e31fed7834eee10","user":"RandomEtc","description":"D3 Australia Conformal Conic"},{"id":"6944484","user":"syntagmatic","description":"Canvas Force-Directed Graph"},{"id":"7fedb282aca4df15b0d4","user":"lambrex","description":"genome browser"},{"id":"ddd41979fd8e96c976f6"},{"id":"c7cf338b400b90b04f95"},{"id":"9ffb265094d8dffb8627","user":"lambrex","description":"genome browser"},{"id":"eaab03204fa1acac43ea","user":"cheneymb","description":"Genome Viewer"},{"id":"0102759ebcb977f2a98b","user":"wcjohnson11","description":"Animate path in D3"},{"id":"887677acf92b55b3accd739e77c60fe4","user":"Wanagram","description":"genome browser with tool tip "},{"id":"ac5b726c53ec02618de7795429c6f833","user":"syntagmatic","description":"Baseball Scatterplot Matrix"},{"id":"5246b8a643393f0753a11b98129a3237","user":"micahstubbs","description":"canvas links positioning woes"},{"id":"e330141d1279c6115a3a","user":"emeeks","description":"Ch. 11, Fig. 10 - D3.js in Action"},{"id":"c6d3072074b1a9f717cf66068f34d8b6","user":"dhoboy","description":"China Air Quality Canvas"},{"id":"1061eef4ce7545bdd52537dcef952e7e","user":"syntagmatic","description":"Air Quality Calendars"},{"id":"428036f0f948a5c2b95f8a4b91931ee6","user":"micahstubbs","description":"ES2015 Sequences Sunburst"},{"id":"b7e78429ce54abc2154f","user":"micahstubbs","description":"Sankey Particles - Transparent Links"},{"id":"becd7b34d93b2d80d828","user":"emeeks","description":"Pie Transition Ch. 5 - D3.js in Action"},{"id":"5703573bd695c66b6e99","user":"jebeck","description":"Browser-zoom robust foreignObject tooltips"},{"id":"f6a30cdf04d252876b44","user":"micahstubbs","description":"Browser-zoom robust static foreignObject tooltips"},{"id":"542f350f5af22fba72b5"},{"id":"9c72a94ca5a0d04c68e4"},{"id":"2814080d24a44c357781","user":"mpmckenna8","description":"breadBoard"},{"id":"b8f13d84df4fbbaa98c0","user":"mpmckenna8","description":"breadBoard"},{"id":"8e09d21c2a15d7234b6d","user":"mpmckenna8","description":"breadBoard"},{"id":"6f5b472cabe8f85583989a40eef0303c","user":"nbremer","description":"Animated gradient - Simple rectangle"},{"id":"a43dbd5690ccd5ac4c6cc392415140e7","user":"nbremer","description":"Linear SVG Gradient - Weather Radial"},{"id":"a6690ca67800a2abafcd71ef4725f33f","user":"nbremer","description":"Animated gradient - Minard\'s chart of Napoleon\'s Russia campaign"},{"id":"5cd07f2cb4ad202a9facfbd5d2bc842e","user":"nbremer","description":"Linear SVG Gradient - A hexagonal SOM heatmap with color legend"},{"id":"1d3dcaefadd4c8f33318fe017cf730d6","user":"smith13mr","description":"genome browser for final group project"},{"id":"d9330fbe7bbf1a68e3d634602eb4d7a2","user":"scresawn","description":"genome browser for final group project"},{"id":"f405977b9bf51851a6b86476992c6ce9","user":"smith13mr","description":"Two tooltips and fade out"},{"id":"794e8d9eb8c153a1778cc487ff4465ff","user":"scresawn","description":"Two tooltips and fade out"},{"id":"9306799","user":"dbuezas","description":"Pie charts labels"},{"id":"1209499","user":"biovisualize","description":"Download generated SVG with preview (from mbostock)"},{"id":"ca8347ecae78391b8cc9","user":"scresawn","description":"Download generated SVG with preview (from mbostock)"},{"id":"07cbeabf93c7ece31c2d","user":"thoma2nm","description":"Bar Chart"},{"id":"ca351b22bc0778e97d79","user":"sliu72","description":"Multi-Series Line Chart"},{"id":"9e82d298e917564240ad98c881d6c75b","user":"smith13mr","description":"final exam question 2"},{"id":"9adf74fb08394082c393d8290c00e843","user":"smith13mr","description":"genome browser"},{"id":"4742802e9cf761912270","user":"smith13mr","description":"genome browser 2 with numbers"},{"id":"9747494f9437c0567eed","user":"smith13mr","description":"genome browser 2 with numbers"},{"id":"5085fcdd086cb5174867","user":"smith13mr","description":"genome browser 4 with numbers"},{"id":"a5df54f0c34518424b00","user":"smith13mr","description":"genome browser with name numbers"},{"id":"92841c212b11c534713782544cfdf10f","user":"sxywu","description":"openvis tweets #1"},{"id":"8b7d381614a093195eec2636cab9ef2f","user":"sxywu","description":"openvis tweets #2"},{"id":"9ea31a49cc0af1fdeed189619f651f5b","user":"sxywu","description":"openvis tweets #3"},{"id":"c98b726ab1cc4f4b1477","user":"veltman","description":"Old atlas style #2"},{"id":"606b23b77ecf3991d3b0","user":"veltman","description":"Old atlas style"},{"id":"cc5dcff17db32e4e910f","user":"veltman","description":"Old atlas style #3"},{"id":"f0f27bb61ef20a6b2e17d7231e2294c6","user":"walkerjeffd","description":"Multi-Foci Force Layout Along Path"},{"id":"5e1fbf27aa88a0f96680634bfd4079b3","user":"wcjohnson11","description":"D3.js Drag and Drop, Zoomable, Panning, Collapsible Tree with auto-sizing."},{"id":"f494728af00496ea1aa4","user":"zaccagbj","description":"newer work on genome thing"},{"id":"4d76ddafa3682bbcae37","user":"zaccagbj","description":"again newer work on genome thing"},{"id":"17a54b0b2520fb6dcae3","user":"zeffii","description":"mediseen0.2"},{"id":"1554f5cc59f7b4b3403d","user":"zeffii","description":"mediseen0.2 18march2016"}],"links":[{"source":"950642","target":"4062045"},{"source":"1341281","target":"1341021"},{"source":"4963273","target":"4963004"},{"source":"4963273","target":"4962892"},{"source":"4967213","target":"4963273"},{"source":"4967213","target":"4963004"},{"source":"4967213","target":"4962892"},{"source":"4969184","target":"4060606"},{"source":"4973620","target":"4686432"},{"source":"5044313","target":"3757101"},{"source":"5052095","target":"5028304"},{"source":"5100636","target":"1346410"},{"source":"5100636","target":"1098617"},{"source":"5100636","target":"4341574"},{"source":"5100636","target":"4341417"},{"source":"5107491","target":"4183330"},{"source":"5107491","target":"9656675"},{"source":"5126418","target":"4707858"},{"source":"5141278","target":"1153292"},{"source":"5141278","target":"2706022"},{"source":"5141528","target":"5141278"},{"source":"5155181","target":"5141278"},{"source":"5155181","target":"5141528"},{"source":"5181105","target":"4342045"},{"source":"5348789","target":"3305854"},{"source":"5386999","target":"5180185"},{"source":"5416405","target":"5416440"},{"source":"5518052","target":"5519642"},{"source":"5518052","target":"5519819"},{"source":"5518052","target":"5520449"},{"source":"5518052","target":"5522467"},{"source":"5518052","target":"d22bbf92231876505e5d"},{"source":"5518052","target":"5553051"},{"source":"5519642","target":"5519819"},{"source":"5519642","target":"5520449"},{"source":"5519642","target":"5522467"},{"source":"5519642","target":"d22bbf92231876505e5d"},{"source":"5519642","target":"5553051"},{"source":"5519819","target":"5520449"},{"source":"5519819","target":"5522467"},{"source":"5519819","target":"d22bbf92231876505e5d"},{"source":"5519819","target":"5553051"},{"source":"5520449","target":"5522467"},{"source":"5520449","target":"d22bbf92231876505e5d"},{"source":"5520449","target":"5553051"},{"source":"5522467","target":"d22bbf92231876505e5d"},{"source":"5522467","target":"5553051"},{"source":"5661984","target":"1642989"},{"source":"5662135","target":"1705868"},{"source":"5689783","target":"4180634"},{"source":"5732719","target":"5732685"},{"source":"5820393","target":"5616813"},{"source":"5874133","target":"5874214"},{"source":"5874133","target":"5874227"},{"source":"5874133","target":"5874229"},{"source":"5874133","target":"5874233"},{"source":"5874133","target":"5874236"},{"source":"5874214","target":"5874227"},{"source":"5874214","target":"5874229"},{"source":"5874214","target":"5874233"},{"source":"5874214","target":"5874236"},{"source":"5874214","target":"5397362"},{"source":"5874227","target":"5874229"},{"source":"5874227","target":"5874233"},{"source":"5874227","target":"5874236"},{"source":"5886992","target":"4061961"},{"source":"5993342","target":"1129492"},{"source":"6052681","target":"6052814"},{"source":"6112167","target":"6187523"},{"source":"6150151","target":"5249328"},{"source":"6173659","target":"5249328"},{"source":"6185069","target":"3887118"},{"source":"6203413","target":"1703449"},{"source":"6226150","target":"5100636"},{"source":"6226150","target":"6228457"},{"source":"6228457","target":"5100636"},{"source":"6279966","target":"5691513"},{"source":"6354551","target":"5649592"},{"source":"6419716","target":"2846454"},{"source":"6420534","target":"4062045"},{"source":"6420534","target":"4060366"},{"source":"6420534","target":"1405439"},{"source":"6420534","target":"1734663"},{"source":"6439398","target":"3884955"},{"source":"6459889","target":"2206590"},{"source":"6476579","target":"3885304"},{"source":"6506614","target":"21746a9668ffdf6d8242"},{"source":"6514960","target":"5649592"},{"source":"6521802","target":"5649592"},{"source":"6531064","target":"5649592"},{"source":"6574995","target":"11094667"},{"source":"6769077","target":"5230564"},{"source":"6944484","target":"4062045"},{"source":"7008736","target":"5249328"},{"source":"7008736","target":"6622700"},{"source":"7008736","target":"6173659"},{"source":"7015186","target":"7023140"},{"source":"7015186","target":"7008736"},{"source":"7015186","target":"6521802"},{"source":"7023140","target":"7008736"},{"source":"7023140","target":"6521802"},{"source":"7023794","target":"7015186"},{"source":"7025272","target":"7023794"},{"source":"7025272","target":"6982528"},{"source":"7025272","target":"7008736"},{"source":"7025272","target":"4060606"},{"source":"7051484","target":"7051552"},{"source":"7090426","target":"4063423"},{"source":"7188018","target":"7032353"},{"source":"7233233","target":"4237768"},{"source":"7233233","target":"3846051"},{"source":"7233233","target":"4060366"},{"source":"7315455","target":"1157787"},{"source":"7315455","target":"6476579"},{"source":"7328902","target":"2295155"},{"source":"7352810","target":"3680999"},{"source":"7475950","target":"7328902"},{"source":"7475950","target":"2295155"},{"source":"7483341","target":"3750558"},{"source":"7493693","target":"7483341"},{"source":"7493693","target":"3680999"},{"source":"7512487","target":"7493693"},{"source":"7512487","target":"5001347"},{"source":"7512487","target":"6901037"},{"source":"7517984","target":"7512487"},{"source":"7517984","target":"6890861"},{"source":"7518871","target":"7517984"},{"source":"7722907","target":"7188018"},{"source":"7830074","target":"1153292"},{"source":"7830074","target":"2706022"},{"source":"7910706","target":"4339184"},{"source":"7910706","target":"1093025"},{"source":"7938492","target":"7910706"},{"source":"8028264","target":"7025272"},{"source":"8028264","target":"7962295"},{"source":"8028264","target":"7938492"},{"source":"8028264","target":"7960622"},{"source":"8028264","target":"7015186"},{"source":"8028264","target":"7023794"},{"source":"8028264","target":"4136647"},{"source":"8028264","target":"7493693"},{"source":"8031205","target":"8028264"},{"source":"8185373","target":"3757132"},{"source":"8203750","target":"4180634"},{"source":"8244446","target":"7910706"},{"source":"8244446","target":"7938492"},{"source":"8244446","target":"8260510"},{"source":"8246732","target":"1346395"},{"source":"8272715","target":"8260510"},{"source":"8272715","target":"8272105"},{"source":"8272715","target":"8028264"},{"source":"8272715","target":"8031205"},{"source":"8566245","target":"3014589"},{"source":"8699346","target":"4063530"},{"source":"8746032","target":"7483341"},{"source":"8772179","target":"8272715"},{"source":"8772179","target":"6521802"},{"source":"8772179","target":"8260510"},{"source":"8784278","target":"8772179"},{"source":"8784942","target":"6514960"},{"source":"8784942","target":"8784278"},{"source":"8787102","target":"8784942"},{"source":"8788101","target":"8784278"},{"source":"8788101","target":"4341134"},{"source":"8882722","target":"8784942"},{"source":"8900555","target":"8566245"},{"source":"8947565","target":"8882722"},{"source":"8947565","target":"8784942"},{"source":"8947565","target":"8955159"},{"source":"8947565","target":"8947871"},{"source":"8947871","target":"8955159"},{"source":"8949471","target":"6531064"},{"source":"8949471","target":"5649592"},{"source":"8955159","target":"8949471"},{"source":"8968230","target":"6514960"},{"source":"8968230","target":"8949471"},{"source":"8968230","target":"6521802"},{"source":"9204795","target":"4327678"},{"source":"9205238","target":"9205257"},{"source":"9205238","target":"9205264"},{"source":"9205257","target":"9205264"},{"source":"9216751","target":"9216081"},{"source":"9239214","target":"9265219"},{"source":"9306799","target":"9572040"},{"source":"9417919","target":"5126418"},{"source":"9417919","target":"4573883"},{"source":"9733594","target":"3886208"},{"source":"9746628","target":"1153292"},{"source":"9746628","target":"9746652"},{"source":"9746652","target":"1153292"},{"source":"9842512","target":"9845999"},{"source":"9842512","target":"9842179"},{"source":"9842512","target":"9842284"},{"source":"9871048","target":"9871234"},{"source":"9871234","target":"3808218"},{"source":"9912897","target":"9914167"},{"source":"9912897","target":"9871048"},{"source":"9914167","target":"9871048"},{"source":"9921862","target":"1642989"},{"source":"9972460","target":"4343214"},{"source":"9972460","target":"4963273"},{"source":"10527804","target":"11085004"},{"source":"10527804","target":"3795544"},{"source":"10527804","target":"5732029"},{"source":"10527804","target":"4183330"},{"source":"10527804","target":"2206590"},{"source":"10527804","target":"7607535"},{"source":"10743959","target":"4163057"},{"source":"10989553","target":"10990305"},{"source":"11085004","target":"5731632"},{"source":"11085004","target":"1256572"},{"source":"11114288","target":"7e8e57368175a1433791"},{"source":"11273546","target":"9885869"},{"source":"11337491","target":"3014589"},{"source":"d67e0c64f0cb392f8a78","target":"ce9c2deb92042df13179"},{"source":"d67e0c64f0cb392f8a78","target":"6958e230e69a377620e3"},{"source":"6958e230e69a377620e3","target":"ce9c2deb92042df13179"},{"source":"818723e652995b6c110d","target":"c8b4472a648b08a26720"},{"source":"818723e652995b6c110d","target":"a23f857ee922bea4bded"},{"source":"a23f857ee922bea4bded","target":"c8b4472a648b08a26720"},{"source":"29bccce80df0f253c97e","target":"310c99e53880faec2434"},{"source":"ebec037138b5866ff0d3","target":"76342abc327062128604"},{"source":"0d1635533f6fb5ac4da3","target":"3150059"},{"source":"ba569633d51ebec6ec6e","target":"3711652"},{"source":"91254c459602b31ba549","target":"eb9cddd11657887e1e0d"},{"source":"28f1fbeb41df9753e120","target":"5194141"},{"source":"002ef2fb5c1dc2df5821","target":"c256fda4965d38e7c59b"},{"source":"c256fda4965d38e7c59b","target":"1092fe86860def004ea7"},{"source":"c256fda4965d38e7c59b","target":"5100636"},{"source":"1092fe86860def004ea7","target":"3289530"},{"source":"1092fe86860def004ea7","target":"4248145"},{"source":"e7a13ff417ff5257a067","target":"b3831331f475fdcb13df"},{"source":"e7a13ff417ff5257a067","target":"9c87aed9a53a3ff20e29"},{"source":"9c87aed9a53a3ff20e29","target":"b3831331f475fdcb13df"},{"source":"0e57e7fff27f2eee431f","target":"1af08ad6cdb01707c33f"},{"source":"0e57e7fff27f2eee431f","target":"3885304"},{"source":"0e57e7fff27f2eee431f","target":"60b40877ef898f19aeb8"},{"source":"0e57e7fff27f2eee431f","target":"3887235"},{"source":"0e57e7fff27f2eee431f","target":"134ed87c99257e3f2e31"},{"source":"0e57e7fff27f2eee431f","target":"4060606"},{"source":"0e57e7fff27f2eee431f","target":"3cc1a2a289dddbd64688"},{"source":"620ebec1c2841ea5a929","target":"7e830bd65ad749237e4d"},{"source":"8beea1d918ff4104f9ab","target":"3894205"},{"source":"e5daff57a04c2639125e","target":"b3ff6ae1c120eea654b5"},{"source":"e5daff57a04c2639125e","target":"3902569"},{"source":"e5daff57a04c2639125e","target":"4618602"},{"source":"c9b90689c1438f57d649","target":"c2637e28b79fb3bfea13"},{"source":"a22c42db65eb00d4e369","target":"38744a17f9c0141bcd04"},{"source":"38744a17f9c0141bcd04","target":"b3ff6ae1c120eea654b5"},{"source":"473f0cf66196a008cf99","target":"b3ff6ae1c120eea654b5"},{"source":"7030f35b72de721622b8","target":"b3ff6ae1c120eea654b5"},{"source":"e1aa61856118edfa624d","target":"b3ff6ae1c120eea654b5"},{"source":"2efd8084d345dd23ef96","target":"4ad06b0d9ee2a390eb20"},{"source":"b3b3ff937241182ee67e","target":"29a00092e4dbb7c659f7"},{"source":"3a81930c054bb8ee39bf","target":"33bc932b850792e832f8"},{"source":"bbc451a7b9f902954e7c","target":"8fadc5ac9c2a9e7c5ba2"},{"source":"bbc451a7b9f902954e7c","target":"7352810"},{"source":"bbc451a7b9f902954e7c","target":"c2cc7242c8f800c736c4"},{"source":"c2cc7242c8f800c736c4","target":"8fadc5ac9c2a9e7c5ba2"},{"source":"c2cc7242c8f800c736c4","target":"7352810"},{"source":"805413fb3b2efaada1ce","target":"3943967"},{"source":"805413fb3b2efaada1ce","target":"752b97cef3f880a813ab"},{"source":"a931688fa8cb65db4079","target":"b6e1d23c16dc76371a92"},{"source":"b6e1d23c16dc76371a92","target":"87d038562333a7ad4a64"},{"source":"87d5dd02739089986d4a","target":"3019563"},{"source":"2c736a99c2f57bfac7e4","target":"3019563"},{"source":"2c736a99c2f57bfac7e4","target":"87d5dd02739089986d4a"},{"source":"2c736a99c2f57bfac7e4","target":"3a68b0c81991e2e94b19"},{"source":"2c736a99c2f57bfac7e4","target":"d1e9ea2850047562be09"},{"source":"87d038562333a7ad4a64","target":"1af08ad6cdb01707c33f"},{"source":"87d038562333a7ad4a64","target":"3cc1a2a289dddbd64688"},{"source":"d5252d37917ab6eab032","target":"d1e9ea2850047562be09"},{"source":"d5252d37917ab6eab032","target":"1667367"},{"source":"d1e9ea2850047562be09","target":"cf4b98fff0517ca04667"},{"source":"d1e9ea2850047562be09","target":"3cc1a2a289dddbd64688"},{"source":"81271937fa94fdbdd854","target":"47aceae44bb5f8b63d7b"},{"source":"81271937fa94fdbdd854","target":"60eec0e1727c6c628728"},{"source":"3cc1a2a289dddbd64688","target":"1af08ad6cdb01707c33f"},{"source":"3cc1a2a289dddbd64688","target":"3885304"},{"source":"3cc1a2a289dddbd64688","target":"60b40877ef898f19aeb8"},{"source":"3cc1a2a289dddbd64688","target":"3887235"},{"source":"3cc1a2a289dddbd64688","target":"134ed87c99257e3f2e31"},{"source":"3cc1a2a289dddbd64688","target":"4060606"},{"source":"01aa2685f083b6c1b9fb","target":"ba63c55dd2dbc3ab0127"},{"source":"01aa2685f083b6c1b9fb","target":"e2744ee563f7cab80350"},{"source":"01aa2685f083b6c1b9fb","target":"bd552e711b8325c64729"},{"source":"db1e524cae5e4344b2e6","target":"3a68b0c81991e2e94b19"},{"source":"6c0ce7a12c7d5497350d","target":"8033015"},{"source":"950cbe78b4c307fa14a1","target":"5577023"},{"source":"66d926fe73211fd650ec","target":"5537697"},{"source":"9b193942e2fc4ac88c6e","target":"4060606"},{"source":"4df29e2f8c6e20ed2baf","target":"a22c42db65eb00d4e369"},{"source":"752b97cef3f880a813ab","target":"6476579"},{"source":"752b97cef3f880a813ab","target":"6123708"},{"source":"9e04ccfebeb84bcdc76c","target":"015d34d6d3d562877e51"},{"source":"3b811f05a0ce39d0d7cd","target":"015402cce2caa074551e"},{"source":"3b811f05a0ce39d0d7cd","target":"015d34d6d3d562877e51"},{"source":"3b811f05a0ce39d0d7cd","target":"dd73d3d8925cdf50df86"},{"source":"015d34d6d3d562877e51","target":"015402cce2caa074551e"},{"source":"015d34d6d3d562877e51","target":"5905182da50a4667dc00"},{"source":"015402cce2caa074551e","target":"5f255332a9dcb9906f84"},{"source":"dc5be7c1d700eb6ecf46","target":"0854f60e489b5ee6e11a"},{"source":"dc5be7c1d700eb6ecf46","target":"40a7be58639daf5d510e"},{"source":"40a7be58639daf5d510e","target":"0854f60e489b5ee6e11a"},{"source":"b602b35c682ec69b9025","target":"95800d30829ab8ab4ba6"},{"source":"f2aff83148a5f64f3222","target":"f1b4a29749408dd826ef"},{"source":"465725cdc547c7cc8491","target":"44bb05aab218a40a4c12"},{"source":"465725cdc547c7cc8491","target":"21746a9668ffdf6d8242"},{"source":"44bb05aab218a40a4c12","target":"21746a9668ffdf6d8242"},{"source":"a40254b6cb914018ff81","target":"2975320"},{"source":"a40254b6cb914018ff81","target":"6100713"},{"source":"eda532b01c24bf4ac1d6","target":"7148ee2a60a09fed0b43"},{"source":"a6916e88484f962d8f95","target":"7090426"},{"source":"d6658135f11023171587","target":"3793462de638478937"},{"source":"58f8fe3e167ef47145d0","target":"adc2dfee7aef48ce5485"},{"source":"d4ff502dc32b5b04eae4","target":"adc2dfee7aef48ce5485"},{"source":"859c7b7150c81cc512b3","target":"782b91b09326541a0fc8"},{"source":"859c7b7150c81cc512b3","target":"a5df8dc94786a27d6420"},{"source":"5c4288aa30de1b949433","target":"67648b87e80fbc31ad20"},{"source":"1a5e8d77ae8feb464167","target":"d15a4f16fa618273e10f"},{"source":"d15a4f16fa618273e10f","target":"5014368"},{"source":"7b051187fe329d705ee9","target":"3a33bfdeda5b8f8c8cd2"},{"source":"7b051187fe329d705ee9","target":"b603c3e0f7a74794da87"},{"source":"3a33bfdeda5b8f8c8cd2","target":"b603c3e0f7a74794da87"},{"source":"bf3d285e48189507e0ea","target":"25e2db4abc9eaf080190"},{"source":"25e2db4abc9eaf080190","target":"3916621"},{"source":"c11409af47b5950f0289","target":"f9dacd23eece9d23669c"},{"source":"b99e416bd99fc0191b50","target":"5b16c2a5716d346e2f34"},{"source":"b99e416bd99fc0191b50","target":"c11409af47b5950f0289"},{"source":"b99e416bd99fc0191b50","target":"f9dacd23eece9d23669c"},{"source":"5b16c2a5716d346e2f34","target":"2e10bf27fa0f9f49588b"},{"source":"5b16c2a5716d346e2f34","target":"c11409af47b5950f0289"},{"source":"5b16c2a5716d346e2f34","target":"f9dacd23eece9d23669c"},{"source":"2e10bf27fa0f9f49588b","target":"dcd01f820aa098133596"},{"source":"2e10bf27fa0f9f49588b","target":"c11409af47b5950f0289"},{"source":"2e10bf27fa0f9f49588b","target":"f9dacd23eece9d23669c"},{"source":"dcd01f820aa098133596","target":"8295697aee7844da2299"},{"source":"dcd01f820aa098133596","target":"c11409af47b5950f0289"},{"source":"dcd01f820aa098133596","target":"f9dacd23eece9d23669c"},{"source":"8295697aee7844da2299","target":"1527c2dd26a26d9ee942"},{"source":"8295697aee7844da2299","target":"c11409af47b5950f0289"},{"source":"8295697aee7844da2299","target":"f9dacd23eece9d23669c"},{"source":"1527c2dd26a26d9ee942","target":"c11409af47b5950f0289"},{"source":"1527c2dd26a26d9ee942","target":"f9dacd23eece9d23669c"},{"source":"a3684c52fb527c8fa415","target":"f6952f1ef900d84be918"},{"source":"a3684c52fb527c8fa415","target":"69808ec7ec07542ed7df"},{"source":"f6952f1ef900d84be918","target":"69808ec7ec07542ed7df"},{"source":"df7f87361bb7e297e751","target":"8e25e1434cdd6db25b69"},{"source":"f5922ed4d0ac1ac2161f","target":"7833311"},{"source":"d6a92a077e78fd33316a","target":"7ea44d0bc364b6bddbd8"},{"source":"d6a92a077e78fd33316a","target":"d6696d28fb47fcf8a537"},{"source":"d6696d28fb47fcf8a537","target":"7ea44d0bc364b6bddbd8"},{"source":"c21840890a4790632124","target":"157333662ef11c151080"},{"source":"42a531c5d87bfc91036e","target":"4062045"},{"source":"42a531c5d87bfc91036e","target":"7f14a531dec565ca0884"},{"source":"42a531c5d87bfc91036e","target":"4bd6d92fd553bb9bac11"},{"source":"e662bb2e2c0783ee82f9","target":"8947871"},{"source":"e662bb2e2c0783ee82f9","target":"5109a9fbd5f9a7230f17"},{"source":"e662bb2e2c0783ee82f9","target":"77cfa8eb62e34833ae7c"},{"source":"77cfa8eb62e34833ae7c","target":"8947871"},{"source":"77cfa8eb62e34833ae7c","target":"5109a9fbd5f9a7230f17"},{"source":"4bd6d92fd553bb9bac11","target":"4062045"},{"source":"4bd6d92fd553bb9bac11","target":"7f14a531dec565ca0884"},{"source":"7b63fef8ccfbad1f851e","target":"6ac67b0d8ed673c9aa61"},{"source":"7b63fef8ccfbad1f851e","target":"1d679f0322174b65d032"},{"source":"7b63fef8ccfbad1f851e","target":"211bd42857358a60a936"},{"source":"211bd42857358a60a936","target":"6ac67b0d8ed673c9aa61"},{"source":"211bd42857358a60a936","target":"1d679f0322174b65d032"},{"source":"5109a9fbd5f9a7230f17","target":"8947871"},{"source":"1d679f0322174b65d032","target":"6ac67b0d8ed673c9aa61"},{"source":"20d4098ce7ed88dde5c4","target":"f3225fa363fbaccb8c9e"},{"source":"20d4098ce7ed88dde5c4","target":"a74519c5a055b2903b41"},{"source":"20d4098ce7ed88dde5c4","target":"98cf105e8531ff12013b"},{"source":"20d4098ce7ed88dde5c4","target":"e7f4634cd71473c9658c"},{"source":"20d4098ce7ed88dde5c4","target":"f8c41743ca81d7828c3a"},{"source":"20d4098ce7ed88dde5c4","target":"7492cc85b1311f69ba3f"},{"source":"20d4098ce7ed88dde5c4","target":"02ac156db28e61ff20bb"},{"source":"20d4098ce7ed88dde5c4","target":"ebda1656976d90e2a636"},{"source":"1fa21f4ccf084f6369d3","target":"1554783"},{"source":"27969219a945e2bd20dc","target":"bd552e711b8325c64729"},{"source":"c741995e777c0e089418","target":"c1f459768d09e0c334c1"},{"source":"2b1446f496c3968f6ecd","target":"3943967"},{"source":"ebda1656976d90e2a636","target":"f3225fa363fbaccb8c9e"},{"source":"ebda1656976d90e2a636","target":"a74519c5a055b2903b41"},{"source":"ebda1656976d90e2a636","target":"98cf105e8531ff12013b"},{"source":"ebda1656976d90e2a636","target":"e7f4634cd71473c9658c"},{"source":"ebda1656976d90e2a636","target":"f8c41743ca81d7828c3a"},{"source":"ebda1656976d90e2a636","target":"7492cc85b1311f69ba3f"},{"source":"ebda1656976d90e2a636","target":"02ac156db28e61ff20bb"},{"source":"02ac156db28e61ff20bb","target":"f3225fa363fbaccb8c9e"},{"source":"02ac156db28e61ff20bb","target":"a74519c5a055b2903b41"},{"source":"02ac156db28e61ff20bb","target":"98cf105e8531ff12013b"},{"source":"02ac156db28e61ff20bb","target":"e7f4634cd71473c9658c"},{"source":"02ac156db28e61ff20bb","target":"f8c41743ca81d7828c3a"},{"source":"02ac156db28e61ff20bb","target":"7492cc85b1311f69ba3f"},{"source":"7492cc85b1311f69ba3f","target":"f3225fa363fbaccb8c9e"},{"source":"7492cc85b1311f69ba3f","target":"a74519c5a055b2903b41"},{"source":"7492cc85b1311f69ba3f","target":"98cf105e8531ff12013b"},{"source":"7492cc85b1311f69ba3f","target":"e7f4634cd71473c9658c"},{"source":"7492cc85b1311f69ba3f","target":"f8c41743ca81d7828c3a"},{"source":"a9a3b146cfe63ab68a6b","target":"618daab0fc5a3ff494d9"},{"source":"bd552e711b8325c64729","target":"e2744ee563f7cab80350"},{"source":"bd552e711b8325c64729","target":"ba569633d51ebec6ec6e"},{"source":"bd552e711b8325c64729","target":"eec4a6cda2f573574a11"},{"source":"7b226e90c7338c69606b","target":"65ae9c0fc95337107448"},{"source":"f8c41743ca81d7828c3a","target":"f3225fa363fbaccb8c9e"},{"source":"f8c41743ca81d7828c3a","target":"a74519c5a055b2903b41"},{"source":"f8c41743ca81d7828c3a","target":"98cf105e8531ff12013b"},{"source":"f8c41743ca81d7828c3a","target":"e7f4634cd71473c9658c"},{"source":"a74519c5a055b2903b41","target":"f3225fa363fbaccb8c9e"},{"source":"a5df8dc94786a27d6420","target":"782b91b09326541a0fc8"},{"source":"f80fdbc2c03dbc1ae4e8","target":"e285b8e4c7b84710e463"},{"source":"f80fdbc2c03dbc1ae4e8","target":"a7c02c493896a33d5f37"},{"source":"a7c02c493896a33d5f37","target":"e285b8e4c7b84710e463"},{"source":"0d95074b6d83a77dc3ad","target":"3887051"},{"source":"0d95074b6d83a77dc3ad","target":"5577023"},{"source":"be2abfb3155a38be4de4","target":"1377729"},{"source":"be2abfb3155a38be4de4","target":"5653692"},{"source":"be2abfb3155a38be4de4","target":"950642"},{"source":"93c5c349be14f459c98a","target":"4679202"},{"source":"b57f4cc89dacd38fcdcd","target":"2fffa9abe50ac97603c7"},{"source":"2fffa9abe50ac97603c7","target":"b6bdb82045c2aa8225f5"},{"source":"bc38c32d24e6fba4db84","target":"1308257"},{"source":"c88435cb568dcaf11308","target":"6746848"},{"source":"c8ef9d67acc044b368ef","target":"298e07ea67a640b5d9f4"},{"source":"8e73290130d9e25c6d9c","target":"d8b1c5f7bc975de83d99"},{"source":"1a75ec54489368b514f8","target":"7d5925cb7d9721c60360"},{"source":"1a75ec54489368b514f8","target":"540b1b884b80b14a44c6"},{"source":"1a75ec54489368b514f8","target":"905bb4f399e0855e08fe"},{"source":"e6f72fbca42e77be0eb3","target":"f8c0220c54ec8347ea95"},{"source":"e6f72fbca42e77be0eb3","target":"aea3c7fc1acc0eca4d44"},{"source":"aea3c7fc1acc0eca4d44","target":"f8c0220c54ec8347ea95"},{"source":"905bb4f399e0855e08fe","target":"433a9b04f82a1c78af4b"},{"source":"0ad500de10f9edfe5d15","target":"895eb781d88148cfd8e5"},{"source":"172a6a53ddbce792b10d","target":"23137b412caf6e80b34a"},{"source":"dcfcc3887ff56a9e1928","target":"7e8e57368175a1433791"},{"source":"13fa3e31fed7834eee10","target":"9265674"},{"source":"6a83de20f780b42fadb9","target":"3b57a788a4b96e1af211"},{"source":"c89a76096c070a5a7d23","target":"9643738d5f79c7b594d0"},{"source":"914d024adf10bface11a","target":"4339184"},{"source":"2af6e6e47935190936b1","target":"3885304"},{"source":"da8e72b5e680c827d6dd","target":"8027637"},{"source":"da8e72b5e680c827d6dd","target":"8027835"},{"source":"da8e72b5e680c827d6dd","target":"06af5f439f24bf28aec0"},{"source":"da8e72b5e680c827d6dd","target":"06aa7e108b77745f1f24"},{"source":"06aa7e108b77745f1f24","target":"8027637"},{"source":"06aa7e108b77745f1f24","target":"8027835"},{"source":"06aa7e108b77745f1f24","target":"06af5f439f24bf28aec0"},{"source":"06af5f439f24bf28aec0","target":"8027637"},{"source":"06af5f439f24bf28aec0","target":"8027835"},{"source":"3dfee2b74943398f0550","target":"98129315d0f7df3b53e3"},{"source":"7e473c251e68ce760e2a","target":"98129315d0f7df3b53e3"},{"source":"98129315d0f7df3b53e3","target":"3887118"},{"source":"f0b021b0a56fee82dd97","target":"5fb51700f991e4101773"},{"source":"f0b021b0a56fee82dd97","target":"8822395"},{"source":"5fb51700f991e4101773","target":"8822395"},{"source":"d7cbf8fd96ce42fed36d","target":"3db48ae4c663ca028a6f"},{"source":"d7cbf8fd96ce42fed36d","target":"1405439"},{"source":"a8aa67de3cd9f2e0554e","target":"8260510"},{"source":"833632f23c308ae2d58b","target":"8f96bf393b94caff688b"},{"source":"833632f23c308ae2d58b","target":"3424eed86f55550622ef"},{"source":"6210bd80bdd20181e1f4","target":"e03a1a5c1a4a95f06c3b"},{"source":"6210bd80bdd20181e1f4","target":"79f16392f7e1bed77f07"},{"source":"e03a1a5c1a4a95f06c3b","target":"8f96bf393b94caff688b"},{"source":"1036b853c3f52b8994a4","target":"6521802"},{"source":"1036b853c3f52b8994a4","target":"0c991d6ed0e994e1c7ed"},{"source":"1036b853c3f52b8994a4","target":"ce638f8bd5e70cb809e1"},{"source":"0c991d6ed0e994e1c7ed","target":"ce638f8bd5e70cb809e1"},{"source":"0c991d6ed0e994e1c7ed","target":"cd8e12c7a18495980bd0"},{"source":"0c991d6ed0e994e1c7ed","target":"8272715"},{"source":"ce638f8bd5e70cb809e1","target":"6521802"},{"source":"8ae3fd45fca0f18372d4","target":"d8c76dfc03589e6dbf1f"},{"source":"4afb54600dc9328d14bd","target":"6521802"},{"source":"bf5c4ea014d0b91f1f04","target":"d3fd26207d7468b6c514"},{"source":"5c5078b3cc3e54e4fec2","target":"4063269"},{"source":"3424eed86f55550622ef","target":"2d502924bad6152acbe5"},{"source":"564fcb398fdad08442c1","target":"a50ccec1c202731fa8f1"},{"source":"564fcb398fdad08442c1","target":"230ff9a14751b8f3092d"},{"source":"a50ccec1c202731fa8f1","target":"a161bdb59b9dcec9a32e"},{"source":"d5fc7956ba6896330ea1","target":"a161bdb59b9dcec9a32e"},{"source":"a161bdb59b9dcec9a32e","target":"70da709633904c6de9d9"},{"source":"a161bdb59b9dcec9a32e","target":"16933e96f51571fbbcd6"},{"source":"a161bdb59b9dcec9a32e","target":"8543484"},{"source":"dcce9b645783d5239a04","target":"8968230"},{"source":"dcce9b645783d5239a04","target":"bffd66a05d5bf04aefa7"},{"source":"dcce9b645783d5239a04","target":"6514960"},{"source":"bffd66a05d5bf04aefa7","target":"6514960"},{"source":"bffd66a05d5bf04aefa7","target":"e2af207bc46782aa460c"},{"source":"bffd66a05d5bf04aefa7","target":"8784942"},{"source":"bffd66a05d5bf04aefa7","target":"8b9e134ca8bae13bb470"},{"source":"e2af207bc46782aa460c","target":"6514960"},{"source":"c3d1662948a049fc80dd","target":"8b9e134ca8bae13bb470"},{"source":"a71ff1c9d6e163e2faea","target":"5171361"},{"source":"a71ff1c9d6e163e2faea","target":"4360c8ac1dcaee373113"},{"source":"7b816a50e66bb62208a7","target":"14e2e4e14898f13e13c7"},{"source":"0444bdd92c1f968c75ef","target":"f5204d3d85bdaa1fd6ea"},{"source":"f5204d3d85bdaa1fd6ea","target":"baf7dd8d481d83b7f37e"},{"source":"2fe464efd794bde5ed68","target":"2d12a584a14910032ab8"},{"source":"2bab520665d975780931","target":"2d12a584a14910032ab8"},{"source":"2d12a584a14910032ab8","target":"3055104"},{"source":"de262983e3ba0c0f89c1","target":"6ac67b0d8ed673c9aa61"},{"source":"de262983e3ba0c0f89c1","target":"1d679f0322174b65d032"},{"source":"51ccb8b4f111ef4aec1c","target":"4b6ab7914183dbf7a16f"},{"source":"51ccb8b4f111ef4aec1c","target":"3b5f766647e15e23e5b8"},{"source":"56aa8232fb56247094ae","target":"3885304"},{"source":"3b5f766647e15e23e5b8","target":"4b6ab7914183dbf7a16f"},{"source":"3ef5a223bdb760a228b4","target":"671c0e7adfb1ce7060b8"},{"source":"8ba86c4fded2c67b34c7","target":"5cce4b8ca41650f14bb4"},{"source":"8ba86c4fded2c67b34c7","target":"515f713d41186e18e384"},{"source":"8ba86c4fded2c67b34c7","target":"680375cb6a66760ea011"},{"source":"680375cb6a66760ea011","target":"5cce4b8ca41650f14bb4"},{"source":"680375cb6a66760ea011","target":"515f713d41186e18e384"},{"source":"515f713d41186e18e384","target":"5cce4b8ca41650f14bb4"},{"source":"c5f71b45dbd87402e6f2","target":"98f56f3e840143a4eccf"},{"source":"0102759ebcb977f2a98b","target":"4063326"},{"source":"4b42493b70dbc9e1ce02","target":"de262983e3ba0c0f89c1"},{"source":"4b42493b70dbc9e1ce02","target":"0d2e658691a4f93cad92"},{"source":"a8d01671b04b326d36de","target":"4282586"},{"source":"bb29b599bce91048ec40","target":"6f26d011aebc4c75272b"},{"source":"cc818fff7a1049cc0efe","target":"7ea44d0bc364b6bddbd8"},{"source":"cc818fff7a1049cc0efe","target":"d6696d28fb47fcf8a537"},{"source":"cc818fff7a1049cc0efe","target":"d6a92a077e78fd33316a"},{"source":"92248ec5049ba86bf125","target":"29cc3cc4078091fd2115"},{"source":"2ceaea7f0a4e37ca5a5d","target":"5cce4b8ca41650f14bb4"},{"source":"2ceaea7f0a4e37ca5a5d","target":"515f713d41186e18e384"},{"source":"2ceaea7f0a4e37ca5a5d","target":"680375cb6a66760ea011"},{"source":"2ceaea7f0a4e37ca5a5d","target":"8ba86c4fded2c67b34c7"},{"source":"58457ea613b84f7544b1","target":"53c6d59ea70afaf19cf1"},{"source":"3cda05ca68cba260cb81","target":"5c136de85de1c2abb6fc"},{"source":"00e6248efe5605c1fa5c","target":"07ed66cc6fc394d6ea53"},{"source":"db24422abdb20150a9dd","target":"d7e4f9199c15d71258b5"},{"source":"db24422abdb20150a9dd","target":"667e4df76848e72f250b"},{"source":"667e4df76848e72f250b","target":"5a801d9153059b226bbd"},{"source":"0d2e658691a4f93cad92","target":"de262983e3ba0c0f89c1"},{"source":"89de858deaf6f8fc78ba","target":"80097d54d4ec4ce83222"},{"source":"40f0f319001394b5f8af","target":"34d2ce39d3b8c2f8a577"},{"source":"40f0f319001394b5f8af","target":"19a3f0afed794cf720b3"},{"source":"40f0f319001394b5f8af","target":"f1a875885437608d17e8"},{"source":"f1a875885437608d17e8","target":"34d2ce39d3b8c2f8a577"},{"source":"f1a875885437608d17e8","target":"19a3f0afed794cf720b3"},{"source":"f1a875885437608d17e8","target":"e025a50dbaae7186e516"},{"source":"d0a42741ce0cf6cdc3ab","target":"11b02f8917fac66d6fe5"},{"source":"d0a42741ce0cf6cdc3ab","target":"e025a50dbaae7186e516"},{"source":"e025a50dbaae7186e516","target":"40d5e61963abf20da067"},{"source":"e025a50dbaae7186e516","target":"11b02f8917fac66d6fe5"},{"source":"e025a50dbaae7186e516","target":"be3744cfe1b318bf4035"},{"source":"6567fb027971588bc779","target":"3757119"},{"source":"6567fb027971588bc779","target":"14e29858efdd19253787"},{"source":"be3744cfe1b318bf4035","target":"40d5e61963abf20da067"},{"source":"be3744cfe1b318bf4035","target":"11b02f8917fac66d6fe5"},{"source":"be4a45ec74357e7d9b10","target":"1da93bab4cdc708f41ae"},{"source":"daf6bc9db8b0a28e3973","target":"1da93bab4cdc708f41ae"},{"source":"11b02f8917fac66d6fe5","target":"40d5e61963abf20da067"},{"source":"40d5e61963abf20da067","target":"94f1376b946c9d217014"},{"source":"94f1376b946c9d217014","target":"1c23d9c7070deb6f8488"},{"source":"1c23d9c7070deb6f8488","target":"950cbe78b4c307fa14a1"},{"source":"a08a1080b88344b0c8a7","target":"9e04ccfebeb84bcdc76c"},{"source":"92abca0ebac031d77521","target":"666179ad5587254694bc"},{"source":"92abca0ebac031d77521","target":"010ffad3577afec10ef6"},{"source":"010ffad3577afec10ef6","target":"666179ad5587254694bc"},{"source":"e749224c89f82788cb18","target":"9673c96a682fe3948379"},{"source":"e749224c89f82788cb18","target":"21f99959d48dd0d0c746"},{"source":"9673c96a682fe3948379","target":"21f99959d48dd0d0c746"},{"source":"f372f1555d1ab41dadd1","target":"211bd42857358a60a936"},{"source":"f372f1555d1ab41dadd1","target":"4403522"},{"source":"f372f1555d1ab41dadd1","target":"3176159"},{"source":"f372f1555d1ab41dadd1","target":"3886208"},{"source":"835c17a94abade5c2ca1","target":"0055d87cfaecc5b06cd2"},{"source":"0055d87cfaecc5b06cd2","target":"4a7f517bec51adc6e7bc"},{"source":"1919bd8c2f574caa17ba","target":"2206590"},{"source":"1919bd8c2f574caa17ba","target":"29cc3cc4078091fd2115"},{"source":"78b10a3836254f8b6d8e","target":"29cc3cc4078091fd2115"},{"source":"78b10a3836254f8b6d8e","target":"92248ec5049ba86bf125"},{"source":"2aead353c3446ee9acca","target":"5cce4b8ca41650f14bb4"},{"source":"2aead353c3446ee9acca","target":"515f713d41186e18e384"},{"source":"2aead353c3446ee9acca","target":"680375cb6a66760ea011"},{"source":"2aead353c3446ee9acca","target":"8ba86c4fded2c67b34c7"},{"source":"2aead353c3446ee9acca","target":"2ceaea7f0a4e37ca5a5d"},{"source":"8a173cfcb9171627c7f1","target":"6ac67b0d8ed673c9aa61"},{"source":"8a173cfcb9171627c7f1","target":"f2f6883ac7c965d09b90"},{"source":"8a173cfcb9171627c7f1","target":"1da93bab4cdc708f41ae"},{"source":"8a173cfcb9171627c7f1","target":"daf6bc9db8b0a28e3973"},{"source":"8a173cfcb9171627c7f1","target":"be4a45ec74357e7d9b10"},{"source":"8a173cfcb9171627c7f1","target":"db1e524cae5e4344b2e6"},{"source":"b66a37afe6581eb5bc0c","target":"6daa5503fc60d4a89a11"},{"source":"a61e208c37ea177cf83a","target":"15f52d2ec0b035b53c6f"},{"source":"5a801d9153059b226bbd","target":"b6e4ec3859b2f732dfc0"},{"source":"8a7f9bed9715c0eb678a","target":"7ef773bdf11999c9eebb"},{"source":"d1c32b2e77120f560061","target":"230ff9a14751b8f3092d"},{"source":"018e79e4b62e86dfd988","target":"66eee134d6fd3babb716"},{"source":"00336c9eb59ee956426d","target":"2920551"},{"source":"23b5bc37d39c9f9dd5e7","target":"ea64575d70ecf3354874"},{"source":"23b5bc37d39c9f9dd5e7","target":"b5df5023965f65719d7a"},{"source":"23b5bc37d39c9f9dd5e7","target":"93297e55e7535dd833a1"},{"source":"93297e55e7535dd833a1","target":"ea64575d70ecf3354874"},{"source":"93297e55e7535dd833a1","target":"b5df5023965f65719d7a"},{"source":"b956ee7215b7b50bc78a","target":"4248145"},{"source":"3e46da46186e1dc1a02e","target":"3885304"},{"source":"9fc66f76d0217475f2e4","target":"f8e9ae0a4c101d978f84"},{"source":"fcef0e6dac231ef2e54b","target":"9358409"},{"source":"fcef0e6dac231ef2e54b","target":"61a4bd0cfc373cf08884"},{"source":"fcef0e6dac231ef2e54b","target":"1db896c1a38d89ae71b4"},{"source":"1db896c1a38d89ae71b4","target":"9358409"},{"source":"1db896c1a38d89ae71b4","target":"61a4bd0cfc373cf08884"},{"source":"61a4bd0cfc373cf08884","target":"9358409"},{"source":"6bd2b990bea368bd6358","target":"3d66eaf6306fe3b279e6"},{"source":"6bd2b990bea368bd6358","target":"e52b02edb554747370c5"},{"source":"e52b02edb554747370c5","target":"3d66eaf6306fe3b279e6"},{"source":"5f168b5c884b1f9c36a5","target":"3886208"},{"source":"5f168b5c884b1f9c36a5","target":"8325617"},{"source":"3601e88d5317ab2be0e8","target":"3885304"},{"source":"294eae4fec5e31d0390d","target":"280d83080497c8c13152"},{"source":"294eae4fec5e31d0390d","target":"487ef139e7025406c4c1"},{"source":"487ef139e7025406c4c1","target":"280d83080497c8c13152"},{"source":"4506b5bf37fab13586f7","target":"1667367"},{"source":"a3b5571be92a0513b2f9","target":"4062085"},{"source":"a3b5571be92a0513b2f9","target":"ca5eb04b731b7676104a"},{"source":"a3b5571be92a0513b2f9","target":"e8ea925f7c61b353f694"},{"source":"a3b5571be92a0513b2f9","target":"47ec2268b4e1edfda9d7"},{"source":"47ec2268b4e1edfda9d7","target":"4062085"},{"source":"47ec2268b4e1edfda9d7","target":"ca5eb04b731b7676104a"},{"source":"47ec2268b4e1edfda9d7","target":"e8ea925f7c61b353f694"},{"source":"e8ea925f7c61b353f694","target":"4062085"},{"source":"e8ea925f7c61b353f694","target":"ca5eb04b731b7676104a"},{"source":"ca5eb04b731b7676104a","target":"4062085"},{"source":"fa6292523b1680ecbb15","target":"308aa0fb4aeb2771b6cc"},{"source":"fe31fe34099bbb41e0a7","target":"3885304"},{"source":"e266096cad90266aa85e","target":"3885304"},{"source":"e266096cad90266aa85e","target":"6b62ef1ddf6523b1f0fd"},{"source":"6b62ef1ddf6523b1f0fd","target":"3885304"},{"source":"f641200424b306c4b724","target":"3885304"},{"source":"f641200424b306c4b724","target":"df9af361ca4b8f34aec9"},{"source":"df9af361ca4b8f34aec9","target":"3885304"},{"source":"f2e095a4f77bc51b6010","target":"8d7bad2d954ee09ea347"},{"source":"f2e095a4f77bc51b6010","target":"d1f3811a4964d484017c"},{"source":"f2e095a4f77bc51b6010","target":"262b5344222f227dd9d3"},{"source":"f2e095a4f77bc51b6010","target":"f633095702b6f478cc12"},{"source":"f633095702b6f478cc12","target":"8d7bad2d954ee09ea347"},{"source":"f633095702b6f478cc12","target":"d1f3811a4964d484017c"},{"source":"f633095702b6f478cc12","target":"262b5344222f227dd9d3"},{"source":"262b5344222f227dd9d3","target":"8d7bad2d954ee09ea347"},{"source":"262b5344222f227dd9d3","target":"d1f3811a4964d484017c"},{"source":"d1f3811a4964d484017c","target":"8d7bad2d954ee09ea347"},{"source":"2ed04b7552f1ef9f8e0c","target":"3885304"},{"source":"2ed04b7552f1ef9f8e0c","target":"9e3f368898e5fca662f2"},{"source":"9e3f368898e5fca662f2","target":"3885304"},{"source":"aa2b8867d2f13ead838b","target":"3885304"},{"source":"75878caf6912fe6bfe85","target":"3885304"},{"source":"75878caf6912fe6bfe85","target":"c5d9a583437b19493ba3"},{"source":"75878caf6912fe6bfe85","target":"a7ef0b8473773b3ccda1"},{"source":"75878caf6912fe6bfe85","target":"a2db15a154b360c591c7"},{"source":"a2db15a154b360c591c7","target":"3885304"},{"source":"a2db15a154b360c591c7","target":"c5d9a583437b19493ba3"},{"source":"a2db15a154b360c591c7","target":"a7ef0b8473773b3ccda1"},{"source":"a7ef0b8473773b3ccda1","target":"3885304"},{"source":"a7ef0b8473773b3ccda1","target":"c5d9a583437b19493ba3"},{"source":"c5d9a583437b19493ba3","target":"3885304"},{"source":"4082de18058c055efe84","target":"3885304"},{"source":"1733c62207e0bf614f06","target":"3885304"},{"source":"8b896db8aac59dac7a37","target":"f37b07b92633781a46f7"},{"source":"8b896db8aac59dac7a37","target":"9b16c3815f461d8c0817"},{"source":"9b16c3815f461d8c0817","target":"f37b07b92633781a46f7"},{"source":"3ef8e84b6a3482c9efa9","target":"c32d1c61d0d09dcda690"},{"source":"3ef8e84b6a3482c9efa9","target":"38cd48fe454b017122aa"},{"source":"38cd48fe454b017122aa","target":"c32d1c61d0d09dcda690"},{"source":"c23d14a90a18c0ba9498","target":"3885304"},{"source":"c23d14a90a18c0ba9498","target":"33a6d86c5036e61549b5"},{"source":"c23d14a90a18c0ba9498","target":"eca6a6ab132db0eb3278"},{"source":"eca6a6ab132db0eb3278","target":"3885304"},{"source":"eca6a6ab132db0eb3278","target":"33a6d86c5036e61549b5"},{"source":"33a6d86c5036e61549b5","target":"3885304"},{"source":"07cbeabf93c7ece31c2d","target":"3885304"},{"source":"07cbeabf93c7ece31c2d","target":"5cebc9137ffcd6271071"},{"source":"07cbeabf93c7ece31c2d","target":"59ad8df8112637667982"},{"source":"59ad8df8112637667982","target":"3885304"},{"source":"59ad8df8112637667982","target":"5cebc9137ffcd6271071"},{"source":"0a4fc38df5249e1614a1","target":"3885304"},{"source":"8ed968fc7b4ccb04630c","target":"3885304"},{"source":"01deb69af82797bd8738","target":"3885304"},{"source":"01deb69af82797bd8738","target":"18c2975af798328a528f"},{"source":"18c2975af798328a528f","target":"3885304"},{"source":"99df29f258860e53c5e2","target":"3878819"},{"source":"99df29f258860e53c5e2","target":"1014829"},{"source":"99df29f258860e53c5e2","target":"1238376"},{"source":"db57b9e8546b4b83a405","target":"66474fc2225415d1ebd3"},{"source":"db57b9e8546b4b83a405","target":"ea0a8c361ba849711628"},{"source":"db57b9e8546b4b83a405","target":"671c0e7adfb1ce7060b8"},{"source":"ea0a8c361ba849711628","target":"66474fc2225415d1ebd3"},{"source":"ea0a8c361ba849711628","target":"4f068e1a8833a7d2f2fb"},{"source":"ea0a8c361ba849711628","target":"671c0e7adfb1ce7060b8"},{"source":"4f068e1a8833a7d2f2fb","target":"4248145"},{"source":"66474fc2225415d1ebd3","target":"3f6e737fd8e50f6cbda2"},{"source":"66474fc2225415d1ebd3","target":"671c0e7adfb1ce7060b8"},{"source":"3f6e737fd8e50f6cbda2","target":"42b1361b49ed2cc4e0ae"},{"source":"3f6e737fd8e50f6cbda2","target":"671c0e7adfb1ce7060b8"},{"source":"42b1361b49ed2cc4e0ae","target":"3ef5a223bdb760a228b4"},{"source":"42b1361b49ed2cc4e0ae","target":"671c0e7adfb1ce7060b8"},{"source":"4ee4c58c9dfc2a41ed26","target":"4248145"},{"source":"26c887df79dc869059ba","target":"8a173cfcb9171627c7f1"},{"source":"26c887df79dc869059ba","target":"037488ed37f0e1cbfe32"},{"source":"26c887df79dc869059ba","target":"6420534"},{"source":"b1cd9a8ae8f2f9d67ea9","target":"0cfe97cda6ed02d49591"},{"source":"4b86c29e1669b75653de","target":"66d926fe73211fd650ec"},{"source":"9bae6529ccab4b902a50","target":"a35687613ab0f4991f37"},{"source":"c4a8380f6b3a5ae6668d","target":"1582075"},{"source":"57f23fbddd23a0386030","target":"4360892"},{"source":"41b50ea8bb206e44fec2","target":"a0d2efed63aeefce5cb0"},{"source":"b3f5eb034f440cfb6809","target":"a003bf90d75a54c7ccb6"},{"source":"f56bb7f0e3c73358b752","target":"0b4b038fd4dd3a046168"},{"source":"f56bb7f0e3c73358b752","target":"ddc9632a718e306b6e71"},{"source":"f56bb7f0e3c73358b752","target":"3f0e150ff6a86838f810"},{"source":"f3708ba3311007a9b4a6","target":"8033015"},{"source":"6783e81b15f3205e9ff2","target":"162e96df868aa79167ac"},{"source":"f25a996484a0588cb8c2","target":"542e6e08a2a9f7c2ebac"},{"source":"f25a996484a0588cb8c2","target":"2f2183747543c804b8ca"},{"source":"f25a996484a0588cb8c2","target":"9d62b7a2c4335a0fd1e6"},{"source":"9d62b7a2c4335a0fd1e6","target":"542e6e08a2a9f7c2ebac"},{"source":"9d62b7a2c4335a0fd1e6","target":"2f2183747543c804b8ca"},{"source":"2f2183747543c804b8ca","target":"542e6e08a2a9f7c2ebac"},{"source":"9154d57067918cdb4cf5","target":"3969722"},{"source":"b84846a0511acfeaf925","target":"3231298"},{"source":"744228c927ee95871559","target":"1440766"},{"source":"744228c927ee95871559","target":"8ad986db8b3f5cc82e69"},{"source":"810749b7dbcf0eca1e4e","target":"3887051"},{"source":"b887532acfb8b001940d","target":"341ed17c343e2520bde6"},{"source":"b887532acfb8b001940d","target":"04a00e72a27edafa5ab8"},{"source":"b887532acfb8b001940d","target":"3c280b21451e269ba759"},{"source":"b887532acfb8b001940d","target":"06972c1773b30ccdb2d8"},{"source":"b887532acfb8b001940d","target":"4c45db68b16ff90254de"},{"source":"b887532acfb8b001940d","target":"77428cb3e0875e9683d9"},{"source":"b887532acfb8b001940d","target":"4dbe405dc614fd08ad77"},{"source":"b887532acfb8b001940d","target":"b3dbd57c3ec465a3d925"},{"source":"b887532acfb8b001940d","target":"5df8dd084a93ad878cfc"},{"source":"b887532acfb8b001940d","target":"bb56b979c5a6117b334b"},{"source":"bb56b979c5a6117b334b","target":"341ed17c343e2520bde6"},{"source":"bb56b979c5a6117b334b","target":"04a00e72a27edafa5ab8"},{"source":"bb56b979c5a6117b334b","target":"3c280b21451e269ba759"},{"source":"bb56b979c5a6117b334b","target":"06972c1773b30ccdb2d8"},{"source":"bb56b979c5a6117b334b","target":"4c45db68b16ff90254de"},{"source":"bb56b979c5a6117b334b","target":"77428cb3e0875e9683d9"},{"source":"bb56b979c5a6117b334b","target":"4dbe405dc614fd08ad77"},{"source":"bb56b979c5a6117b334b","target":"b3dbd57c3ec465a3d925"},{"source":"bb56b979c5a6117b334b","target":"5df8dd084a93ad878cfc"},{"source":"5df8dd084a93ad878cfc","target":"341ed17c343e2520bde6"},{"source":"5df8dd084a93ad878cfc","target":"04a00e72a27edafa5ab8"},{"source":"5df8dd084a93ad878cfc","target":"3c280b21451e269ba759"},{"source":"5df8dd084a93ad878cfc","target":"06972c1773b30ccdb2d8"},{"source":"5df8dd084a93ad878cfc","target":"4c45db68b16ff90254de"},{"source":"5df8dd084a93ad878cfc","target":"77428cb3e0875e9683d9"},{"source":"5df8dd084a93ad878cfc","target":"4dbe405dc614fd08ad77"},{"source":"5df8dd084a93ad878cfc","target":"b3dbd57c3ec465a3d925"},{"source":"b3dbd57c3ec465a3d925","target":"341ed17c343e2520bde6"},{"source":"b3dbd57c3ec465a3d925","target":"04a00e72a27edafa5ab8"},{"source":"b3dbd57c3ec465a3d925","target":"3c280b21451e269ba759"},{"source":"b3dbd57c3ec465a3d925","target":"06972c1773b30ccdb2d8"},{"source":"b3dbd57c3ec465a3d925","target":"4c45db68b16ff90254de"},{"source":"b3dbd57c3ec465a3d925","target":"77428cb3e0875e9683d9"},{"source":"b3dbd57c3ec465a3d925","target":"4dbe405dc614fd08ad77"},{"source":"4dbe405dc614fd08ad77","target":"341ed17c343e2520bde6"},{"source":"4dbe405dc614fd08ad77","target":"04a00e72a27edafa5ab8"},{"source":"4dbe405dc614fd08ad77","target":"3c280b21451e269ba759"},{"source":"4dbe405dc614fd08ad77","target":"06972c1773b30ccdb2d8"},{"source":"4dbe405dc614fd08ad77","target":"4c45db68b16ff90254de"},{"source":"4dbe405dc614fd08ad77","target":"77428cb3e0875e9683d9"},{"source":"77428cb3e0875e9683d9","target":"341ed17c343e2520bde6"},{"source":"77428cb3e0875e9683d9","target":"04a00e72a27edafa5ab8"},{"source":"77428cb3e0875e9683d9","target":"3c280b21451e269ba759"},{"source":"77428cb3e0875e9683d9","target":"06972c1773b30ccdb2d8"},{"source":"77428cb3e0875e9683d9","target":"4c45db68b16ff90254de"},{"source":"4c45db68b16ff90254de","target":"341ed17c343e2520bde6"},{"source":"4c45db68b16ff90254de","target":"04a00e72a27edafa5ab8"},{"source":"4c45db68b16ff90254de","target":"3c280b21451e269ba759"},{"source":"4c45db68b16ff90254de","target":"06972c1773b30ccdb2d8"},{"source":"06972c1773b30ccdb2d8","target":"341ed17c343e2520bde6"},{"source":"06972c1773b30ccdb2d8","target":"04a00e72a27edafa5ab8"},{"source":"06972c1773b30ccdb2d8","target":"3c280b21451e269ba759"},{"source":"3c280b21451e269ba759","target":"341ed17c343e2520bde6"},{"source":"3c280b21451e269ba759","target":"04a00e72a27edafa5ab8"},{"source":"04a00e72a27edafa5ab8","target":"341ed17c343e2520bde6"},{"source":"f73384946e17e4b1b46a","target":"52239ed074878b9a60ca"},{"source":"52239ed074878b9a60ca","target":"2f93011f91b398b936be"},{"source":"2481e1f3b1d92002317e","target":"9499896"},{"source":"c0da0fb4a6c9e4c393de","target":"a9e99b949d0d9b1e6b85"},{"source":"c0da0fb4a6c9e4c393de","target":"c5e83b964f5cf7c5edda"},{"source":"c5e83b964f5cf7c5edda","target":"a9e99b949d0d9b1e6b85"},{"source":"09bc0b1f7512757ad152","target":"b1014a71757ce72444e1"},{"source":"09bc0b1f7512757ad152","target":"34784700eb8fb594f17f"},{"source":"09bc0b1f7512757ad152","target":"9eea6a43904b1a158e92"},{"source":"55d327542393530662c3","target":"d0a42741ce0cf6cdc3ab"},{"source":"55d327542393530662c3","target":"40d5e61963abf20da067"},{"source":"55d327542393530662c3","target":"60a1ba782ce09cf2091e"},{"source":"55d327542393530662c3","target":"3757119"},{"source":"55d327542393530662c3","target":"6567fb027971588bc779"},{"source":"38845ef1d0c11b40dfd8","target":"94f1376b946c9d217014"},{"source":"38845ef1d0c11b40dfd8","target":"60a1ba782ce09cf2091e"},{"source":"60a1ba782ce09cf2091e","target":"94f1376b946c9d217014"},{"source":"851f506aac452bf962d3","target":"8838736cfa6f3f960e2c"},{"source":"8838736cfa6f3f960e2c","target":"430efaf8f592d018bd3e"},{"source":"430efaf8f592d018bd3e","target":"a08a1080b88344b0c8a7"},{"source":"9938078a93a4ba380a0e","target":"014b461f460cf8fa3b77"},{"source":"014b461f460cf8fa3b77","target":"1af08ad6cdb01707c33f"},{"source":"014b461f460cf8fa3b77","target":"46050d18d5ec1ab401fa"},{"source":"9eea6a43904b1a158e92","target":"b1014a71757ce72444e1"},{"source":"9eea6a43904b1a158e92","target":"34784700eb8fb594f17f"},{"source":"34784700eb8fb594f17f","target":"3883195"},{"source":"34784700eb8fb594f17f","target":"e05c76ab9450cbc214ac"},{"source":"b1014a71757ce72444e1","target":"e05c76ab9450cbc214ac"},{"source":"e6a1a8b53e87cadd00aa","target":"1297670a35e6e0841636"},{"source":"b50089030f88e5f58c07","target":"5446416"},{"source":"131ad62a0ef5a8e6968b","target":"a3ee04578325668bd3f8"},{"source":"131ad62a0ef5a8e6968b","target":"5a4ab3ca8b3b7b57d234"},{"source":"131ad62a0ef5a8e6968b","target":"0f7abbfc6ab01513d89a"},{"source":"131ad62a0ef5a8e6968b","target":"d9ad0499316f09c598a3"},{"source":"131ad62a0ef5a8e6968b","target":"2a7a31815153d26b39f6"},{"source":"131ad62a0ef5a8e6968b","target":"69c42b901d0ed52d480a"},{"source":"131ad62a0ef5a8e6968b","target":"3bb8a779948659a5b101"},{"source":"131ad62a0ef5a8e6968b","target":"07bbe91f368e5ce0b180"},{"source":"131ad62a0ef5a8e6968b","target":"a5e1b098533228613f28"},{"source":"131ad62a0ef5a8e6968b","target":"de4a9e0010795ace76b8"},{"source":"a3ee04578325668bd3f8","target":"5a4ab3ca8b3b7b57d234"},{"source":"a3ee04578325668bd3f8","target":"0f7abbfc6ab01513d89a"},{"source":"a3ee04578325668bd3f8","target":"d9ad0499316f09c598a3"},{"source":"a3ee04578325668bd3f8","target":"2a7a31815153d26b39f6"},{"source":"a3ee04578325668bd3f8","target":"69c42b901d0ed52d480a"},{"source":"a3ee04578325668bd3f8","target":"3bb8a779948659a5b101"},{"source":"a3ee04578325668bd3f8","target":"07bbe91f368e5ce0b180"},{"source":"a3ee04578325668bd3f8","target":"a5e1b098533228613f28"},{"source":"a3ee04578325668bd3f8","target":"de4a9e0010795ace76b8"},{"source":"69c42b901d0ed52d480a","target":"5a4ab3ca8b3b7b57d234"},{"source":"69c42b901d0ed52d480a","target":"0f7abbfc6ab01513d89a"},{"source":"69c42b901d0ed52d480a","target":"d9ad0499316f09c598a3"},{"source":"69c42b901d0ed52d480a","target":"2a7a31815153d26b39f6"},{"source":"69c42b901d0ed52d480a","target":"3bb8a779948659a5b101"},{"source":"69c42b901d0ed52d480a","target":"07bbe91f368e5ce0b180"},{"source":"69c42b901d0ed52d480a","target":"a5e1b098533228613f28"},{"source":"69c42b901d0ed52d480a","target":"de4a9e0010795ace76b8"},{"source":"2a7a31815153d26b39f6","target":"5a4ab3ca8b3b7b57d234"},{"source":"2a7a31815153d26b39f6","target":"0f7abbfc6ab01513d89a"},{"source":"2a7a31815153d26b39f6","target":"d9ad0499316f09c598a3"},{"source":"2a7a31815153d26b39f6","target":"3bb8a779948659a5b101"},{"source":"2a7a31815153d26b39f6","target":"07bbe91f368e5ce0b180"},{"source":"2a7a31815153d26b39f6","target":"a5e1b098533228613f28"},{"source":"2a7a31815153d26b39f6","target":"de4a9e0010795ace76b8"},{"source":"d9ad0499316f09c598a3","target":"5a4ab3ca8b3b7b57d234"},{"source":"d9ad0499316f09c598a3","target":"0f7abbfc6ab01513d89a"},{"source":"d9ad0499316f09c598a3","target":"3bb8a779948659a5b101"},{"source":"d9ad0499316f09c598a3","target":"07bbe91f368e5ce0b180"},{"source":"d9ad0499316f09c598a3","target":"a5e1b098533228613f28"},{"source":"d9ad0499316f09c598a3","target":"de4a9e0010795ace76b8"},{"source":"0f7abbfc6ab01513d89a","target":"5a4ab3ca8b3b7b57d234"},{"source":"0f7abbfc6ab01513d89a","target":"3bb8a779948659a5b101"},{"source":"0f7abbfc6ab01513d89a","target":"07bbe91f368e5ce0b180"},{"source":"0f7abbfc6ab01513d89a","target":"a5e1b098533228613f28"},{"source":"0f7abbfc6ab01513d89a","target":"de4a9e0010795ace76b8"},{"source":"5a4ab3ca8b3b7b57d234","target":"3bb8a779948659a5b101"},{"source":"5a4ab3ca8b3b7b57d234","target":"07bbe91f368e5ce0b180"},{"source":"5a4ab3ca8b3b7b57d234","target":"a5e1b098533228613f28"},{"source":"5a4ab3ca8b3b7b57d234","target":"de4a9e0010795ace76b8"},{"source":"de4a9e0010795ace76b8","target":"3bb8a779948659a5b101"},{"source":"de4a9e0010795ace76b8","target":"07bbe91f368e5ce0b180"},{"source":"de4a9e0010795ace76b8","target":"a5e1b098533228613f28"},{"source":"a5e1b098533228613f28","target":"3bb8a779948659a5b101"},{"source":"a5e1b098533228613f28","target":"07bbe91f368e5ce0b180"},{"source":"07bbe91f368e5ce0b180","target":"3bb8a779948659a5b101"},{"source":"c31c5eb3bf1c5a72bde9","target":"39d0395522fb4882de38"},{"source":"7d15b6ea45e5b37c20c4","target":"df90b219b9443e457e0d"},{"source":"7d15b6ea45e5b37c20c4","target":"bc36d0af347f32152e07"},{"source":"7b66ad387b75d6077348","target":"d517a035d0abb5cd0919"},{"source":"9ea56e041f6847dbe944","target":"6193058"},{"source":"94c3203a8f86d34a6af7","target":"6476579"},{"source":"94c3203a8f86d34a6af7","target":"6123708"},{"source":"94c3203a8f86d34a6af7","target":"752b97cef3f880a813ab"},{"source":"94c3203a8f86d34a6af7","target":"86e51152d02e6280e9f3"},{"source":"1e7a161a8bf6f545b8f8","target":"50667ddd436c39f66b84"},{"source":"1fd196cd99f8d58a56d3","target":"8be32e6f1f32920ba841"},{"source":"dc1ce756527c072885dc","target":"18cb7a77b2d9de597b86"},{"source":"b95748220bd4752fb33a","target":"18cb7a77b2d9de597b86"},{"source":"bdc0474429e6567bc320","target":"3887118,"},{"source":"707cc158d2520c4e4602","target":"8287bd24c157edb5bb2b"},{"source":"e09fcd2621b42d07a9fe","target":"acb1dde273bff654262c"},{"source":"0faeb2237488f7aa526b","target":"66fa642ce3eb6a0de885"},{"source":"6e602654b41a48709612","target":"3884955"},{"source":"d6c5a1923f53a60876ad","target":"3884955"},{"source":"d6c5a1923f53a60876ad","target":"6be047ed3c064b505c8f"},{"source":"6be047ed3c064b505c8f","target":"3884955"},{"source":"533e9ec746874e1a36cd","target":"3884955"},{"source":"6e75ad8f8664c245d0a0","target":"3884955"},{"source":"09f8c8eb06feff3e6dea","target":"2b1e4cc603310e9abc86"},{"source":"09f8c8eb06feff3e6dea","target":"17567df60d22eed325b4"},{"source":"09f8c8eb06feff3e6dea","target":"e758727fb4e111fdf045"},{"source":"09f8c8eb06feff3e6dea","target":"b3f97b9b6a27a2878f5b"},{"source":"09f8c8eb06feff3e6dea","target":"51cd71f0b6854e57e6a1"},{"source":"09f8c8eb06feff3e6dea","target":"c55265d611e30e7e95f0"},{"source":"09f8c8eb06feff3e6dea","target":"0514ad3e56d05722f997"},{"source":"0514ad3e56d05722f997","target":"2b1e4cc603310e9abc86"},{"source":"0514ad3e56d05722f997","target":"17567df60d22eed325b4"},{"source":"0514ad3e56d05722f997","target":"e758727fb4e111fdf045"},{"source":"0514ad3e56d05722f997","target":"b3f97b9b6a27a2878f5b"},{"source":"0514ad3e56d05722f997","target":"51cd71f0b6854e57e6a1"},{"source":"0514ad3e56d05722f997","target":"c55265d611e30e7e95f0"},{"source":"c55265d611e30e7e95f0","target":"2b1e4cc603310e9abc86"},{"source":"c55265d611e30e7e95f0","target":"17567df60d22eed325b4"},{"source":"c55265d611e30e7e95f0","target":"e758727fb4e111fdf045"},{"source":"c55265d611e30e7e95f0","target":"b3f97b9b6a27a2878f5b"},{"source":"c55265d611e30e7e95f0","target":"51cd71f0b6854e57e6a1"},{"source":"51cd71f0b6854e57e6a1","target":"2b1e4cc603310e9abc86"},{"source":"51cd71f0b6854e57e6a1","target":"17567df60d22eed325b4"},{"source":"51cd71f0b6854e57e6a1","target":"e758727fb4e111fdf045"},{"source":"51cd71f0b6854e57e6a1","target":"b3f97b9b6a27a2878f5b"},{"source":"b3f97b9b6a27a2878f5b","target":"2b1e4cc603310e9abc86"},{"source":"b3f97b9b6a27a2878f5b","target":"17567df60d22eed325b4"},{"source":"b3f97b9b6a27a2878f5b","target":"e758727fb4e111fdf045"},{"source":"e758727fb4e111fdf045","target":"2b1e4cc603310e9abc86"},{"source":"e758727fb4e111fdf045","target":"17567df60d22eed325b4"},{"source":"17567df60d22eed325b4","target":"2b1e4cc603310e9abc86"},{"source":"264ed380895fea0d3844","target":"3884955"},{"source":"3fa3c1a523c8f3c2cfb9","target":"e749224c89f82788cb18"},{"source":"3fa3c1a523c8f3c2cfb9","target":"9673c96a682fe3948379"},{"source":"3fa3c1a523c8f3c2cfb9","target":"21f99959d48dd0d0c746"},{"source":"89e1e69c888e8241ed92","target":"1e6da47724c39156adb3"},{"source":"89e1e69c888e8241ed92","target":"0a8fe1caa2ac025c8e86"},{"source":"9da0a8c4e7391243e941","target":"3884955"},{"source":"9da0a8c4e7391243e941","target":"fa5deb2022e829449688"},{"source":"9da0a8c4e7391243e941","target":"189bbf2dad71071b9969"},{"source":"9da0a8c4e7391243e941","target":"2583342b5b484e70899b"},{"source":"ca1f73e81c2440b46eed","target":"3884955"},{"source":"ca1f73e81c2440b46eed","target":"5cf2da9490fac8f59799"},{"source":"5cf2da9490fac8f59799","target":"3884955"},{"source":"a416105e509593928ec5","target":"3884955"},{"source":"a7b5b1f23019e065d8aa","target":"3884955"},{"source":"ca351b22bc0778e97d79","target":"3884955"},{"source":"ca351b22bc0778e97d79","target":"f80a387b1ce45adfbe08"},{"source":"f80a387b1ce45adfbe08","target":"3884955"},{"source":"d63a29287faa83227f65","target":"3884955"},{"source":"d63a29287faa83227f65","target":"9d9ccdf86fb59ab6c6e0"},{"source":"d63a29287faa83227f65","target":"29d80cf22eda5b55e2c1"},{"source":"d63a29287faa83227f65","target":"7c289a9dbf38ceb665d8"},{"source":"d63a29287faa83227f65","target":"a45d78cc14704ced3f88"},{"source":"d63a29287faa83227f65","target":"deb677307bfb906b38e6"},{"source":"d63a29287faa83227f65","target":"a9711c2f39239465f30e"},{"source":"d63a29287faa83227f65","target":"de369cc33c7c02015263"},{"source":"d63a29287faa83227f65","target":"6e75e8d20da020b9de19"},{"source":"d63a29287faa83227f65","target":"1727593e326e81b0951f"},{"source":"d63a29287faa83227f65","target":"4db859d1e3fd8e8b8642"},{"source":"d63a29287faa83227f65","target":"a2e10229636d23f13dbb"},{"source":"d63a29287faa83227f65","target":"d7aded22d8ab1a5ff063"},{"source":"d63a29287faa83227f65","target":"527111d4bf58cfbaa8f7"},{"source":"d63a29287faa83227f65","target":"4119e1e519d687eb7ffc"},{"source":"d63a29287faa83227f65","target":"aaa180c9379a902aba3e"},{"source":"d63a29287faa83227f65","target":"5359c5b7020527a68e60"},{"source":"d63a29287faa83227f65","target":"aa154290d2f39a1ab54b"},{"source":"d63a29287faa83227f65","target":"ab47787d16eb43d8af34"},{"source":"d63a29287faa83227f65","target":"185510fc80ac8a874cd1"},{"source":"d63a29287faa83227f65","target":"7ae92335446d3ad639d0"},{"source":"d63a29287faa83227f65","target":"5740eb91f7f2f4bef0ae"},{"source":"d63a29287faa83227f65","target":"7d8f7ff7f31b2789b1f9"},{"source":"d63a29287faa83227f65","target":"87df80ba235efb82e9de"},{"source":"d63a29287faa83227f65","target":"7b28e2aca81bd450e15e"},{"source":"d63a29287faa83227f65","target":"6d6fa3b5fbd160e0afb4"},{"source":"d63a29287faa83227f65","target":"640803240b9db8f610af"},{"source":"d63a29287faa83227f65","target":"3da6b1e5522c57dd8106"},{"source":"d63a29287faa83227f65","target":"c7b3934926cee4f7b39e"},{"source":"d63a29287faa83227f65","target":"80509e9d1cdc66568152"},{"source":"d63a29287faa83227f65","target":"a592a0a644f806ee56a7"},{"source":"d63a29287faa83227f65","target":"ab22a21c4fb7d977ea7b"},{"source":"d63a29287faa83227f65","target":"b74bb2749f8a96c4c241"},{"source":"d63a29287faa83227f65","target":"b7f4298f7d2892ba4b1b"},{"source":"d63a29287faa83227f65","target":"d865b3a6873f39fe0d75"},{"source":"d63a29287faa83227f65","target":"65ea67b5e062b5ba666b"},{"source":"d63a29287faa83227f65","target":"921af093736051ab15a8"},{"source":"921af093736051ab15a8","target":"3884955"},{"source":"921af093736051ab15a8","target":"9d9ccdf86fb59ab6c6e0"},{"source":"921af093736051ab15a8","target":"29d80cf22eda5b55e2c1"},{"source":"921af093736051ab15a8","target":"7c289a9dbf38ceb665d8"},{"source":"921af093736051ab15a8","target":"a45d78cc14704ced3f88"},{"source":"921af093736051ab15a8","target":"deb677307bfb906b38e6"},{"source":"921af093736051ab15a8","target":"a9711c2f39239465f30e"},{"source":"921af093736051ab15a8","target":"de369cc33c7c02015263"},{"source":"921af093736051ab15a8","target":"6e75e8d20da020b9de19"},{"source":"921af093736051ab15a8","target":"1727593e326e81b0951f"},{"source":"921af093736051ab15a8","target":"4db859d1e3fd8e8b8642"},{"source":"921af093736051ab15a8","target":"a2e10229636d23f13dbb"},{"source":"921af093736051ab15a8","target":"d7aded22d8ab1a5ff063"},{"source":"921af093736051ab15a8","target":"527111d4bf58cfbaa8f7"},{"source":"921af093736051ab15a8","target":"4119e1e519d687eb7ffc"},{"source":"921af093736051ab15a8","target":"aaa180c9379a902aba3e"},{"source":"921af093736051ab15a8","target":"5359c5b7020527a68e60"},{"source":"921af093736051ab15a8","target":"aa154290d2f39a1ab54b"},{"source":"921af093736051ab15a8","target":"ab47787d16eb43d8af34"},{"source":"921af093736051ab15a8","target":"185510fc80ac8a874cd1"},{"source":"921af093736051ab15a8","target":"7ae92335446d3ad639d0"},{"source":"921af093736051ab15a8","target":"5740eb91f7f2f4bef0ae"},{"source":"921af093736051ab15a8","target":"7d8f7ff7f31b2789b1f9"},{"source":"921af093736051ab15a8","target":"87df80ba235efb82e9de"},{"source":"921af093736051ab15a8","target":"7b28e2aca81bd450e15e"},{"source":"921af093736051ab15a8","target":"6d6fa3b5fbd160e0afb4"},{"source":"921af093736051ab15a8","target":"640803240b9db8f610af"},{"source":"921af093736051ab15a8","target":"3da6b1e5522c57dd8106"},{"source":"921af093736051ab15a8","target":"c7b3934926cee4f7b39e"},{"source":"921af093736051ab15a8","target":"80509e9d1cdc66568152"},{"source":"921af093736051ab15a8","target":"a592a0a644f806ee56a7"},{"source":"921af093736051ab15a8","target":"ab22a21c4fb7d977ea7b"},{"source":"921af093736051ab15a8","target":"b74bb2749f8a96c4c241"},{"source":"921af093736051ab15a8","target":"b7f4298f7d2892ba4b1b"},{"source":"921af093736051ab15a8","target":"d865b3a6873f39fe0d75"},{"source":"921af093736051ab15a8","target":"65ea67b5e062b5ba666b"},{"source":"65ea67b5e062b5ba666b","target":"3884955"},{"source":"65ea67b5e062b5ba666b","target":"9d9ccdf86fb59ab6c6e0"},{"source":"65ea67b5e062b5ba666b","target":"29d80cf22eda5b55e2c1"},{"source":"65ea67b5e062b5ba666b","target":"7c289a9dbf38ceb665d8"},{"source":"65ea67b5e062b5ba666b","target":"a45d78cc14704ced3f88"},{"source":"65ea67b5e062b5ba666b","target":"deb677307bfb906b38e6"},{"source":"65ea67b5e062b5ba666b","target":"a9711c2f39239465f30e"},{"source":"65ea67b5e062b5ba666b","target":"de369cc33c7c02015263"},{"source":"65ea67b5e062b5ba666b","target":"6e75e8d20da020b9de19"},{"source":"65ea67b5e062b5ba666b","target":"1727593e326e81b0951f"},{"source":"65ea67b5e062b5ba666b","target":"4db859d1e3fd8e8b8642"},{"source":"65ea67b5e062b5ba666b","target":"a2e10229636d23f13dbb"},{"source":"65ea67b5e062b5ba666b","target":"d7aded22d8ab1a5ff063"},{"source":"65ea67b5e062b5ba666b","target":"527111d4bf58cfbaa8f7"},{"source":"65ea67b5e062b5ba666b","target":"4119e1e519d687eb7ffc"},{"source":"65ea67b5e062b5ba666b","target":"aaa180c9379a902aba3e"},{"source":"65ea67b5e062b5ba666b","target":"5359c5b7020527a68e60"},{"source":"65ea67b5e062b5ba666b","target":"aa154290d2f39a1ab54b"},{"source":"65ea67b5e062b5ba666b","target":"ab47787d16eb43d8af34"},{"source":"65ea67b5e062b5ba666b","target":"185510fc80ac8a874cd1"},{"source":"65ea67b5e062b5ba666b","target":"7ae92335446d3ad639d0"},{"source":"65ea67b5e062b5ba666b","target":"5740eb91f7f2f4bef0ae"},{"source":"65ea67b5e062b5ba666b","target":"7d8f7ff7f31b2789b1f9"},{"source":"65ea67b5e062b5ba666b","target":"87df80ba235efb82e9de"},{"source":"65ea67b5e062b5ba666b","target":"7b28e2aca81bd450e15e"},{"source":"65ea67b5e062b5ba666b","target":"6d6fa3b5fbd160e0afb4"},{"source":"65ea67b5e062b5ba666b","target":"640803240b9db8f610af"},{"source":"65ea67b5e062b5ba666b","target":"3da6b1e5522c57dd8106"},{"source":"65ea67b5e062b5ba666b","target":"c7b3934926cee4f7b39e"},{"source":"65ea67b5e062b5ba666b","target":"80509e9d1cdc66568152"},{"source":"65ea67b5e062b5ba666b","target":"a592a0a644f806ee56a7"},{"source":"65ea67b5e062b5ba666b","target":"ab22a21c4fb7d977ea7b"},{"source":"65ea67b5e062b5ba666b","target":"b74bb2749f8a96c4c241"},{"source":"65ea67b5e062b5ba666b","target":"b7f4298f7d2892ba4b1b"},{"source":"65ea67b5e062b5ba666b","target":"d865b3a6873f39fe0d75"},{"source":"d865b3a6873f39fe0d75","target":"3884955"},{"source":"d865b3a6873f39fe0d75","target":"9d9ccdf86fb59ab6c6e0"},{"source":"d865b3a6873f39fe0d75","target":"29d80cf22eda5b55e2c1"},{"source":"d865b3a6873f39fe0d75","target":"7c289a9dbf38ceb665d8"},{"source":"d865b3a6873f39fe0d75","target":"a45d78cc14704ced3f88"},{"source":"d865b3a6873f39fe0d75","target":"deb677307bfb906b38e6"},{"source":"d865b3a6873f39fe0d75","target":"a9711c2f39239465f30e"},{"source":"d865b3a6873f39fe0d75","target":"de369cc33c7c02015263"},{"source":"d865b3a6873f39fe0d75","target":"6e75e8d20da020b9de19"},{"source":"d865b3a6873f39fe0d75","target":"1727593e326e81b0951f"},{"source":"d865b3a6873f39fe0d75","target":"4db859d1e3fd8e8b8642"},{"source":"d865b3a6873f39fe0d75","target":"a2e10229636d23f13dbb"},{"source":"d865b3a6873f39fe0d75","target":"d7aded22d8ab1a5ff063"},{"source":"d865b3a6873f39fe0d75","target":"527111d4bf58cfbaa8f7"},{"source":"d865b3a6873f39fe0d75","target":"4119e1e519d687eb7ffc"},{"source":"d865b3a6873f39fe0d75","target":"aaa180c9379a902aba3e"},{"source":"d865b3a6873f39fe0d75","target":"5359c5b7020527a68e60"},{"source":"d865b3a6873f39fe0d75","target":"aa154290d2f39a1ab54b"},{"source":"d865b3a6873f39fe0d75","target":"ab47787d16eb43d8af34"},{"source":"d865b3a6873f39fe0d75","target":"185510fc80ac8a874cd1"},{"source":"d865b3a6873f39fe0d75","target":"7ae92335446d3ad639d0"},{"source":"d865b3a6873f39fe0d75","target":"5740eb91f7f2f4bef0ae"},{"source":"d865b3a6873f39fe0d75","target":"7d8f7ff7f31b2789b1f9"},{"source":"d865b3a6873f39fe0d75","target":"87df80ba235efb82e9de"},{"source":"d865b3a6873f39fe0d75","target":"7b28e2aca81bd450e15e"},{"source":"d865b3a6873f39fe0d75","target":"6d6fa3b5fbd160e0afb4"},{"source":"d865b3a6873f39fe0d75","target":"640803240b9db8f610af"},{"source":"d865b3a6873f39fe0d75","target":"3da6b1e5522c57dd8106"},{"source":"d865b3a6873f39fe0d75","target":"c7b3934926cee4f7b39e"},{"source":"d865b3a6873f39fe0d75","target":"80509e9d1cdc66568152"},{"source":"d865b3a6873f39fe0d75","target":"a592a0a644f806ee56a7"},{"source":"d865b3a6873f39fe0d75","target":"ab22a21c4fb7d977ea7b"},{"source":"d865b3a6873f39fe0d75","target":"b74bb2749f8a96c4c241"},{"source":"d865b3a6873f39fe0d75","target":"b7f4298f7d2892ba4b1b"},{"source":"b7f4298f7d2892ba4b1b","target":"3884955"},{"source":"b7f4298f7d2892ba4b1b","target":"9d9ccdf86fb59ab6c6e0"},{"source":"b7f4298f7d2892ba4b1b","target":"29d80cf22eda5b55e2c1"},{"source":"b7f4298f7d2892ba4b1b","target":"7c289a9dbf38ceb665d8"},{"source":"b7f4298f7d2892ba4b1b","target":"a45d78cc14704ced3f88"},{"source":"b7f4298f7d2892ba4b1b","target":"deb677307bfb906b38e6"},{"source":"b7f4298f7d2892ba4b1b","target":"a9711c2f39239465f30e"},{"source":"b7f4298f7d2892ba4b1b","target":"de369cc33c7c02015263"},{"source":"b7f4298f7d2892ba4b1b","target":"6e75e8d20da020b9de19"},{"source":"b7f4298f7d2892ba4b1b","target":"1727593e326e81b0951f"},{"source":"b7f4298f7d2892ba4b1b","target":"4db859d1e3fd8e8b8642"},{"source":"b7f4298f7d2892ba4b1b","target":"a2e10229636d23f13dbb"},{"source":"b7f4298f7d2892ba4b1b","target":"d7aded22d8ab1a5ff063"},{"source":"b7f4298f7d2892ba4b1b","target":"527111d4bf58cfbaa8f7"},{"source":"b7f4298f7d2892ba4b1b","target":"4119e1e519d687eb7ffc"},{"source":"b7f4298f7d2892ba4b1b","target":"aaa180c9379a902aba3e"},{"source":"b7f4298f7d2892ba4b1b","target":"5359c5b7020527a68e60"},{"source":"b7f4298f7d2892ba4b1b","target":"aa154290d2f39a1ab54b"},{"source":"b7f4298f7d2892ba4b1b","target":"ab47787d16eb43d8af34"},{"source":"b7f4298f7d2892ba4b1b","target":"185510fc80ac8a874cd1"},{"source":"b7f4298f7d2892ba4b1b","target":"7ae92335446d3ad639d0"},{"source":"b7f4298f7d2892ba4b1b","target":"5740eb91f7f2f4bef0ae"},{"source":"b7f4298f7d2892ba4b1b","target":"7d8f7ff7f31b2789b1f9"},{"source":"b7f4298f7d2892ba4b1b","target":"87df80ba235efb82e9de"},{"source":"b7f4298f7d2892ba4b1b","target":"7b28e2aca81bd450e15e"},{"source":"b7f4298f7d2892ba4b1b","target":"6d6fa3b5fbd160e0afb4"},{"source":"b7f4298f7d2892ba4b1b","target":"640803240b9db8f610af"},{"source":"b7f4298f7d2892ba4b1b","target":"3da6b1e5522c57dd8106"},{"source":"b7f4298f7d2892ba4b1b","target":"c7b3934926cee4f7b39e"},{"source":"b7f4298f7d2892ba4b1b","target":"80509e9d1cdc66568152"},{"source":"b7f4298f7d2892ba4b1b","target":"a592a0a644f806ee56a7"},{"source":"b7f4298f7d2892ba4b1b","target":"ab22a21c4fb7d977ea7b"},{"source":"b7f4298f7d2892ba4b1b","target":"b74bb2749f8a96c4c241"},{"source":"b74bb2749f8a96c4c241","target":"3884955"},{"source":"b74bb2749f8a96c4c241","target":"9d9ccdf86fb59ab6c6e0"},{"source":"b74bb2749f8a96c4c241","target":"29d80cf22eda5b55e2c1"},{"source":"b74bb2749f8a96c4c241","target":"7c289a9dbf38ceb665d8"},{"source":"b74bb2749f8a96c4c241","target":"a45d78cc14704ced3f88"},{"source":"b74bb2749f8a96c4c241","target":"deb677307bfb906b38e6"},{"source":"b74bb2749f8a96c4c241","target":"a9711c2f39239465f30e"},{"source":"b74bb2749f8a96c4c241","target":"de369cc33c7c02015263"},{"source":"b74bb2749f8a96c4c241","target":"6e75e8d20da020b9de19"},{"source":"b74bb2749f8a96c4c241","target":"1727593e326e81b0951f"},{"source":"b74bb2749f8a96c4c241","target":"4db859d1e3fd8e8b8642"},{"source":"b74bb2749f8a96c4c241","target":"a2e10229636d23f13dbb"},{"source":"b74bb2749f8a96c4c241","target":"d7aded22d8ab1a5ff063"},{"source":"b74bb2749f8a96c4c241","target":"527111d4bf58cfbaa8f7"},{"source":"b74bb2749f8a96c4c241","target":"4119e1e519d687eb7ffc"},{"source":"b74bb2749f8a96c4c241","target":"aaa180c9379a902aba3e"},{"source":"b74bb2749f8a96c4c241","target":"5359c5b7020527a68e60"},{"source":"b74bb2749f8a96c4c241","target":"aa154290d2f39a1ab54b"},{"source":"b74bb2749f8a96c4c241","target":"ab47787d16eb43d8af34"},{"source":"b74bb2749f8a96c4c241","target":"185510fc80ac8a874cd1"},{"source":"b74bb2749f8a96c4c241","target":"7ae92335446d3ad639d0"},{"source":"b74bb2749f8a96c4c241","target":"5740eb91f7f2f4bef0ae"},{"source":"b74bb2749f8a96c4c241","target":"7d8f7ff7f31b2789b1f9"},{"source":"b74bb2749f8a96c4c241","target":"87df80ba235efb82e9de"},{"source":"b74bb2749f8a96c4c241","target":"7b28e2aca81bd450e15e"},{"source":"b74bb2749f8a96c4c241","target":"6d6fa3b5fbd160e0afb4"},{"source":"b74bb2749f8a96c4c241","target":"640803240b9db8f610af"},{"source":"b74bb2749f8a96c4c241","target":"3da6b1e5522c57dd8106"},{"source":"b74bb2749f8a96c4c241","target":"c7b3934926cee4f7b39e"},{"source":"b74bb2749f8a96c4c241","target":"80509e9d1cdc66568152"},{"source":"b74bb2749f8a96c4c241","target":"a592a0a644f806ee56a7"},{"source":"b74bb2749f8a96c4c241","target":"ab22a21c4fb7d977ea7b"},{"source":"ab22a21c4fb7d977ea7b","target":"3884955"},{"source":"ab22a21c4fb7d977ea7b","target":"9d9ccdf86fb59ab6c6e0"},{"source":"ab22a21c4fb7d977ea7b","target":"29d80cf22eda5b55e2c1"},{"source":"ab22a21c4fb7d977ea7b","target":"7c289a9dbf38ceb665d8"},{"source":"ab22a21c4fb7d977ea7b","target":"a45d78cc14704ced3f88"},{"source":"ab22a21c4fb7d977ea7b","target":"deb677307bfb906b38e6"},{"source":"ab22a21c4fb7d977ea7b","target":"a9711c2f39239465f30e"},{"source":"ab22a21c4fb7d977ea7b","target":"de369cc33c7c02015263"},{"source":"ab22a21c4fb7d977ea7b","target":"6e75e8d20da020b9de19"},{"source":"ab22a21c4fb7d977ea7b","target":"1727593e326e81b0951f"},{"source":"ab22a21c4fb7d977ea7b","target":"4db859d1e3fd8e8b8642"},{"source":"ab22a21c4fb7d977ea7b","target":"a2e10229636d23f13dbb"},{"source":"ab22a21c4fb7d977ea7b","target":"d7aded22d8ab1a5ff063"},{"source":"ab22a21c4fb7d977ea7b","target":"527111d4bf58cfbaa8f7"},{"source":"ab22a21c4fb7d977ea7b","target":"4119e1e519d687eb7ffc"},{"source":"ab22a21c4fb7d977ea7b","target":"aaa180c9379a902aba3e"},{"source":"ab22a21c4fb7d977ea7b","target":"5359c5b7020527a68e60"},{"source":"ab22a21c4fb7d977ea7b","target":"aa154290d2f39a1ab54b"},{"source":"ab22a21c4fb7d977ea7b","target":"ab47787d16eb43d8af34"},{"source":"ab22a21c4fb7d977ea7b","target":"185510fc80ac8a874cd1"},{"source":"ab22a21c4fb7d977ea7b","target":"7ae92335446d3ad639d0"},{"source":"ab22a21c4fb7d977ea7b","target":"5740eb91f7f2f4bef0ae"},{"source":"ab22a21c4fb7d977ea7b","target":"7d8f7ff7f31b2789b1f9"},{"source":"ab22a21c4fb7d977ea7b","target":"87df80ba235efb82e9de"},{"source":"ab22a21c4fb7d977ea7b","target":"7b28e2aca81bd450e15e"},{"source":"ab22a21c4fb7d977ea7b","target":"6d6fa3b5fbd160e0afb4"},{"source":"ab22a21c4fb7d977ea7b","target":"640803240b9db8f610af"},{"source":"ab22a21c4fb7d977ea7b","target":"3da6b1e5522c57dd8106"},{"source":"ab22a21c4fb7d977ea7b","target":"c7b3934926cee4f7b39e"},{"source":"ab22a21c4fb7d977ea7b","target":"80509e9d1cdc66568152"},{"source":"ab22a21c4fb7d977ea7b","target":"a592a0a644f806ee56a7"},{"source":"a592a0a644f806ee56a7","target":"3884955"},{"source":"a592a0a644f806ee56a7","target":"9d9ccdf86fb59ab6c6e0"},{"source":"a592a0a644f806ee56a7","target":"29d80cf22eda5b55e2c1"},{"source":"a592a0a644f806ee56a7","target":"7c289a9dbf38ceb665d8"},{"source":"a592a0a644f806ee56a7","target":"a45d78cc14704ced3f88"},{"source":"a592a0a644f806ee56a7","target":"deb677307bfb906b38e6"},{"source":"a592a0a644f806ee56a7","target":"a9711c2f39239465f30e"},{"source":"a592a0a644f806ee56a7","target":"de369cc33c7c02015263"},{"source":"a592a0a644f806ee56a7","target":"6e75e8d20da020b9de19"},{"source":"a592a0a644f806ee56a7","target":"1727593e326e81b0951f"},{"source":"a592a0a644f806ee56a7","target":"4db859d1e3fd8e8b8642"},{"source":"a592a0a644f806ee56a7","target":"a2e10229636d23f13dbb"},{"source":"a592a0a644f806ee56a7","target":"d7aded22d8ab1a5ff063"},{"source":"a592a0a644f806ee56a7","target":"527111d4bf58cfbaa8f7"},{"source":"a592a0a644f806ee56a7","target":"4119e1e519d687eb7ffc"},{"source":"a592a0a644f806ee56a7","target":"aaa180c9379a902aba3e"},{"source":"a592a0a644f806ee56a7","target":"5359c5b7020527a68e60"},{"source":"a592a0a644f806ee56a7","target":"aa154290d2f39a1ab54b"},{"source":"a592a0a644f806ee56a7","target":"ab47787d16eb43d8af34"},{"source":"a592a0a644f806ee56a7","target":"185510fc80ac8a874cd1"},{"source":"a592a0a644f806ee56a7","target":"7ae92335446d3ad639d0"},{"source":"a592a0a644f806ee56a7","target":"5740eb91f7f2f4bef0ae"},{"source":"a592a0a644f806ee56a7","target":"7d8f7ff7f31b2789b1f9"},{"source":"a592a0a644f806ee56a7","target":"87df80ba235efb82e9de"},{"source":"a592a0a644f806ee56a7","target":"7b28e2aca81bd450e15e"},{"source":"a592a0a644f806ee56a7","target":"6d6fa3b5fbd160e0afb4"},{"source":"a592a0a644f806ee56a7","target":"640803240b9db8f610af"},{"source":"a592a0a644f806ee56a7","target":"3da6b1e5522c57dd8106"},{"source":"a592a0a644f806ee56a7","target":"c7b3934926cee4f7b39e"},{"source":"a592a0a644f806ee56a7","target":"80509e9d1cdc66568152"},{"source":"80509e9d1cdc66568152","target":"3884955"},{"source":"80509e9d1cdc66568152","target":"9d9ccdf86fb59ab6c6e0"},{"source":"80509e9d1cdc66568152","target":"29d80cf22eda5b55e2c1"},{"source":"80509e9d1cdc66568152","target":"7c289a9dbf38ceb665d8"},{"source":"80509e9d1cdc66568152","target":"a45d78cc14704ced3f88"},{"source":"80509e9d1cdc66568152","target":"deb677307bfb906b38e6"},{"source":"80509e9d1cdc66568152","target":"a9711c2f39239465f30e"},{"source":"80509e9d1cdc66568152","target":"de369cc33c7c02015263"},{"source":"80509e9d1cdc66568152","target":"6e75e8d20da020b9de19"},{"source":"80509e9d1cdc66568152","target":"1727593e326e81b0951f"},{"source":"80509e9d1cdc66568152","target":"4db859d1e3fd8e8b8642"},{"source":"80509e9d1cdc66568152","target":"a2e10229636d23f13dbb"},{"source":"80509e9d1cdc66568152","target":"d7aded22d8ab1a5ff063"},{"source":"80509e9d1cdc66568152","target":"527111d4bf58cfbaa8f7"},{"source":"80509e9d1cdc66568152","target":"4119e1e519d687eb7ffc"},{"source":"80509e9d1cdc66568152","target":"aaa180c9379a902aba3e"},{"source":"80509e9d1cdc66568152","target":"5359c5b7020527a68e60"},{"source":"80509e9d1cdc66568152","target":"aa154290d2f39a1ab54b"},{"source":"80509e9d1cdc66568152","target":"ab47787d16eb43d8af34"},{"source":"80509e9d1cdc66568152","target":"185510fc80ac8a874cd1"},{"source":"80509e9d1cdc66568152","target":"7ae92335446d3ad639d0"},{"source":"80509e9d1cdc66568152","target":"5740eb91f7f2f4bef0ae"},{"source":"80509e9d1cdc66568152","target":"7d8f7ff7f31b2789b1f9"},{"source":"80509e9d1cdc66568152","target":"87df80ba235efb82e9de"},{"source":"80509e9d1cdc66568152","target":"7b28e2aca81bd450e15e"},{"source":"80509e9d1cdc66568152","target":"6d6fa3b5fbd160e0afb4"},{"source":"80509e9d1cdc66568152","target":"640803240b9db8f610af"},{"source":"80509e9d1cdc66568152","target":"3da6b1e5522c57dd8106"},{"source":"80509e9d1cdc66568152","target":"c7b3934926cee4f7b39e"},{"source":"c7b3934926cee4f7b39e","target":"3884955"},{"source":"c7b3934926cee4f7b39e","target":"9d9ccdf86fb59ab6c6e0"},{"source":"c7b3934926cee4f7b39e","target":"29d80cf22eda5b55e2c1"},{"source":"c7b3934926cee4f7b39e","target":"7c289a9dbf38ceb665d8"},{"source":"c7b3934926cee4f7b39e","target":"a45d78cc14704ced3f88"},{"source":"c7b3934926cee4f7b39e","target":"deb677307bfb906b38e6"},{"source":"c7b3934926cee4f7b39e","target":"a9711c2f39239465f30e"},{"source":"c7b3934926cee4f7b39e","target":"de369cc33c7c02015263"},{"source":"c7b3934926cee4f7b39e","target":"6e75e8d20da020b9de19"},{"source":"c7b3934926cee4f7b39e","target":"1727593e326e81b0951f"},{"source":"c7b3934926cee4f7b39e","target":"4db859d1e3fd8e8b8642"},{"source":"c7b3934926cee4f7b39e","target":"a2e10229636d23f13dbb"},{"source":"c7b3934926cee4f7b39e","target":"d7aded22d8ab1a5ff063"},{"source":"c7b3934926cee4f7b39e","target":"527111d4bf58cfbaa8f7"},{"source":"c7b3934926cee4f7b39e","target":"4119e1e519d687eb7ffc"},{"source":"c7b3934926cee4f7b39e","target":"aaa180c9379a902aba3e"},{"source":"c7b3934926cee4f7b39e","target":"5359c5b7020527a68e60"},{"source":"c7b3934926cee4f7b39e","target":"aa154290d2f39a1ab54b"},{"source":"c7b3934926cee4f7b39e","target":"ab47787d16eb43d8af34"},{"source":"c7b3934926cee4f7b39e","target":"185510fc80ac8a874cd1"},{"source":"c7b3934926cee4f7b39e","target":"7ae92335446d3ad639d0"},{"source":"c7b3934926cee4f7b39e","target":"5740eb91f7f2f4bef0ae"},{"source":"c7b3934926cee4f7b39e","target":"7d8f7ff7f31b2789b1f9"},{"source":"c7b3934926cee4f7b39e","target":"87df80ba235efb82e9de"},{"source":"c7b3934926cee4f7b39e","target":"7b28e2aca81bd450e15e"},{"source":"c7b3934926cee4f7b39e","target":"6d6fa3b5fbd160e0afb4"},{"source":"c7b3934926cee4f7b39e","target":"640803240b9db8f610af"},{"source":"c7b3934926cee4f7b39e","target":"3da6b1e5522c57dd8106"},{"source":"3da6b1e5522c57dd8106","target":"3884955"},{"source":"3da6b1e5522c57dd8106","target":"9d9ccdf86fb59ab6c6e0"},{"source":"3da6b1e5522c57dd8106","target":"29d80cf22eda5b55e2c1"},{"source":"3da6b1e5522c57dd8106","target":"7c289a9dbf38ceb665d8"},{"source":"3da6b1e5522c57dd8106","target":"a45d78cc14704ced3f88"},{"source":"3da6b1e5522c57dd8106","target":"deb677307bfb906b38e6"},{"source":"3da6b1e5522c57dd8106","target":"a9711c2f39239465f30e"},{"source":"3da6b1e5522c57dd8106","target":"de369cc33c7c02015263"},{"source":"3da6b1e5522c57dd8106","target":"6e75e8d20da020b9de19"},{"source":"3da6b1e5522c57dd8106","target":"1727593e326e81b0951f"},{"source":"3da6b1e5522c57dd8106","target":"4db859d1e3fd8e8b8642"},{"source":"3da6b1e5522c57dd8106","target":"a2e10229636d23f13dbb"},{"source":"3da6b1e5522c57dd8106","target":"d7aded22d8ab1a5ff063"},{"source":"3da6b1e5522c57dd8106","target":"527111d4bf58cfbaa8f7"},{"source":"3da6b1e5522c57dd8106","target":"4119e1e519d687eb7ffc"},{"source":"3da6b1e5522c57dd8106","target":"aaa180c9379a902aba3e"},{"source":"3da6b1e5522c57dd8106","target":"5359c5b7020527a68e60"},{"source":"3da6b1e5522c57dd8106","target":"aa154290d2f39a1ab54b"},{"source":"3da6b1e5522c57dd8106","target":"ab47787d16eb43d8af34"},{"source":"3da6b1e5522c57dd8106","target":"185510fc80ac8a874cd1"},{"source":"3da6b1e5522c57dd8106","target":"7ae92335446d3ad639d0"},{"source":"3da6b1e5522c57dd8106","target":"5740eb91f7f2f4bef0ae"},{"source":"3da6b1e5522c57dd8106","target":"7d8f7ff7f31b2789b1f9"},{"source":"3da6b1e5522c57dd8106","target":"87df80ba235efb82e9de"},{"source":"3da6b1e5522c57dd8106","target":"7b28e2aca81bd450e15e"},{"source":"3da6b1e5522c57dd8106","target":"6d6fa3b5fbd160e0afb4"},{"source":"3da6b1e5522c57dd8106","target":"640803240b9db8f610af"},{"source":"640803240b9db8f610af","target":"3884955"},{"source":"640803240b9db8f610af","target":"9d9ccdf86fb59ab6c6e0"},{"source":"640803240b9db8f610af","target":"29d80cf22eda5b55e2c1"},{"source":"640803240b9db8f610af","target":"7c289a9dbf38ceb665d8"},{"source":"640803240b9db8f610af","target":"a45d78cc14704ced3f88"},{"source":"640803240b9db8f610af","target":"deb677307bfb906b38e6"},{"source":"640803240b9db8f610af","target":"a9711c2f39239465f30e"},{"source":"640803240b9db8f610af","target":"de369cc33c7c02015263"},{"source":"640803240b9db8f610af","target":"6e75e8d20da020b9de19"},{"source":"640803240b9db8f610af","target":"1727593e326e81b0951f"},{"source":"640803240b9db8f610af","target":"4db859d1e3fd8e8b8642"},{"source":"640803240b9db8f610af","target":"a2e10229636d23f13dbb"},{"source":"640803240b9db8f610af","target":"d7aded22d8ab1a5ff063"},{"source":"640803240b9db8f610af","target":"527111d4bf58cfbaa8f7"},{"source":"640803240b9db8f610af","target":"4119e1e519d687eb7ffc"},{"source":"640803240b9db8f610af","target":"aaa180c9379a902aba3e"},{"source":"640803240b9db8f610af","target":"5359c5b7020527a68e60"},{"source":"640803240b9db8f610af","target":"aa154290d2f39a1ab54b"},{"source":"640803240b9db8f610af","target":"ab47787d16eb43d8af34"},{"source":"640803240b9db8f610af","target":"185510fc80ac8a874cd1"},{"source":"640803240b9db8f610af","target":"7ae92335446d3ad639d0"},{"source":"640803240b9db8f610af","target":"5740eb91f7f2f4bef0ae"},{"source":"640803240b9db8f610af","target":"7d8f7ff7f31b2789b1f9"},{"source":"640803240b9db8f610af","target":"87df80ba235efb82e9de"},{"source":"640803240b9db8f610af","target":"7b28e2aca81bd450e15e"},{"source":"640803240b9db8f610af","target":"6d6fa3b5fbd160e0afb4"},{"source":"6d6fa3b5fbd160e0afb4","target":"3884955"},{"source":"6d6fa3b5fbd160e0afb4","target":"9d9ccdf86fb59ab6c6e0"},{"source":"6d6fa3b5fbd160e0afb4","target":"29d80cf22eda5b55e2c1"},{"source":"6d6fa3b5fbd160e0afb4","target":"7c289a9dbf38ceb665d8"},{"source":"6d6fa3b5fbd160e0afb4","target":"a45d78cc14704ced3f88"},{"source":"6d6fa3b5fbd160e0afb4","target":"deb677307bfb906b38e6"},{"source":"6d6fa3b5fbd160e0afb4","target":"a9711c2f39239465f30e"},{"source":"6d6fa3b5fbd160e0afb4","target":"de369cc33c7c02015263"},{"source":"6d6fa3b5fbd160e0afb4","target":"6e75e8d20da020b9de19"},{"source":"6d6fa3b5fbd160e0afb4","target":"1727593e326e81b0951f"},{"source":"6d6fa3b5fbd160e0afb4","target":"4db859d1e3fd8e8b8642"},{"source":"6d6fa3b5fbd160e0afb4","target":"a2e10229636d23f13dbb"},{"source":"6d6fa3b5fbd160e0afb4","target":"d7aded22d8ab1a5ff063"},{"source":"6d6fa3b5fbd160e0afb4","target":"527111d4bf58cfbaa8f7"},{"source":"6d6fa3b5fbd160e0afb4","target":"4119e1e519d687eb7ffc"},{"source":"6d6fa3b5fbd160e0afb4","target":"aaa180c9379a902aba3e"},{"source":"6d6fa3b5fbd160e0afb4","target":"5359c5b7020527a68e60"},{"source":"6d6fa3b5fbd160e0afb4","target":"aa154290d2f39a1ab54b"},{"source":"6d6fa3b5fbd160e0afb4","target":"ab47787d16eb43d8af34"},{"source":"6d6fa3b5fbd160e0afb4","target":"185510fc80ac8a874cd1"},{"source":"6d6fa3b5fbd160e0afb4","target":"7ae92335446d3ad639d0"},{"source":"6d6fa3b5fbd160e0afb4","target":"5740eb91f7f2f4bef0ae"},{"source":"6d6fa3b5fbd160e0afb4","target":"7d8f7ff7f31b2789b1f9"},{"source":"6d6fa3b5fbd160e0afb4","target":"87df80ba235efb82e9de"},{"source":"6d6fa3b5fbd160e0afb4","target":"7b28e2aca81bd450e15e"},{"source":"7b28e2aca81bd450e15e","target":"3884955"},{"source":"7b28e2aca81bd450e15e","target":"9d9ccdf86fb59ab6c6e0"},{"source":"7b28e2aca81bd450e15e","target":"29d80cf22eda5b55e2c1"},{"source":"7b28e2aca81bd450e15e","target":"7c289a9dbf38ceb665d8"},{"source":"7b28e2aca81bd450e15e","target":"a45d78cc14704ced3f88"},{"source":"7b28e2aca81bd450e15e","target":"deb677307bfb906b38e6"},{"source":"7b28e2aca81bd450e15e","target":"a9711c2f39239465f30e"},{"source":"7b28e2aca81bd450e15e","target":"de369cc33c7c02015263"},{"source":"7b28e2aca81bd450e15e","target":"6e75e8d20da020b9de19"},{"source":"7b28e2aca81bd450e15e","target":"1727593e326e81b0951f"},{"source":"7b28e2aca81bd450e15e","target":"4db859d1e3fd8e8b8642"},{"source":"7b28e2aca81bd450e15e","target":"a2e10229636d23f13dbb"},{"source":"7b28e2aca81bd450e15e","target":"d7aded22d8ab1a5ff063"},{"source":"7b28e2aca81bd450e15e","target":"527111d4bf58cfbaa8f7"},{"source":"7b28e2aca81bd450e15e","target":"4119e1e519d687eb7ffc"},{"source":"7b28e2aca81bd450e15e","target":"aaa180c9379a902aba3e"},{"source":"7b28e2aca81bd450e15e","target":"5359c5b7020527a68e60"},{"source":"7b28e2aca81bd450e15e","target":"aa154290d2f39a1ab54b"},{"source":"7b28e2aca81bd450e15e","target":"ab47787d16eb43d8af34"},{"source":"7b28e2aca81bd450e15e","target":"185510fc80ac8a874cd1"},{"source":"7b28e2aca81bd450e15e","target":"7ae92335446d3ad639d0"},{"source":"7b28e2aca81bd450e15e","target":"5740eb91f7f2f4bef0ae"},{"source":"7b28e2aca81bd450e15e","target":"7d8f7ff7f31b2789b1f9"},{"source":"7b28e2aca81bd450e15e","target":"87df80ba235efb82e9de"},{"source":"87df80ba235efb82e9de","target":"3884955"},{"source":"87df80ba235efb82e9de","target":"9d9ccdf86fb59ab6c6e0"},{"source":"87df80ba235efb82e9de","target":"29d80cf22eda5b55e2c1"},{"source":"87df80ba235efb82e9de","target":"7c289a9dbf38ceb665d8"},{"source":"87df80ba235efb82e9de","target":"a45d78cc14704ced3f88"},{"source":"87df80ba235efb82e9de","target":"deb677307bfb906b38e6"},{"source":"87df80ba235efb82e9de","target":"a9711c2f39239465f30e"},{"source":"87df80ba235efb82e9de","target":"de369cc33c7c02015263"},{"source":"87df80ba235efb82e9de","target":"6e75e8d20da020b9de19"},{"source":"87df80ba235efb82e9de","target":"1727593e326e81b0951f"},{"source":"87df80ba235efb82e9de","target":"4db859d1e3fd8e8b8642"},{"source":"87df80ba235efb82e9de","target":"a2e10229636d23f13dbb"},{"source":"87df80ba235efb82e9de","target":"d7aded22d8ab1a5ff063"},{"source":"87df80ba235efb82e9de","target":"527111d4bf58cfbaa8f7"},{"source":"87df80ba235efb82e9de","target":"4119e1e519d687eb7ffc"},{"source":"87df80ba235efb82e9de","target":"aaa180c9379a902aba3e"},{"source":"87df80ba235efb82e9de","target":"5359c5b7020527a68e60"},{"source":"87df80ba235efb82e9de","target":"aa154290d2f39a1ab54b"},{"source":"87df80ba235efb82e9de","target":"ab47787d16eb43d8af34"},{"source":"87df80ba235efb82e9de","target":"185510fc80ac8a874cd1"},{"source":"87df80ba235efb82e9de","target":"7ae92335446d3ad639d0"},{"source":"87df80ba235efb82e9de","target":"5740eb91f7f2f4bef0ae"},{"source":"87df80ba235efb82e9de","target":"7d8f7ff7f31b2789b1f9"},{"source":"7d8f7ff7f31b2789b1f9","target":"3884955"},{"source":"7d8f7ff7f31b2789b1f9","target":"9d9ccdf86fb59ab6c6e0"},{"source":"7d8f7ff7f31b2789b1f9","target":"29d80cf22eda5b55e2c1"},{"source":"7d8f7ff7f31b2789b1f9","target":"7c289a9dbf38ceb665d8"},{"source":"7d8f7ff7f31b2789b1f9","target":"a45d78cc14704ced3f88"},{"source":"7d8f7ff7f31b2789b1f9","target":"deb677307bfb906b38e6"},{"source":"7d8f7ff7f31b2789b1f9","target":"a9711c2f39239465f30e"},{"source":"7d8f7ff7f31b2789b1f9","target":"de369cc33c7c02015263"},{"source":"7d8f7ff7f31b2789b1f9","target":"6e75e8d20da020b9de19"},{"source":"7d8f7ff7f31b2789b1f9","target":"1727593e326e81b0951f"},{"source":"7d8f7ff7f31b2789b1f9","target":"4db859d1e3fd8e8b8642"},{"source":"7d8f7ff7f31b2789b1f9","target":"a2e10229636d23f13dbb"},{"source":"7d8f7ff7f31b2789b1f9","target":"d7aded22d8ab1a5ff063"},{"source":"7d8f7ff7f31b2789b1f9","target":"527111d4bf58cfbaa8f7"},{"source":"7d8f7ff7f31b2789b1f9","target":"4119e1e519d687eb7ffc"},{"source":"7d8f7ff7f31b2789b1f9","target":"aaa180c9379a902aba3e"},{"source":"7d8f7ff7f31b2789b1f9","target":"5359c5b7020527a68e60"},{"source":"7d8f7ff7f31b2789b1f9","target":"aa154290d2f39a1ab54b"},{"source":"7d8f7ff7f31b2789b1f9","target":"ab47787d16eb43d8af34"},{"source":"7d8f7ff7f31b2789b1f9","target":"185510fc80ac8a874cd1"},{"source":"7d8f7ff7f31b2789b1f9","target":"7ae92335446d3ad639d0"},{"source":"7d8f7ff7f31b2789b1f9","target":"5740eb91f7f2f4bef0ae"},{"source":"5740eb91f7f2f4bef0ae","target":"3884955"},{"source":"5740eb91f7f2f4bef0ae","target":"9d9ccdf86fb59ab6c6e0"},{"source":"5740eb91f7f2f4bef0ae","target":"29d80cf22eda5b55e2c1"},{"source":"5740eb91f7f2f4bef0ae","target":"7c289a9dbf38ceb665d8"},{"source":"5740eb91f7f2f4bef0ae","target":"a45d78cc14704ced3f88"},{"source":"5740eb91f7f2f4bef0ae","target":"deb677307bfb906b38e6"},{"source":"5740eb91f7f2f4bef0ae","target":"a9711c2f39239465f30e"},{"source":"5740eb91f7f2f4bef0ae","target":"de369cc33c7c02015263"},{"source":"5740eb91f7f2f4bef0ae","target":"6e75e8d20da020b9de19"},{"source":"5740eb91f7f2f4bef0ae","target":"1727593e326e81b0951f"},{"source":"5740eb91f7f2f4bef0ae","target":"4db859d1e3fd8e8b8642"},{"source":"5740eb91f7f2f4bef0ae","target":"a2e10229636d23f13dbb"},{"source":"5740eb91f7f2f4bef0ae","target":"d7aded22d8ab1a5ff063"},{"source":"5740eb91f7f2f4bef0ae","target":"527111d4bf58cfbaa8f7"},{"source":"5740eb91f7f2f4bef0ae","target":"4119e1e519d687eb7ffc"},{"source":"5740eb91f7f2f4bef0ae","target":"aaa180c9379a902aba3e"},{"source":"5740eb91f7f2f4bef0ae","target":"5359c5b7020527a68e60"},{"source":"5740eb91f7f2f4bef0ae","target":"aa154290d2f39a1ab54b"},{"source":"5740eb91f7f2f4bef0ae","target":"ab47787d16eb43d8af34"},{"source":"5740eb91f7f2f4bef0ae","target":"185510fc80ac8a874cd1"},{"source":"5740eb91f7f2f4bef0ae","target":"7ae92335446d3ad639d0"},{"source":"7ae92335446d3ad639d0","target":"3884955"},{"source":"7ae92335446d3ad639d0","target":"9d9ccdf86fb59ab6c6e0"},{"source":"7ae92335446d3ad639d0","target":"29d80cf22eda5b55e2c1"},{"source":"7ae92335446d3ad639d0","target":"7c289a9dbf38ceb665d8"},{"source":"7ae92335446d3ad639d0","target":"a45d78cc14704ced3f88"},{"source":"7ae92335446d3ad639d0","target":"deb677307bfb906b38e6"},{"source":"7ae92335446d3ad639d0","target":"a9711c2f39239465f30e"},{"source":"7ae92335446d3ad639d0","target":"de369cc33c7c02015263"},{"source":"7ae92335446d3ad639d0","target":"6e75e8d20da020b9de19"},{"source":"7ae92335446d3ad639d0","target":"1727593e326e81b0951f"},{"source":"7ae92335446d3ad639d0","target":"4db859d1e3fd8e8b8642"},{"source":"7ae92335446d3ad639d0","target":"a2e10229636d23f13dbb"},{"source":"7ae92335446d3ad639d0","target":"d7aded22d8ab1a5ff063"},{"source":"7ae92335446d3ad639d0","target":"527111d4bf58cfbaa8f7"},{"source":"7ae92335446d3ad639d0","target":"4119e1e519d687eb7ffc"},{"source":"7ae92335446d3ad639d0","target":"aaa180c9379a902aba3e"},{"source":"7ae92335446d3ad639d0","target":"5359c5b7020527a68e60"},{"source":"7ae92335446d3ad639d0","target":"aa154290d2f39a1ab54b"},{"source":"7ae92335446d3ad639d0","target":"ab47787d16eb43d8af34"},{"source":"7ae92335446d3ad639d0","target":"185510fc80ac8a874cd1"},{"source":"185510fc80ac8a874cd1","target":"3884955"},{"source":"185510fc80ac8a874cd1","target":"9d9ccdf86fb59ab6c6e0"},{"source":"185510fc80ac8a874cd1","target":"29d80cf22eda5b55e2c1"},{"source":"185510fc80ac8a874cd1","target":"7c289a9dbf38ceb665d8"},{"source":"185510fc80ac8a874cd1","target":"a45d78cc14704ced3f88"},{"source":"185510fc80ac8a874cd1","target":"deb677307bfb906b38e6"},{"source":"185510fc80ac8a874cd1","target":"a9711c2f39239465f30e"},{"source":"185510fc80ac8a874cd1","target":"de369cc33c7c02015263"},{"source":"185510fc80ac8a874cd1","target":"6e75e8d20da020b9de19"},{"source":"185510fc80ac8a874cd1","target":"1727593e326e81b0951f"},{"source":"185510fc80ac8a874cd1","target":"4db859d1e3fd8e8b8642"},{"source":"185510fc80ac8a874cd1","target":"a2e10229636d23f13dbb"},{"source":"185510fc80ac8a874cd1","target":"d7aded22d8ab1a5ff063"},{"source":"185510fc80ac8a874cd1","target":"527111d4bf58cfbaa8f7"},{"source":"185510fc80ac8a874cd1","target":"4119e1e519d687eb7ffc"},{"source":"185510fc80ac8a874cd1","target":"aaa180c9379a902aba3e"},{"source":"185510fc80ac8a874cd1","target":"5359c5b7020527a68e60"},{"source":"185510fc80ac8a874cd1","target":"aa154290d2f39a1ab54b"},{"source":"185510fc80ac8a874cd1","target":"ab47787d16eb43d8af34"},{"source":"ab47787d16eb43d8af34","target":"3884955"},{"source":"ab47787d16eb43d8af34","target":"9d9ccdf86fb59ab6c6e0"},{"source":"ab47787d16eb43d8af34","target":"29d80cf22eda5b55e2c1"},{"source":"ab47787d16eb43d8af34","target":"7c289a9dbf38ceb665d8"},{"source":"ab47787d16eb43d8af34","target":"a45d78cc14704ced3f88"},{"source":"ab47787d16eb43d8af34","target":"deb677307bfb906b38e6"},{"source":"ab47787d16eb43d8af34","target":"a9711c2f39239465f30e"},{"source":"ab47787d16eb43d8af34","target":"de369cc33c7c02015263"},{"source":"ab47787d16eb43d8af34","target":"6e75e8d20da020b9de19"},{"source":"ab47787d16eb43d8af34","target":"1727593e326e81b0951f"},{"source":"ab47787d16eb43d8af34","target":"4db859d1e3fd8e8b8642"},{"source":"ab47787d16eb43d8af34","target":"a2e10229636d23f13dbb"},{"source":"ab47787d16eb43d8af34","target":"d7aded22d8ab1a5ff063"},{"source":"ab47787d16eb43d8af34","target":"527111d4bf58cfbaa8f7"},{"source":"ab47787d16eb43d8af34","target":"4119e1e519d687eb7ffc"},{"source":"ab47787d16eb43d8af34","target":"aaa180c9379a902aba3e"},{"source":"ab47787d16eb43d8af34","target":"5359c5b7020527a68e60"},{"source":"ab47787d16eb43d8af34","target":"aa154290d2f39a1ab54b"},{"source":"aa154290d2f39a1ab54b","target":"3884955"},{"source":"aa154290d2f39a1ab54b","target":"9d9ccdf86fb59ab6c6e0"},{"source":"aa154290d2f39a1ab54b","target":"29d80cf22eda5b55e2c1"},{"source":"aa154290d2f39a1ab54b","target":"7c289a9dbf38ceb665d8"},{"source":"aa154290d2f39a1ab54b","target":"a45d78cc14704ced3f88"},{"source":"aa154290d2f39a1ab54b","target":"deb677307bfb906b38e6"},{"source":"aa154290d2f39a1ab54b","target":"a9711c2f39239465f30e"},{"source":"aa154290d2f39a1ab54b","target":"de369cc33c7c02015263"},{"source":"aa154290d2f39a1ab54b","target":"6e75e8d20da020b9de19"},{"source":"aa154290d2f39a1ab54b","target":"1727593e326e81b0951f"},{"source":"aa154290d2f39a1ab54b","target":"4db859d1e3fd8e8b8642"},{"source":"aa154290d2f39a1ab54b","target":"a2e10229636d23f13dbb"},{"source":"aa154290d2f39a1ab54b","target":"d7aded22d8ab1a5ff063"},{"source":"aa154290d2f39a1ab54b","target":"527111d4bf58cfbaa8f7"},{"source":"aa154290d2f39a1ab54b","target":"4119e1e519d687eb7ffc"},{"source":"aa154290d2f39a1ab54b","target":"aaa180c9379a902aba3e"},{"source":"aa154290d2f39a1ab54b","target":"5359c5b7020527a68e60"},{"source":"5359c5b7020527a68e60","target":"3884955"},{"source":"5359c5b7020527a68e60","target":"9d9ccdf86fb59ab6c6e0"},{"source":"5359c5b7020527a68e60","target":"29d80cf22eda5b55e2c1"},{"source":"5359c5b7020527a68e60","target":"7c289a9dbf38ceb665d8"},{"source":"5359c5b7020527a68e60","target":"a45d78cc14704ced3f88"},{"source":"5359c5b7020527a68e60","target":"deb677307bfb906b38e6"},{"source":"5359c5b7020527a68e60","target":"a9711c2f39239465f30e"},{"source":"5359c5b7020527a68e60","target":"de369cc33c7c02015263"},{"source":"5359c5b7020527a68e60","target":"6e75e8d20da020b9de19"},{"source":"5359c5b7020527a68e60","target":"1727593e326e81b0951f"},{"source":"5359c5b7020527a68e60","target":"4db859d1e3fd8e8b8642"},{"source":"5359c5b7020527a68e60","target":"a2e10229636d23f13dbb"},{"source":"5359c5b7020527a68e60","target":"d7aded22d8ab1a5ff063"},{"source":"5359c5b7020527a68e60","target":"527111d4bf58cfbaa8f7"},{"source":"5359c5b7020527a68e60","target":"4119e1e519d687eb7ffc"},{"source":"5359c5b7020527a68e60","target":"aaa180c9379a902aba3e"},{"source":"aaa180c9379a902aba3e","target":"3884955"},{"source":"aaa180c9379a902aba3e","target":"9d9ccdf86fb59ab6c6e0"},{"source":"aaa180c9379a902aba3e","target":"29d80cf22eda5b55e2c1"},{"source":"aaa180c9379a902aba3e","target":"7c289a9dbf38ceb665d8"},{"source":"aaa180c9379a902aba3e","target":"a45d78cc14704ced3f88"},{"source":"aaa180c9379a902aba3e","target":"deb677307bfb906b38e6"},{"source":"aaa180c9379a902aba3e","target":"a9711c2f39239465f30e"},{"source":"aaa180c9379a902aba3e","target":"de369cc33c7c02015263"},{"source":"aaa180c9379a902aba3e","target":"6e75e8d20da020b9de19"},{"source":"aaa180c9379a902aba3e","target":"1727593e326e81b0951f"},{"source":"aaa180c9379a902aba3e","target":"4db859d1e3fd8e8b8642"},{"source":"aaa180c9379a902aba3e","target":"a2e10229636d23f13dbb"},{"source":"aaa180c9379a902aba3e","target":"d7aded22d8ab1a5ff063"},{"source":"aaa180c9379a902aba3e","target":"527111d4bf58cfbaa8f7"},{"source":"aaa180c9379a902aba3e","target":"4119e1e519d687eb7ffc"},{"source":"4119e1e519d687eb7ffc","target":"3884955"},{"source":"4119e1e519d687eb7ffc","target":"9d9ccdf86fb59ab6c6e0"},{"source":"4119e1e519d687eb7ffc","target":"29d80cf22eda5b55e2c1"},{"source":"4119e1e519d687eb7ffc","target":"7c289a9dbf38ceb665d8"},{"source":"4119e1e519d687eb7ffc","target":"a45d78cc14704ced3f88"},{"source":"4119e1e519d687eb7ffc","target":"deb677307bfb906b38e6"},{"source":"4119e1e519d687eb7ffc","target":"a9711c2f39239465f30e"},{"source":"4119e1e519d687eb7ffc","target":"de369cc33c7c02015263"},{"source":"4119e1e519d687eb7ffc","target":"6e75e8d20da020b9de19"},{"source":"4119e1e519d687eb7ffc","target":"1727593e326e81b0951f"},{"source":"4119e1e519d687eb7ffc","target":"4db859d1e3fd8e8b8642"},{"source":"4119e1e519d687eb7ffc","target":"a2e10229636d23f13dbb"},{"source":"4119e1e519d687eb7ffc","target":"d7aded22d8ab1a5ff063"},{"source":"4119e1e519d687eb7ffc","target":"527111d4bf58cfbaa8f7"},{"source":"527111d4bf58cfbaa8f7","target":"3884955"},{"source":"527111d4bf58cfbaa8f7","target":"9d9ccdf86fb59ab6c6e0"},{"source":"527111d4bf58cfbaa8f7","target":"29d80cf22eda5b55e2c1"},{"source":"527111d4bf58cfbaa8f7","target":"7c289a9dbf38ceb665d8"},{"source":"527111d4bf58cfbaa8f7","target":"a45d78cc14704ced3f88"},{"source":"527111d4bf58cfbaa8f7","target":"deb677307bfb906b38e6"},{"source":"527111d4bf58cfbaa8f7","target":"a9711c2f39239465f30e"},{"source":"527111d4bf58cfbaa8f7","target":"de369cc33c7c02015263"},{"source":"527111d4bf58cfbaa8f7","target":"6e75e8d20da020b9de19"},{"source":"527111d4bf58cfbaa8f7","target":"1727593e326e81b0951f"},{"source":"527111d4bf58cfbaa8f7","target":"4db859d1e3fd8e8b8642"},{"source":"527111d4bf58cfbaa8f7","target":"a2e10229636d23f13dbb"},{"source":"527111d4bf58cfbaa8f7","target":"d7aded22d8ab1a5ff063"},{"source":"d7aded22d8ab1a5ff063","target":"3884955"},{"source":"d7aded22d8ab1a5ff063","target":"9d9ccdf86fb59ab6c6e0"},{"source":"d7aded22d8ab1a5ff063","target":"29d80cf22eda5b55e2c1"},{"source":"d7aded22d8ab1a5ff063","target":"7c289a9dbf38ceb665d8"},{"source":"d7aded22d8ab1a5ff063","target":"a45d78cc14704ced3f88"},{"source":"d7aded22d8ab1a5ff063","target":"deb677307bfb906b38e6"},{"source":"d7aded22d8ab1a5ff063","target":"a9711c2f39239465f30e"},{"source":"d7aded22d8ab1a5ff063","target":"de369cc33c7c02015263"},{"source":"d7aded22d8ab1a5ff063","target":"6e75e8d20da020b9de19"},{"source":"d7aded22d8ab1a5ff063","target":"1727593e326e81b0951f"},{"source":"d7aded22d8ab1a5ff063","target":"4db859d1e3fd8e8b8642"},{"source":"d7aded22d8ab1a5ff063","target":"a2e10229636d23f13dbb"},{"source":"a2e10229636d23f13dbb","target":"3884955"},{"source":"a2e10229636d23f13dbb","target":"9d9ccdf86fb59ab6c6e0"},{"source":"a2e10229636d23f13dbb","target":"29d80cf22eda5b55e2c1"},{"source":"a2e10229636d23f13dbb","target":"7c289a9dbf38ceb665d8"},{"source":"a2e10229636d23f13dbb","target":"a45d78cc14704ced3f88"},{"source":"a2e10229636d23f13dbb","target":"deb677307bfb906b38e6"},{"source":"a2e10229636d23f13dbb","target":"a9711c2f39239465f30e"},{"source":"a2e10229636d23f13dbb","target":"de369cc33c7c02015263"},{"source":"a2e10229636d23f13dbb","target":"6e75e8d20da020b9de19"},{"source":"a2e10229636d23f13dbb","target":"1727593e326e81b0951f"},{"source":"a2e10229636d23f13dbb","target":"4db859d1e3fd8e8b8642"},{"source":"4db859d1e3fd8e8b8642","target":"3884955"},{"source":"4db859d1e3fd8e8b8642","target":"9d9ccdf86fb59ab6c6e0"},{"source":"4db859d1e3fd8e8b8642","target":"29d80cf22eda5b55e2c1"},{"source":"4db859d1e3fd8e8b8642","target":"7c289a9dbf38ceb665d8"},{"source":"4db859d1e3fd8e8b8642","target":"a45d78cc14704ced3f88"},{"source":"4db859d1e3fd8e8b8642","target":"deb677307bfb906b38e6"},{"source":"4db859d1e3fd8e8b8642","target":"a9711c2f39239465f30e"},{"source":"4db859d1e3fd8e8b8642","target":"de369cc33c7c02015263"},{"source":"4db859d1e3fd8e8b8642","target":"6e75e8d20da020b9de19"},{"source":"4db859d1e3fd8e8b8642","target":"1727593e326e81b0951f"},{"source":"1727593e326e81b0951f","target":"3884955"},{"source":"1727593e326e81b0951f","target":"9d9ccdf86fb59ab6c6e0"},{"source":"1727593e326e81b0951f","target":"29d80cf22eda5b55e2c1"},{"source":"1727593e326e81b0951f","target":"7c289a9dbf38ceb665d8"},{"source":"1727593e326e81b0951f","target":"a45d78cc14704ced3f88"},{"source":"1727593e326e81b0951f","target":"deb677307bfb906b38e6"},{"source":"1727593e326e81b0951f","target":"a9711c2f39239465f30e"},{"source":"1727593e326e81b0951f","target":"de369cc33c7c02015263"},{"source":"1727593e326e81b0951f","target":"6e75e8d20da020b9de19"},{"source":"6e75e8d20da020b9de19","target":"3884955"},{"source":"6e75e8d20da020b9de19","target":"9d9ccdf86fb59ab6c6e0"},{"source":"6e75e8d20da020b9de19","target":"29d80cf22eda5b55e2c1"},{"source":"6e75e8d20da020b9de19","target":"7c289a9dbf38ceb665d8"},{"source":"6e75e8d20da020b9de19","target":"a45d78cc14704ced3f88"},{"source":"6e75e8d20da020b9de19","target":"deb677307bfb906b38e6"},{"source":"6e75e8d20da020b9de19","target":"a9711c2f39239465f30e"},{"source":"6e75e8d20da020b9de19","target":"de369cc33c7c02015263"},{"source":"de369cc33c7c02015263","target":"3884955"},{"source":"de369cc33c7c02015263","target":"9d9ccdf86fb59ab6c6e0"},{"source":"de369cc33c7c02015263","target":"29d80cf22eda5b55e2c1"},{"source":"de369cc33c7c02015263","target":"7c289a9dbf38ceb665d8"},{"source":"de369cc33c7c02015263","target":"a45d78cc14704ced3f88"},{"source":"de369cc33c7c02015263","target":"deb677307bfb906b38e6"},{"source":"de369cc33c7c02015263","target":"a9711c2f39239465f30e"},{"source":"a9711c2f39239465f30e","target":"3884955"},{"source":"a9711c2f39239465f30e","target":"9d9ccdf86fb59ab6c6e0"},{"source":"a9711c2f39239465f30e","target":"29d80cf22eda5b55e2c1"},{"source":"a9711c2f39239465f30e","target":"7c289a9dbf38ceb665d8"},{"source":"a9711c2f39239465f30e","target":"a45d78cc14704ced3f88"},{"source":"a9711c2f39239465f30e","target":"deb677307bfb906b38e6"},{"source":"deb677307bfb906b38e6","target":"3884955"},{"source":"deb677307bfb906b38e6","target":"9d9ccdf86fb59ab6c6e0"},{"source":"deb677307bfb906b38e6","target":"29d80cf22eda5b55e2c1"},{"source":"deb677307bfb906b38e6","target":"7c289a9dbf38ceb665d8"},{"source":"deb677307bfb906b38e6","target":"a45d78cc14704ced3f88"},{"source":"a45d78cc14704ced3f88","target":"3884955"},{"source":"a45d78cc14704ced3f88","target":"9d9ccdf86fb59ab6c6e0"},{"source":"a45d78cc14704ced3f88","target":"29d80cf22eda5b55e2c1"},{"source":"a45d78cc14704ced3f88","target":"7c289a9dbf38ceb665d8"},{"source":"7c289a9dbf38ceb665d8","target":"3884955"},{"source":"7c289a9dbf38ceb665d8","target":"9d9ccdf86fb59ab6c6e0"},{"source":"7c289a9dbf38ceb665d8","target":"29d80cf22eda5b55e2c1"},{"source":"29d80cf22eda5b55e2c1","target":"3884955"},{"source":"29d80cf22eda5b55e2c1","target":"9d9ccdf86fb59ab6c6e0"},{"source":"9d9ccdf86fb59ab6c6e0","target":"3884955"},{"source":"9f2c2f3e48fc6b3e51ff","target":"3884955"},{"source":"9f2c2f3e48fc6b3e51ff","target":"ac5b6c28390fb4af7a04"},{"source":"ac5b6c28390fb4af7a04","target":"3884955"},{"source":"f00d5c23c2d79f37653e","target":"3884955"},{"source":"f00d5c23c2d79f37653e","target":"8a6e0ca67f054dd9ef29"},{"source":"f00d5c23c2d79f37653e","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"f00d5c23c2d79f37653e","target":"1f02ba8c57e84bbf0d08"},{"source":"f00d5c23c2d79f37653e","target":"d3a03c0a140b6d4b4e2c"},{"source":"f00d5c23c2d79f37653e","target":"7b912a3693e7dee2633e"},{"source":"f00d5c23c2d79f37653e","target":"0dc207c08decd57319f3"},{"source":"f00d5c23c2d79f37653e","target":"3ffc84f3def0025a4243"},{"source":"f00d5c23c2d79f37653e","target":"333c0477264183d25c12"},{"source":"f00d5c23c2d79f37653e","target":"a69684b04fde3f873ee8"},{"source":"f00d5c23c2d79f37653e","target":"10f43d81d7fa62872872"},{"source":"10f43d81d7fa62872872","target":"3884955"},{"source":"10f43d81d7fa62872872","target":"8a6e0ca67f054dd9ef29"},{"source":"10f43d81d7fa62872872","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"10f43d81d7fa62872872","target":"1f02ba8c57e84bbf0d08"},{"source":"10f43d81d7fa62872872","target":"d3a03c0a140b6d4b4e2c"},{"source":"10f43d81d7fa62872872","target":"7b912a3693e7dee2633e"},{"source":"10f43d81d7fa62872872","target":"0dc207c08decd57319f3"},{"source":"10f43d81d7fa62872872","target":"3ffc84f3def0025a4243"},{"source":"10f43d81d7fa62872872","target":"333c0477264183d25c12"},{"source":"10f43d81d7fa62872872","target":"a69684b04fde3f873ee8"},{"source":"a69684b04fde3f873ee8","target":"3884955"},{"source":"a69684b04fde3f873ee8","target":"8a6e0ca67f054dd9ef29"},{"source":"a69684b04fde3f873ee8","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"a69684b04fde3f873ee8","target":"1f02ba8c57e84bbf0d08"},{"source":"a69684b04fde3f873ee8","target":"d3a03c0a140b6d4b4e2c"},{"source":"a69684b04fde3f873ee8","target":"7b912a3693e7dee2633e"},{"source":"a69684b04fde3f873ee8","target":"0dc207c08decd57319f3"},{"source":"a69684b04fde3f873ee8","target":"3ffc84f3def0025a4243"},{"source":"a69684b04fde3f873ee8","target":"333c0477264183d25c12"},{"source":"333c0477264183d25c12","target":"3884955"},{"source":"333c0477264183d25c12","target":"8a6e0ca67f054dd9ef29"},{"source":"333c0477264183d25c12","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"333c0477264183d25c12","target":"1f02ba8c57e84bbf0d08"},{"source":"333c0477264183d25c12","target":"d3a03c0a140b6d4b4e2c"},{"source":"333c0477264183d25c12","target":"7b912a3693e7dee2633e"},{"source":"333c0477264183d25c12","target":"0dc207c08decd57319f3"},{"source":"333c0477264183d25c12","target":"3ffc84f3def0025a4243"},{"source":"3ffc84f3def0025a4243","target":"3884955"},{"source":"3ffc84f3def0025a4243","target":"8a6e0ca67f054dd9ef29"},{"source":"3ffc84f3def0025a4243","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"3ffc84f3def0025a4243","target":"1f02ba8c57e84bbf0d08"},{"source":"3ffc84f3def0025a4243","target":"d3a03c0a140b6d4b4e2c"},{"source":"3ffc84f3def0025a4243","target":"7b912a3693e7dee2633e"},{"source":"3ffc84f3def0025a4243","target":"0dc207c08decd57319f3"},{"source":"0dc207c08decd57319f3","target":"3884955"},{"source":"0dc207c08decd57319f3","target":"8a6e0ca67f054dd9ef29"},{"source":"0dc207c08decd57319f3","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"0dc207c08decd57319f3","target":"1f02ba8c57e84bbf0d08"},{"source":"0dc207c08decd57319f3","target":"d3a03c0a140b6d4b4e2c"},{"source":"0dc207c08decd57319f3","target":"7b912a3693e7dee2633e"},{"source":"7b912a3693e7dee2633e","target":"3884955"},{"source":"7b912a3693e7dee2633e","target":"8a6e0ca67f054dd9ef29"},{"source":"7b912a3693e7dee2633e","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"7b912a3693e7dee2633e","target":"1f02ba8c57e84bbf0d08"},{"source":"7b912a3693e7dee2633e","target":"d3a03c0a140b6d4b4e2c"},{"source":"d3a03c0a140b6d4b4e2c","target":"3884955"},{"source":"d3a03c0a140b6d4b4e2c","target":"8a6e0ca67f054dd9ef29"},{"source":"d3a03c0a140b6d4b4e2c","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"d3a03c0a140b6d4b4e2c","target":"1f02ba8c57e84bbf0d08"},{"source":"1f02ba8c57e84bbf0d08","target":"3884955"},{"source":"1f02ba8c57e84bbf0d08","target":"8a6e0ca67f054dd9ef29"},{"source":"1f02ba8c57e84bbf0d08","target":"a2c2ab6da0a0aa3d8fd1"},{"source":"a2c2ab6da0a0aa3d8fd1","target":"3884955"},{"source":"a2c2ab6da0a0aa3d8fd1","target":"8a6e0ca67f054dd9ef29"},{"source":"8a6e0ca67f054dd9ef29","target":"3884955"},{"source":"4df06aacdf53e24c90b7","target":"3884955"},{"source":"4df06aacdf53e24c90b7","target":"2fbe51dcbc0d27cf897b"},{"source":"4df06aacdf53e24c90b7","target":"ea72de53eb3daad14f73"},{"source":"4df06aacdf53e24c90b7","target":"f3e6415f79b078b75fe4"},{"source":"4df06aacdf53e24c90b7","target":"d3b1e127741d5be5bbc3"},{"source":"4df06aacdf53e24c90b7","target":"fea2240ea499f36b7ec4"},{"source":"4df06aacdf53e24c90b7","target":"d721b55071e31f8da8c3"},{"source":"d721b55071e31f8da8c3","target":"3884955"},{"source":"d721b55071e31f8da8c3","target":"2fbe51dcbc0d27cf897b"},{"source":"d721b55071e31f8da8c3","target":"ea72de53eb3daad14f73"},{"source":"d721b55071e31f8da8c3","target":"f3e6415f79b078b75fe4"},{"source":"d721b55071e31f8da8c3","target":"d3b1e127741d5be5bbc3"},{"source":"d721b55071e31f8da8c3","target":"fea2240ea499f36b7ec4"},{"source":"fea2240ea499f36b7ec4","target":"3884955"},{"source":"fea2240ea499f36b7ec4","target":"2fbe51dcbc0d27cf897b"},{"source":"fea2240ea499f36b7ec4","target":"ea72de53eb3daad14f73"},{"source":"fea2240ea499f36b7ec4","target":"f3e6415f79b078b75fe4"},{"source":"fea2240ea499f36b7ec4","target":"d3b1e127741d5be5bbc3"},{"source":"d3b1e127741d5be5bbc3","target":"3884955"},{"source":"d3b1e127741d5be5bbc3","target":"2fbe51dcbc0d27cf897b"},{"source":"d3b1e127741d5be5bbc3","target":"ea72de53eb3daad14f73"},{"source":"d3b1e127741d5be5bbc3","target":"f3e6415f79b078b75fe4"},{"source":"f3e6415f79b078b75fe4","target":"3884955"},{"source":"f3e6415f79b078b75fe4","target":"2fbe51dcbc0d27cf897b"},{"source":"f3e6415f79b078b75fe4","target":"ea72de53eb3daad14f73"},{"source":"ea72de53eb3daad14f73","target":"3884955"},{"source":"ea72de53eb3daad14f73","target":"2fbe51dcbc0d27cf897b"},{"source":"2fbe51dcbc0d27cf897b","target":"3884955"},{"source":"e503f9cd7655acf5d9a7","target":"00e295827c51ffa80104"},{"source":"e503f9cd7655acf5d9a7","target":"9b23673c0786fa5b1a75"},{"source":"9b23673c0786fa5b1a75","target":"00e295827c51ffa80104"},{"source":"28c466de83d5100f009e","target":"3884955"},{"source":"28c466de83d5100f009e","target":"cf3031700f42670dccf6"},{"source":"28c466de83d5100f009e","target":"97a40f1c0684bc5bd0d5"},{"source":"28c466de83d5100f009e","target":"81d0c04cbd78c95cc674"},{"source":"28c466de83d5100f009e","target":"a807f2ba95e19db2a0f5"},{"source":"28c466de83d5100f009e","target":"70b669815dbad375ea75"},{"source":"70b669815dbad375ea75","target":"3884955"},{"source":"70b669815dbad375ea75","target":"cf3031700f42670dccf6"},{"source":"70b669815dbad375ea75","target":"97a40f1c0684bc5bd0d5"},{"source":"70b669815dbad375ea75","target":"81d0c04cbd78c95cc674"},{"source":"70b669815dbad375ea75","target":"a807f2ba95e19db2a0f5"},{"source":"a807f2ba95e19db2a0f5","target":"3884955"},{"source":"a807f2ba95e19db2a0f5","target":"cf3031700f42670dccf6"},{"source":"a807f2ba95e19db2a0f5","target":"97a40f1c0684bc5bd0d5"},{"source":"a807f2ba95e19db2a0f5","target":"81d0c04cbd78c95cc674"},{"source":"81d0c04cbd78c95cc674","target":"3884955"},{"source":"81d0c04cbd78c95cc674","target":"cf3031700f42670dccf6"},{"source":"81d0c04cbd78c95cc674","target":"97a40f1c0684bc5bd0d5"},{"source":"97a40f1c0684bc5bd0d5","target":"3884955"},{"source":"97a40f1c0684bc5bd0d5","target":"cf3031700f42670dccf6"},{"source":"cf3031700f42670dccf6","target":"3884955"},{"source":"a4658f02960b71612a57","target":"3884955"},{"source":"a4658f02960b71612a57","target":"cf29a41485972f2a15cf"},{"source":"c81883c957e8537be10f","target":"3884955"},{"source":"c81883c957e8537be10f","target":"cf29a41485972f2a15cf"},{"source":"c81883c957e8537be10f","target":"4e9a0662dc81944593f9"},{"source":"4e9a0662dc81944593f9","target":"3884955"},{"source":"4e9a0662dc81944593f9","target":"cf29a41485972f2a15cf"},{"source":"cf29a41485972f2a15cf","target":"3884955"},{"source":"a0e1406d6bb56ff70269","target":"3884955"},{"source":"a0e1406d6bb56ff70269","target":"1aef402d919da5d776b5"},{"source":"a0e1406d6bb56ff70269","target":"fdb820d9d828400cb227"},{"source":"fdb820d9d828400cb227","target":"3884955"},{"source":"fdb820d9d828400cb227","target":"1aef402d919da5d776b5"},{"source":"1aef402d919da5d776b5","target":"3884955"},{"source":"9ccba191aa29181821d2","target":"ed2a8aff3d202713525f"},{"source":"965cf81685bc8a9021a8","target":"3885304"},{"source":"0da60479257cc3d90a62","target":"4349486"},{"source":"7ac51fe69e41fc6c606a","target":"3887235."},{"source":"4384949715de645a77ef","target":"4689130"},{"source":"4384949715de645a77ef","target":"60e84ea5cdffa49356e4"},{"source":"4384949715de645a77ef","target":"384dd445a6a7ae9f6086"},{"source":"384dd445a6a7ae9f6086","target":"4689130"},{"source":"384dd445a6a7ae9f6086","target":"60e84ea5cdffa49356e4"},{"source":"60e84ea5cdffa49356e4","target":"4689130"},{"source":"da81217dee2d551d1411","target":"6738109"},{"source":"da81217dee2d551d1411","target":"1f1ab0ec1cc8cee5970f"},{"source":"da81217dee2d551d1411","target":"23e98ddcc9ff35b6517f"},{"source":"da81217dee2d551d1411","target":"7b807fa90c485937b2ea"},{"source":"da81217dee2d551d1411","target":"bf6871220d8db6efd10f"},{"source":"da81217dee2d551d1411","target":"b378b3a76c1e12038c43"},{"source":"da81217dee2d551d1411","target":"74cc63dc0a9ae18297de"},{"source":"da81217dee2d551d1411","target":"96a3758777f9bb5e91c6"},{"source":"da81217dee2d551d1411","target":"981721947501c7fc2fbc"},{"source":"da81217dee2d551d1411","target":"5c4e011cc543373478e8"},{"source":"da81217dee2d551d1411","target":"b95717283160c8c293e0"},{"source":"da81217dee2d551d1411","target":"cdc8b048f1e7a56fae0e"},{"source":"cdc8b048f1e7a56fae0e","target":"6738109"},{"source":"cdc8b048f1e7a56fae0e","target":"1f1ab0ec1cc8cee5970f"},{"source":"cdc8b048f1e7a56fae0e","target":"23e98ddcc9ff35b6517f"},{"source":"cdc8b048f1e7a56fae0e","target":"7b807fa90c485937b2ea"},{"source":"cdc8b048f1e7a56fae0e","target":"bf6871220d8db6efd10f"},{"source":"cdc8b048f1e7a56fae0e","target":"b378b3a76c1e12038c43"},{"source":"cdc8b048f1e7a56fae0e","target":"74cc63dc0a9ae18297de"},{"source":"cdc8b048f1e7a56fae0e","target":"96a3758777f9bb5e91c6"},{"source":"cdc8b048f1e7a56fae0e","target":"981721947501c7fc2fbc"},{"source":"cdc8b048f1e7a56fae0e","target":"5c4e011cc543373478e8"},{"source":"cdc8b048f1e7a56fae0e","target":"b95717283160c8c293e0"},{"source":"b95717283160c8c293e0","target":"6738109"},{"source":"b95717283160c8c293e0","target":"1f1ab0ec1cc8cee5970f"},{"source":"b95717283160c8c293e0","target":"23e98ddcc9ff35b6517f"},{"source":"b95717283160c8c293e0","target":"7b807fa90c485937b2ea"},{"source":"b95717283160c8c293e0","target":"bf6871220d8db6efd10f"},{"source":"b95717283160c8c293e0","target":"b378b3a76c1e12038c43"},{"source":"b95717283160c8c293e0","target":"74cc63dc0a9ae18297de"},{"source":"b95717283160c8c293e0","target":"96a3758777f9bb5e91c6"},{"source":"b95717283160c8c293e0","target":"981721947501c7fc2fbc"},{"source":"b95717283160c8c293e0","target":"5c4e011cc543373478e8"},{"source":"5c4e011cc543373478e8","target":"6738109"},{"source":"5c4e011cc543373478e8","target":"1f1ab0ec1cc8cee5970f"},{"source":"5c4e011cc543373478e8","target":"23e98ddcc9ff35b6517f"},{"source":"5c4e011cc543373478e8","target":"7b807fa90c485937b2ea"},{"source":"5c4e011cc543373478e8","target":"bf6871220d8db6efd10f"},{"source":"5c4e011cc543373478e8","target":"b378b3a76c1e12038c43"},{"source":"5c4e011cc543373478e8","target":"74cc63dc0a9ae18297de"},{"source":"5c4e011cc543373478e8","target":"96a3758777f9bb5e91c6"},{"source":"5c4e011cc543373478e8","target":"981721947501c7fc2fbc"},{"source":"981721947501c7fc2fbc","target":"6738109"},{"source":"981721947501c7fc2fbc","target":"1f1ab0ec1cc8cee5970f"},{"source":"981721947501c7fc2fbc","target":"23e98ddcc9ff35b6517f"},{"source":"981721947501c7fc2fbc","target":"7b807fa90c485937b2ea"},{"source":"981721947501c7fc2fbc","target":"bf6871220d8db6efd10f"},{"source":"981721947501c7fc2fbc","target":"b378b3a76c1e12038c43"},{"source":"981721947501c7fc2fbc","target":"74cc63dc0a9ae18297de"},{"source":"981721947501c7fc2fbc","target":"96a3758777f9bb5e91c6"},{"source":"96a3758777f9bb5e91c6","target":"6738109"},{"source":"96a3758777f9bb5e91c6","target":"1f1ab0ec1cc8cee5970f"},{"source":"96a3758777f9bb5e91c6","target":"23e98ddcc9ff35b6517f"},{"source":"96a3758777f9bb5e91c6","target":"7b807fa90c485937b2ea"},{"source":"96a3758777f9bb5e91c6","target":"bf6871220d8db6efd10f"},{"source":"96a3758777f9bb5e91c6","target":"b378b3a76c1e12038c43"},{"source":"96a3758777f9bb5e91c6","target":"74cc63dc0a9ae18297de"},{"source":"74cc63dc0a9ae18297de","target":"6738109"},{"source":"74cc63dc0a9ae18297de","target":"1f1ab0ec1cc8cee5970f"},{"source":"74cc63dc0a9ae18297de","target":"23e98ddcc9ff35b6517f"},{"source":"74cc63dc0a9ae18297de","target":"7b807fa90c485937b2ea"},{"source":"74cc63dc0a9ae18297de","target":"bf6871220d8db6efd10f"},{"source":"74cc63dc0a9ae18297de","target":"b378b3a76c1e12038c43"},{"source":"b378b3a76c1e12038c43","target":"6738109"},{"source":"b378b3a76c1e12038c43","target":"1f1ab0ec1cc8cee5970f"},{"source":"b378b3a76c1e12038c43","target":"23e98ddcc9ff35b6517f"},{"source":"b378b3a76c1e12038c43","target":"7b807fa90c485937b2ea"},{"source":"b378b3a76c1e12038c43","target":"bf6871220d8db6efd10f"},{"source":"bf6871220d8db6efd10f","target":"6738109"},{"source":"bf6871220d8db6efd10f","target":"1f1ab0ec1cc8cee5970f"},{"source":"bf6871220d8db6efd10f","target":"23e98ddcc9ff35b6517f"},{"source":"bf6871220d8db6efd10f","target":"7b807fa90c485937b2ea"},{"source":"7b807fa90c485937b2ea","target":"6738109"},{"source":"7b807fa90c485937b2ea","target":"1f1ab0ec1cc8cee5970f"},{"source":"7b807fa90c485937b2ea","target":"23e98ddcc9ff35b6517f"},{"source":"23e98ddcc9ff35b6517f","target":"6738109"},{"source":"23e98ddcc9ff35b6517f","target":"1f1ab0ec1cc8cee5970f"},{"source":"1f1ab0ec1cc8cee5970f","target":"6738109"},{"source":"becd7b34d93b2d80d828","target":"5ada6a7d00115f0e2f1e"},{"source":"ee8d0ab88229d0e07f7f","target":"a4679ee453aa9357977c"},{"source":"5fbda7f410d31da35e42","target":"4063318"},{"source":"5b3161f6be8bd2baac52","target":"019307194abe050e1117"},{"source":"5b3161f6be8bd2baac52","target":"f810911f5f84b94f2e3e"},{"source":"f810911f5f84b94f2e3e","target":"019307194abe050e1117"},{"source":"23ca2f006b720c784fc2","target":"a4530669c16faced0d57"},{"source":"23ca2f006b720c784fc2","target":"ea9be02dff5b6c3a18e2"},{"source":"23ca2f006b720c784fc2","target":"febe139365a1819a6953"},{"source":"23ca2f006b720c784fc2","target":"9704fe9249dfbc5c7da9"},{"source":"9704fe9249dfbc5c7da9","target":"a4530669c16faced0d57"},{"source":"9704fe9249dfbc5c7da9","target":"ea9be02dff5b6c3a18e2"},{"source":"9704fe9249dfbc5c7da9","target":"febe139365a1819a6953"},{"source":"febe139365a1819a6953","target":"a4530669c16faced0d57"},{"source":"febe139365a1819a6953","target":"ea9be02dff5b6c3a18e2"},{"source":"ea9be02dff5b6c3a18e2","target":"a4530669c16faced0d57"},{"source":"78e3a730e77c677e168c","target":"4562ac558aa8fb77269c"},{"source":"8c462789ffbb04351a11","target":"89e1e69c888e8241ed92"},{"source":"8c462789ffbb04351a11","target":"5118ba2eb78edfcf645e"},{"source":"8c462789ffbb04351a11","target":"1e6da47724c39156adb3"},{"source":"8c462789ffbb04351a11","target":"0a8fe1caa2ac025c8e86"},{"source":"77ddbd1e08c11e18a0f7","target":"6185069"},{"source":"77ddbd1e08c11e18a0f7","target":"f73384946e17e4b1b46a"},{"source":"08fc85ae18559fe95ad3","target":"ce9c2deb92042df13179"},{"source":"08fc85ae18559fe95ad3","target":"6958e230e69a377620e3"},{"source":"3ad7359dc3d6f0d25734","target":"4062045"},{"source":"a82271eb40bed573f921","target":"4c7a8a89a25bd86a61a8"},{"source":"f6ddea14600dc5093506","target":"4d62de0846a2554b113b"},{"source":"4d62de0846a2554b113b","target":"2dca5c7c84eb5d3c72a8"},{"source":"23460413ea085c024bf8","target":"d1b8c76c16ceab5d3b45"},{"source":"6a922b0fb6abbb815158","target":"1071413ad6b5b542a1a3"},{"source":"6a922b0fb6abbb815158","target":"03edaa335f93b5a9ee57"},{"source":"6a922b0fb6abbb815158","target":"b100d04bda697f95f246"},{"source":"1071413ad6b5b542a1a3","target":"03edaa335f93b5a9ee57"},{"source":"1071413ad6b5b542a1a3","target":"b100d04bda697f95f246"},{"source":"03edaa335f93b5a9ee57","target":"b100d04bda697f95f246"},{"source":"03edaa335f93b5a9ee57","target":"4188334"},{"source":"03edaa335f93b5a9ee57","target":"4090846"},{"source":"38149d05ea247cbcebb1","target":"7833311"},{"source":"936ef76e148c655b1058","target":"5d4eac580beb1fbb0031"},{"source":"936ef76e148c655b1058","target":"7fdc5a209906a8e6789b"},{"source":"7fdc5a209906a8e6789b","target":"5d4eac580beb1fbb0031"},{"source":"e9b3bfc6f43b4bd237e2","target":"3750941"},{"source":"e9b3bfc6f43b4bd237e2","target":"5100636"},{"source":"5703573bd695c66b6e99","target":"10699411"},{"source":"a639c8d8fb6ad384a8e3","target":"d15be2c0ace80aef3503"},{"source":"c22e71c05e3c3bfadcae","target":"5593150"},{"source":"913d0c1716e92e9fe29c","target":"2787020caf01beea88cd"},{"source":"4affa5bdb5e8c87ea5e5","target":"20f120d7ab0580f9a8c5"},{"source":"cbd4c10fed8942c87332","target":"c81710601e2232aaedc0"},{"source":"2986e55a01c7008d4b5b","target":"10743959"},{"source":"12c2e8a92d521144e146","target":"8603837"},{"source":"01215dfa696fb3ec66f6","target":"b8a8fcb885b6840bfde5"},{"source":"e263c1e6b71ff8fe0976","target":"b8a8fcb885b6840bfde5"},{"source":"d5ce25776cb31dde851b","target":"b8a8fcb885b6840bfde5"},{"source":"247b71fdef129a907f35","target":"ccd1b2d7ce54e59e455e"},{"source":"a679815370ad5e8ce609","target":"77ddbd1e08c11e18a0f7"},{"source":"a104fffc6e3c2abc1c8d","target":"a0c5ef180272fac3aea6"},{"source":"a104fffc6e3c2abc1c8d","target":"5e498878a37abb60b902"},{"source":"a104fffc6e3c2abc1c8d","target":"4e199eb9812a066e7f2d"},{"source":"5118ba2eb78edfcf645e","target":"89e1e69c888e8241ed92"},{"source":"5118ba2eb78edfcf645e","target":"1e6da47724c39156adb3"},{"source":"5118ba2eb78edfcf645e","target":"0a8fe1caa2ac025c8e86"},{"source":"4d79d0cdb41a16903b7e","target":"96447623ef4d342ee09b"},{"source":"4e199eb9812a066e7f2d","target":"a0c5ef180272fac3aea6"},{"source":"4e199eb9812a066e7f2d","target":"5e498878a37abb60b902"},{"source":"5e498878a37abb60b902","target":"a0c5ef180272fac3aea6"},{"source":"002ba028b31588848738","target":"96447623ef4d342ee09b"},{"source":"002ba028b31588848738","target":"8d667f0989d66f03294b"},{"source":"f4035e412a7822abf074","target":"a0c5ef180272fac3aea6"},{"source":"f4035e412a7822abf074","target":"5e498878a37abb60b902"},{"source":"f4035e412a7822abf074","target":"4e199eb9812a066e7f2d"},{"source":"5d0b0777aa681f849090","target":"b8a8fcb885b6840bfde5"},{"source":"abdff74d4f8ebf9b3350","target":"b8a8fcb885b6840bfde5"},{"source":"1cccb8a71e8c5aaf6c08","target":"0dfac0e7c3d33fcca86b"},{"source":"8d863db116f226727c71","target":"b8a8fcb885b6840bfde5"},{"source":"6a2d04e4eb8ae8a72223","target":"b8a8fcb885b6840bfde5"},{"source":"f2540e53c4e327a145d0","target":"e552ead70d7baaa77739"},{"source":"2cce0f9305ec755a53e7","target":"b8a8fcb885b6840bfde5"},{"source":"d30e1f3cd1f7219bd0e5","target":"b8a8fcb885b6840bfde5"},{"source":"7caf3e0c1bff5f4ffaac","target":"b8a8fcb885b6840bfde5"},{"source":"7caf3e0c1bff5f4ffaac","target":"f1b2b824bd9cccea57df"},{"source":"f1b2b824bd9cccea57df","target":"b8a8fcb885b6840bfde5"},{"source":"2dd0548aee7cd62dd496","target":"b8a8fcb885b6840bfde5"},{"source":"2dd0548aee7cd62dd496","target":"a1c9688944f950218658"},{"source":"36511a38ee44a254c172","target":"b8a8fcb885b6840bfde5"},{"source":"ed790586548e472f1f57","target":"64b015914153b85419ce"},{"source":"43c5ecc0fe2199ea84dc","target":"b8a8fcb885b6840bfde5"},{"source":"1a32a92131723a1cc808","target":"646c80e683c3fdecf5b7"},{"source":"847da6bc1fd5e0b0579a","target":"b8a8fcb885b6840bfde5"},{"source":"0c1b97dc48a6096ea7ce","target":"b8a8fcb885b6840bfde5"},{"source":"00c36fbe045e5d0290fc","target":"b8a8fcb885b6840bfde5"},{"source":"4742802e9cf761912270","target":"b8a8fcb885b6840bfde5"},{"source":"9c856f4944e50b734b85","target":"b8a8fcb885b6840bfde5"},{"source":"9c856f4944e50b734b85","target":"fb8e1e6750843954ead0"},{"source":"fb8e1e6750843954ead0","target":"b8a8fcb885b6840bfde5"},{"source":"e0408aa623ee83b1eb8d","target":"b8a8fcb885b6840bfde5"},{"source":"e0408aa623ee83b1eb8d","target":"e785328c22638497dcb5"},{"source":"17b1a9d5f1788c35b255","target":"b8a8fcb885b6840bfde5"},{"source":"ba2ffcaaf8c8b7541661","target":"b8a8fcb885b6840bfde5"},{"source":"32db87891b734b6c7267","target":"66daabcfeed118d590f6"},{"source":"54181ad2cb45d7e41ac8","target":"29c2c89bcdf66c2553c2"},{"source":"54181ad2cb45d7e41ac8","target":"4c0c9844596a2d00938a"},{"source":"4c0c9844596a2d00938a","target":"29c2c89bcdf66c2553c2"},{"source":"9f3884a9f9474e9beedd","target":"fbb43f7cf188fa8f2d15"},{"source":"93e01a9c651ebb8f0968","target":"b8a8fcb885b6840bfde5"},{"source":"93e01a9c651ebb8f0968","target":"00c36fbe045e5d0290fc"},{"source":"f6db3b84de562142fe4b","target":"b8a8fcb885b6840bfde5"},{"source":"f6db3b84de562142fe4b","target":"955beda9851111b7c4b1"},{"source":"f6db3b84de562142fe4b","target":"dce660b60d70576d6447"},{"source":"f6db3b84de562142fe4b","target":"545566453d4c45d1f4a3"},{"source":"545566453d4c45d1f4a3","target":"b8a8fcb885b6840bfde5"},{"source":"545566453d4c45d1f4a3","target":"955beda9851111b7c4b1"},{"source":"545566453d4c45d1f4a3","target":"dce660b60d70576d6447"},{"source":"955beda9851111b7c4b1","target":"b8a8fcb885b6840bfde5"},{"source":"9c001d2ad72ea5c8f91c","target":"b8a8fcb885b6840bfde5"},{"source":"9c001d2ad72ea5c8f91c","target":"a1c9688944f950218658"},{"source":"9c001d2ad72ea5c8f91c","target":"2dd0548aee7cd62dd496"},{"source":"9c001d2ad72ea5c8f91c","target":"ffe781dfde208dd3db46"},{"source":"9c001d2ad72ea5c8f91c","target":"5905838e05c8035329cb"},{"source":"9c001d2ad72ea5c8f91c","target":"e7da8d7aac86fce33bee"},{"source":"9c001d2ad72ea5c8f91c","target":"2312026badf1ad2a6cf4"},{"source":"9c001d2ad72ea5c8f91c","target":"8c67e661fa919f87f182"},{"source":"92e1dc0212d0cbf99a82","target":"b8a8fcb885b6840bfde5"},{"source":"92e1dc0212d0cbf99a82","target":"a1c9688944f950218658"},{"source":"92e1dc0212d0cbf99a82","target":"2dd0548aee7cd62dd496"},{"source":"92e1dc0212d0cbf99a82","target":"ffe781dfde208dd3db46"},{"source":"92e1dc0212d0cbf99a82","target":"5905838e05c8035329cb"},{"source":"92e1dc0212d0cbf99a82","target":"e7da8d7aac86fce33bee"},{"source":"92e1dc0212d0cbf99a82","target":"2312026badf1ad2a6cf4"},{"source":"92e1dc0212d0cbf99a82","target":"8c67e661fa919f87f182"},{"source":"8c67e661fa919f87f182","target":"b8a8fcb885b6840bfde5"},{"source":"8c67e661fa919f87f182","target":"a1c9688944f950218658"},{"source":"8c67e661fa919f87f182","target":"2dd0548aee7cd62dd496"},{"source":"8c67e661fa919f87f182","target":"ffe781dfde208dd3db46"},{"source":"8c67e661fa919f87f182","target":"5905838e05c8035329cb"},{"source":"8c67e661fa919f87f182","target":"e7da8d7aac86fce33bee"},{"source":"8c67e661fa919f87f182","target":"2312026badf1ad2a6cf4"},{"source":"2312026badf1ad2a6cf4","target":"b8a8fcb885b6840bfde5"},{"source":"2312026badf1ad2a6cf4","target":"a1c9688944f950218658"},{"source":"2312026badf1ad2a6cf4","target":"2dd0548aee7cd62dd496"},{"source":"2312026badf1ad2a6cf4","target":"ffe781dfde208dd3db46"},{"source":"2312026badf1ad2a6cf4","target":"5905838e05c8035329cb"},{"source":"2312026badf1ad2a6cf4","target":"e7da8d7aac86fce33bee"},{"source":"fb082e67cd821b4362ef","target":"744228c927ee95871559"},{"source":"024452c42b94723b401d","target":"0c4cf357ab5ed3e90382"},{"source":"0c4cf357ab5ed3e90382","target":"b956ee7215b7b50bc78a"},{"source":"a1a7d04bdd34c2096eaf","target":"b956ee7215b7b50bc78a"},{"source":"13933a693dc8fac38c62","target":"b8a8fcb885b6840bfde5"},{"source":"13933a693dc8fac38c62","target":"1d8085294b6094e617e9"},{"source":"13933a693dc8fac38c62","target":"a3cd99de2763a9a696d1"},{"source":"a3cd99de2763a9a696d1","target":"b8a8fcb885b6840bfde5"},{"source":"a3cd99de2763a9a696d1","target":"1d8085294b6094e617e9"},{"source":"1d8085294b6094e617e9","target":"b8a8fcb885b6840bfde5"},{"source":"90c4cfd299ca35bc54d8","target":"db6533daf51fb05b0af6"},{"source":"90c4cfd299ca35bc54d8","target":"7aa370b761c4763c0901"},{"source":"90c4cfd299ca35bc54d8","target":"c8bb2ca99a6a3b894217"},{"source":"90c4cfd299ca35bc54d8","target":"ed16bc3c6fe8c4b051db"},{"source":"ed16bc3c6fe8c4b051db","target":"db6533daf51fb05b0af6"},{"source":"ed16bc3c6fe8c4b051db","target":"7aa370b761c4763c0901"},{"source":"ed16bc3c6fe8c4b051db","target":"c8bb2ca99a6a3b894217"},{"source":"c8bb2ca99a6a3b894217","target":"db6533daf51fb05b0af6"},{"source":"c8bb2ca99a6a3b894217","target":"7aa370b761c4763c0901"},{"source":"eb69ef5fbcd2330a7d61","target":"3231298"},{"source":"eb69ef5fbcd2330a7d61","target":"7402f55e19e1e609f014"},{"source":"eb69ef5fbcd2330a7d61","target":"36014350348825ded276"},{"source":"eb69ef5fbcd2330a7d61","target":"0568c594c55b8951b94c"},{"source":"eb69ef5fbcd2330a7d61","target":"fd78a64d3ff9f03907c4"},{"source":"fd78a64d3ff9f03907c4","target":"3231298"},{"source":"fd78a64d3ff9f03907c4","target":"7402f55e19e1e609f014"},{"source":"fd78a64d3ff9f03907c4","target":"36014350348825ded276"},{"source":"fd78a64d3ff9f03907c4","target":"0568c594c55b8951b94c"},{"source":"36014350348825ded276","target":"3231298"},{"source":"36014350348825ded276","target":"7402f55e19e1e609f014"},{"source":"7402f55e19e1e609f014","target":"3231298"},{"source":"5cc8033ab729fbd9a4c9","target":"522d3842f27e2581f0d9"},{"source":"5cc8033ab729fbd9a4c9","target":"9d0251925a6bf6409533"},{"source":"5cc8033ab729fbd9a4c9","target":"201b1e8e5a25dfcf76d4"},{"source":"5cc8033ab729fbd9a4c9","target":"26b6602160cd14c7e143"},{"source":"26b6602160cd14c7e143","target":"522d3842f27e2581f0d9"},{"source":"26b6602160cd14c7e143","target":"9d0251925a6bf6409533"},{"source":"26b6602160cd14c7e143","target":"201b1e8e5a25dfcf76d4"},{"source":"201b1e8e5a25dfcf76d4","target":"522d3842f27e2581f0d9"},{"source":"201b1e8e5a25dfcf76d4","target":"9d0251925a6bf6409533"},{"source":"9d0251925a6bf6409533","target":"522d3842f27e2581f0d9"},{"source":"0568c594c55b8951b94c","target":"3231298"},{"source":"0568c594c55b8951b94c","target":"7402f55e19e1e609f014"},{"source":"0568c594c55b8951b94c","target":"36014350348825ded276"},{"source":"7bb89480b28f189fafd3","target":"12cf7435eb7ccdbd8d02"},{"source":"7bb89480b28f189fafd3","target":"ab8b613ca00de4f31b05"},{"source":"ab8b613ca00de4f31b05","target":"12cf7435eb7ccdbd8d02"},{"source":"12cf7435eb7ccdbd8d02","target":"1256572"},{"source":"1028a3ee9ab4642199db","target":"b8a8fcb885b6840bfde5"},{"source":"1028a3ee9ab4642199db","target":"9406077edb5a01d13d02"},{"source":"9406077edb5a01d13d02","target":"b8a8fcb885b6840bfde5"},{"source":"bbc662a5bf51665cce8b","target":"b8a8fcb885b6840bfde5"},{"source":"bf8dbe207e9aa4c74b21","target":"b8a8fcb885b6840bfde5"},{"source":"bf8dbe207e9aa4c74b21","target":"090f603aa3ef1c5fcf0b"},{"source":"090f603aa3ef1c5fcf0b","target":"b8a8fcb885b6840bfde5"},{"source":"8d48064f03c22ae1a539","target":"b8a8fcb885b6840bfde5"},{"source":"8d48064f03c22ae1a539","target":"abdff74d4f8ebf9b3350"},{"source":"8d48064f03c22ae1a539","target":"c16d4bf5e677045e9b94"},{"source":"c16d4bf5e677045e9b94","target":"b8a8fcb885b6840bfde5"},{"source":"c16d4bf5e677045e9b94","target":"abdff74d4f8ebf9b3350"},{"source":"b7e78429ce54abc2154f","target":"3fa3c1a523c8f3c2cfb9"},{"source":"de3ee03f25aa9f134ecf","target":"3918369"},{"source":"6c6dd78bb6502e14b2f2","target":"b8a8fcb885b6840bfde5"},{"source":"da3f27dd8be82859b45e14898aa7fce0","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"da3f27dd8be82859b45e14898aa7fce0","target":"19c88beca509ce5195643099f5740838"},{"source":"da3f27dd8be82859b45e14898aa7fce0","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"da3f27dd8be82859b45e14898aa7fce0","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"19c88beca509ce5195643099f5740838","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"42f1c37f325999025db3","target":"b8a8fcb885b6840bfde5"},{"source":"b29a3572b3e3f19e7a22b18ef9134920","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"b29a3572b3e3f19e7a22b18ef9134920","target":"19c88beca509ce5195643099f5740838"},{"source":"b29a3572b3e3f19e7a22b18ef9134920","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"b29a3572b3e3f19e7a22b18ef9134920","target":"a2746196ad4c3a2d46e416d27c52d2cf"},{"source":"6d57db7d251fbf26360cb88a7f5a7296","target":"b8a8fcb885b6840bfde5"},{"source":"6d57db7d251fbf26360cb88a7f5a7296","target":"42f1c37f325999025db3"},{"source":"6d57db7d251fbf26360cb88a7f5a7296","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"6d57db7d251fbf26360cb88a7f5a7296","target":"2e1f2a94cd49a429cda6d5a3d77e5271"},{"source":"6d57db7d251fbf26360cb88a7f5a7296","target":"33881b1947efe610b0e743580af093f8"},{"source":"6d57db7d251fbf26360cb88a7f5a7296","target":"3f6b48f9c5d72fb14fafc28ed3129a9f"},{"source":"33881b1947efe610b0e743580af093f8","target":"b8a8fcb885b6840bfde5"},{"source":"33881b1947efe610b0e743580af093f8","target":"42f1c37f325999025db3"},{"source":"33881b1947efe610b0e743580af093f8","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"33881b1947efe610b0e743580af093f8","target":"2e1f2a94cd49a429cda6d5a3d77e5271"},{"source":"af2040b064e5d2e2e589","target":"1389927"},{"source":"af2040b064e5d2e2e589","target":"9327a6642682b87430ec"},{"source":"c649af7f141a700dca817b97386147f9","target":"8241b9338930f081275090c4d421b4bc"},{"source":"8232e0e796a6dbddc33caffe4929d985","target":"3887235"},{"source":"8232e0e796a6dbddc33caffe4929d985","target":"5da8fc981efc46180000cc749b99465d"},{"source":"5da8fc981efc46180000cc749b99465d","target":"3887235"},{"source":"d4a745960538e937dcde13f61e9893f1","target":"91c5e84bed1ba6b1541deaa5d5f4f258"},{"source":"6a0b4488bc60ea61eb887bf4d1f9b2b5","target":"91c5e84bed1ba6b1541deaa5d5f4f258"},{"source":"91c5e84bed1ba6b1541deaa5d5f4f258","target":"1129492"},{"source":"91c5e84bed1ba6b1541deaa5d5f4f258","target":"151f6344ffd02105a67a"},{"source":"6fd7a74709e6d24bf327439c62a3f1c1","target":"7ac04d6c0797b583c5c79bea0dcb2a3f"},{"source":"b408e03229958635c43b","target":"29c2c89bcdf66c2553c2"},{"source":"b408e03229958635c43b","target":"4c0c9844596a2d00938a"},{"source":"b408e03229958635c43b","target":"54181ad2cb45d7e41ac8"},{"source":"9a92db9794c21d576087","target":"4055889"},{"source":"887677acf92b55b3accd739e77c60fe4","target":"b8a8fcb885b6840bfde5"},{"source":"887677acf92b55b3accd739e77c60fe4","target":"9406077edb5a01d13d02"},{"source":"1593f53c0c8346d067491f39255d0b84","target":"8709363"},{"source":"dcfa9c27db140183bd87f3fc90efaf10","target":"4248146"},{"source":"dcfa9c27db140183bd87f3fc90efaf10","target":"7c0bd51dab6b9665a315fef06c436f27"},{"source":"7c0bd51dab6b9665a315fef06c436f27","target":"4248145"},{"source":"814c00f234349de899ef0d95649974e9","target":"b4aa88691528c0f0b1fa"},{"source":"814c00f234349de899ef0d95649974e9","target":"e98e438c05eba9b8882412ca79af1c6f"},{"source":"cb9da9f0caa674dc908708336645f0dd","target":"4ce2ee825811f1c32125"},{"source":"e98e438c05eba9b8882412ca79af1c6f","target":"b4aa88691528c0f0b1fa"},{"source":"73a90dd4229f8941b7f79df8b2c8505d","target":"1bc8659b52b35b8a320f3fefb7275ef5"},{"source":"73a90dd4229f8941b7f79df8b2c8505d","target":"6276c0db5b24cf6bfea02b9dd72c378d"},{"source":"28821b58b36a81d36a6a814ecdbdc037","target":"d6b7f134335ddc4d12a3e143f81304d8"},{"source":"eaab03204fa1acac43ea","target":"b8a8fcb885b6840bfde5"},{"source":"eaab03204fa1acac43ea","target":"00c36fbe045e5d0290fc"},{"source":"6f97aa94357cae4611c54a80c11f6128","target":"735c8063f00c773ef1dea78f62a321fa"},{"source":"6f97aa94357cae4611c54a80c11f6128","target":"779f2db53e1e365e98d4"},{"source":"735c8063f00c773ef1dea78f62a321fa","target":"b8e76dd7003538975b3e81e86ac6dd1e"},{"source":"b8e76dd7003538975b3e81e86ac6dd1e","target":"3019563"},{"source":"b8e76dd7003538975b3e81e86ac6dd1e","target":"974c9def890f8ac0172611921fb51b8a"},{"source":"b8e76dd7003538975b3e81e86ac6dd1e","target":"2c736a99c2f57bfac7e4"},{"source":"974c9def890f8ac0172611921fb51b8a","target":"3a68b0c81991e2e94b19"},{"source":"e14c09b73d241d89536cd81b35771215","target":"8622315"},{"source":"e14c09b73d241d89536cd81b35771215","target":"a05b3ac17407e5d1d9cc989f882125af"},{"source":"c6d3072074b1a9f717cf66068f34d8b6","target":"4063318"},{"source":"5485fa28d3fdd422930b53ab330f96e3","target":"e16ad218bc241dfd2d6e"},{"source":"681bfd06a86a6d5e237c","target":"b8a8fcb885b6840bfde5"},{"source":"681bfd06a86a6d5e237c","target":"00c36fbe045e5d0290fc"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"b8a8fcb885b6840bfde5"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"42f1c37f325999025db3"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"2c6fa34a28b157e78a22fc93800f0bc7"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"6222544da1551c11d55b505edf4b88fa"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"dcd52a1daf6b00e5f0afa9b32e2ca043"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"f8bacc54b016d6ea014e54d81f2b7e48"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"4d7dfded54d1e2162265862ffb178f4a"},{"source":"77fe31d25ee5c4d03dfe0e0a4cc6e1ba","target":"9d49a219f72d8958313eb7fd9f236936"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"b8a8fcb885b6840bfde5"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"7b750aac02c274ce7be1a2ec65681b6b"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"e594934db447063ce886b35c2e3ea0c3"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"63b313292ecb948800fb1bebaef690b3"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"73d2088a4754f9a3b46db81c3a12ca42"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"752ff3769123dd6f733dd1a0fd139698"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"8e82406ccf2abef3600b5c63db1830ca"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"0bc494cbfc5dab3fbea588a6a7cc0cdb"},{"source":"e844a36eff424d262f3de5d9baa16b91","target":"e08d1b622815450a47a52deb8644533d"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"b8a8fcb885b6840bfde5"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"7b750aac02c274ce7be1a2ec65681b6b"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"e594934db447063ce886b35c2e3ea0c3"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"63b313292ecb948800fb1bebaef690b3"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"73d2088a4754f9a3b46db81c3a12ca42"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"752ff3769123dd6f733dd1a0fd139698"},{"source":"0bc494cbfc5dab3fbea588a6a7cc0cdb","target":"8e82406ccf2abef3600b5c63db1830ca"},{"source":"752ff3769123dd6f733dd1a0fd139698","target":"b8a8fcb885b6840bfde5"},{"source":"752ff3769123dd6f733dd1a0fd139698","target":"7b750aac02c274ce7be1a2ec65681b6b"},{"source":"752ff3769123dd6f733dd1a0fd139698","target":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"source":"752ff3769123dd6f733dd1a0fd139698","target":"e594934db447063ce886b35c2e3ea0c3"},{"source":"752ff3769123dd6f733dd1a0fd139698","target":"63b313292ecb948800fb1bebaef690b3"},{"source":"752ff3769123dd6f733dd1a0fd139698","target":"73d2088a4754f9a3b46db81c3a12ca42"},{"source":"ea33bdf3e6d636ecd1bb9f1febd0125e","target":"b8a8fcb885b6840bfde5"},{"source":"ea33bdf3e6d636ecd1bb9f1febd0125e","target":"7b750aac02c274ce7be1a2ec65681b6b"},{"source":"ea33bdf3e6d636ecd1bb9f1febd0125e","target":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"source":"ea33bdf3e6d636ecd1bb9f1febd0125e","target":"e594934db447063ce886b35c2e3ea0c3"},{"source":"ea33bdf3e6d636ecd1bb9f1febd0125e","target":"63b313292ecb948800fb1bebaef690b3"},{"source":"63b313292ecb948800fb1bebaef690b3","target":"b8a8fcb885b6840bfde5"},{"source":"63b313292ecb948800fb1bebaef690b3","target":"7b750aac02c274ce7be1a2ec65681b6b"},{"source":"63b313292ecb948800fb1bebaef690b3","target":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"source":"63b313292ecb948800fb1bebaef690b3","target":"e594934db447063ce886b35c2e3ea0c3"},{"source":"e594934db447063ce886b35c2e3ea0c3","target":"b8a8fcb885b6840bfde5"},{"source":"e594934db447063ce886b35c2e3ea0c3","target":"7b750aac02c274ce7be1a2ec65681b6b"},{"source":"e594934db447063ce886b35c2e3ea0c3","target":"adf2f396ed6f7a06bcee6e03a6f2a375"},{"source":"7b750aac02c274ce7be1a2ec65681b6b","target":"b8a8fcb885b6840bfde5"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"f65bdcfc2f39d3717709357e2f8fd03e"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"34dc0e1aaabac24684ec622da2add7e9"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"54b835498f0288d2affc5c2d021864d1"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"a1169104fd3d0b78a2b60a2f099e0391"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"2338f36048aaa1372f386daa32bf624c"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"dde8f503ef6ea72edc8f3212896497d7"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"7c4f11418ebb53a997531c718e760f7c"},{"source":"0271e40675307d3aede5cecdad5715e0","target":"deda5442d64c34186b537f11751004aa"},{"source":"dde8f503ef6ea72edc8f3212896497d7","target":"f65bdcfc2f39d3717709357e2f8fd03e"},{"source":"dde8f503ef6ea72edc8f3212896497d7","target":"34dc0e1aaabac24684ec622da2add7e9"},{"source":"dde8f503ef6ea72edc8f3212896497d7","target":"54b835498f0288d2affc5c2d021864d1"},{"source":"dde8f503ef6ea72edc8f3212896497d7","target":"a1169104fd3d0b78a2b60a2f099e0391"},{"source":"dde8f503ef6ea72edc8f3212896497d7","target":"2338f36048aaa1372f386daa32bf624c"},{"source":"2338f36048aaa1372f386daa32bf624c","target":"f65bdcfc2f39d3717709357e2f8fd03e"},{"source":"2338f36048aaa1372f386daa32bf624c","target":"34dc0e1aaabac24684ec622da2add7e9"},{"source":"2338f36048aaa1372f386daa32bf624c","target":"54b835498f0288d2affc5c2d021864d1"},{"source":"2338f36048aaa1372f386daa32bf624c","target":"a1169104fd3d0b78a2b60a2f099e0391"},{"source":"a1169104fd3d0b78a2b60a2f099e0391","target":"f65bdcfc2f39d3717709357e2f8fd03e"},{"source":"a1169104fd3d0b78a2b60a2f099e0391","target":"34dc0e1aaabac24684ec622da2add7e9"},{"source":"a1169104fd3d0b78a2b60a2f099e0391","target":"54b835498f0288d2affc5c2d021864d1"},{"source":"54b835498f0288d2affc5c2d021864d1","target":"f65bdcfc2f39d3717709357e2f8fd03e"},{"source":"54b835498f0288d2affc5c2d021864d1","target":"34dc0e1aaabac24684ec622da2add7e9"},{"source":"34dc0e1aaabac24684ec622da2add7e9","target":"f65bdcfc2f39d3717709357e2f8fd03e"},{"source":"5606736552160acb3351","target":"9078690"},{"source":"676bfe2b6e67e61e0656","target":"18cb7a77b2d9de597b86"},{"source":"676bfe2b6e67e61e0656","target":"dc1ce756527c072885dc"},{"source":"302096884d5fbc1817062492605b50dd","target":"373e03ed01dfcf97d985"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"19c88beca509ce5195643099f5740838"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"b895d79139c315b4a14c7c4f63a9b00e","target":"ba1beb933b849d986453f374c9cfd206"},{"source":"ba1beb933b849d986453f374c9cfd206","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"ba1beb933b849d986453f374c9cfd206","target":"19c88beca509ce5195643099f5740838"},{"source":"ba1beb933b849d986453f374c9cfd206","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"ba1beb933b849d986453f374c9cfd206","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"ba1beb933b849d986453f374c9cfd206","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"ba1beb933b849d986453f374c9cfd206","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"19c88beca509ce5195643099f5740838"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"f48e7435ff4bb34180e744b0786c57de"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"b88b41124a4e1a398f8443041c41e24f"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"7c0354016ccc2f7974d84714dc8e8d4a"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"0d1bfe27165765ed03f8f175ce8680f1"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"627517c6d7a1b1384bce3f5402fbb9c4"},{"source":"25f855bb1f47666b42962a82216dfd3e","target":"ed2735e3952c35c92852410c21d15f46"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"19c88beca509ce5195643099f5740838"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"f48e7435ff4bb34180e744b0786c57de"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"b88b41124a4e1a398f8443041c41e24f"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"7c0354016ccc2f7974d84714dc8e8d4a"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"0d1bfe27165765ed03f8f175ce8680f1"},{"source":"ed2735e3952c35c92852410c21d15f46","target":"627517c6d7a1b1384bce3f5402fbb9c4"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"19c88beca509ce5195643099f5740838"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"f48e7435ff4bb34180e744b0786c57de"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"b88b41124a4e1a398f8443041c41e24f"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"7c0354016ccc2f7974d84714dc8e8d4a"},{"source":"627517c6d7a1b1384bce3f5402fbb9c4","target":"0d1bfe27165765ed03f8f175ce8680f1"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"19c88beca509ce5195643099f5740838"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"f48e7435ff4bb34180e744b0786c57de"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"b88b41124a4e1a398f8443041c41e24f"},{"source":"0d1bfe27165765ed03f8f175ce8680f1","target":"7c0354016ccc2f7974d84714dc8e8d4a"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"19c88beca509ce5195643099f5740838"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"f48e7435ff4bb34180e744b0786c57de"},{"source":"7c0354016ccc2f7974d84714dc8e8d4a","target":"b88b41124a4e1a398f8443041c41e24f"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"19c88beca509ce5195643099f5740838"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"b88b41124a4e1a398f8443041c41e24f","target":"f48e7435ff4bb34180e744b0786c57de"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"19c88beca509ce5195643099f5740838"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"f48e7435ff4bb34180e744b0786c57de","target":"ede8ef37272abcb60013f885b6736d63"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"19c88beca509ce5195643099f5740838"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"ede8ef37272abcb60013f885b6736d63","target":"b28c34585d071b6937fdf74b9a85bca4"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"19c88beca509ce5195643099f5740838"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"b28c34585d071b6937fdf74b9a85bca4","target":"f8eaa285348a91b74ff2bed44d4af44f"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"19c88beca509ce5195643099f5740838"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"f8eaa285348a91b74ff2bed44d4af44f","target":"4bfacbc47612de727bf99a32d632abc3"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"19c88beca509ce5195643099f5740838"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"4bfacbc47612de727bf99a32d632abc3","target":"db4dcb20e68ee366eb4c253399a3ad5d"},{"source":"db4dcb20e68ee366eb4c253399a3ad5d","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"db4dcb20e68ee366eb4c253399a3ad5d","target":"19c88beca509ce5195643099f5740838"},{"source":"db4dcb20e68ee366eb4c253399a3ad5d","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"db4dcb20e68ee366eb4c253399a3ad5d","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"db4dcb20e68ee366eb4c253399a3ad5d","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"db4dcb20e68ee366eb4c253399a3ad5d","target":"32d4c5badc4534da66b827122d6a1831"},{"source":"32d4c5badc4534da66b827122d6a1831","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"32d4c5badc4534da66b827122d6a1831","target":"19c88beca509ce5195643099f5740838"},{"source":"32d4c5badc4534da66b827122d6a1831","target":"9409231fdbdc710dcbb46cff643f86c9"},{"source":"32d4c5badc4534da66b827122d6a1831","target":"c185b3758e7fd011f9a32a3c0b806839"},{"source":"32d4c5badc4534da66b827122d6a1831","target":"da3f27dd8be82859b45e14898aa7fce0"},{"source":"9409231fdbdc710dcbb46cff643f86c9","target":"f2befd433e182193027dfa1d1b7a65d4"},{"source":"9409231fdbdc710dcbb46cff643f86c9","target":"19c88beca509ce5195643099f5740838"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"b8a8fcb885b6840bfde5"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"42f1c37f325999025db3"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"2e1f2a94cd49a429cda6d5a3d77e5271"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"33881b1947efe610b0e743580af093f8"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"3f6b48f9c5d72fb14fafc28ed3129a9f"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"6d57db7d251fbf26360cb88a7f5a7296"},{"source":"7574590639a3fd654d87f02db11bddb1","target":"751159e6a2290ab4417e5deac63adec1"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"b8a8fcb885b6840bfde5"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"42f1c37f325999025db3"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"2e1f2a94cd49a429cda6d5a3d77e5271"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"33881b1947efe610b0e743580af093f8"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"3f6b48f9c5d72fb14fafc28ed3129a9f"},{"source":"751159e6a2290ab4417e5deac63adec1","target":"6d57db7d251fbf26360cb88a7f5a7296"},{"source":"cc6cd97c95a80f35c824cc24a5bf0f6d","target":"b8a8fcb885b6840bfde5"},{"source":"cc6cd97c95a80f35c824cc24a5bf0f6d","target":"42f1c37f325999025db3"},{"source":"4d17fa15a7a5084e217992f985fba484","target":"4342045"},{"source":"4d17fa15a7a5084e217992f985fba484","target":"5181105"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"b4f37349887a4c178ef93ed855153605"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"1431967216e048fcb4890445e1741c7c"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"7d41f75647bdc4fef8736442db42bad0"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"afc1b005be34f64b495b259263733b35"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"33505001b3f4ff96c29fcb15425b561b"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"90056c4e88c140345ac8a52b8999cf1c"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"0762f972ce5785f6efd4b975f2a95ff5"},{"source":"d390147f53cbcf8094b6aefea8791fc8","target":"5f080cc5f6d000b6540bded03b3dc133"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"b4f37349887a4c178ef93ed855153605"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"1431967216e048fcb4890445e1741c7c"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"7d41f75647bdc4fef8736442db42bad0"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"afc1b005be34f64b495b259263733b35"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"33505001b3f4ff96c29fcb15425b561b"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"90056c4e88c140345ac8a52b8999cf1c"},{"source":"5f080cc5f6d000b6540bded03b3dc133","target":"0762f972ce5785f6efd4b975f2a95ff5"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"b4f37349887a4c178ef93ed855153605"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"1431967216e048fcb4890445e1741c7c"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"7d41f75647bdc4fef8736442db42bad0"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"afc1b005be34f64b495b259263733b35"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"33505001b3f4ff96c29fcb15425b561b"},{"source":"0762f972ce5785f6efd4b975f2a95ff5","target":"90056c4e88c140345ac8a52b8999cf1c"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"b4f37349887a4c178ef93ed855153605"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"1431967216e048fcb4890445e1741c7c"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"7d41f75647bdc4fef8736442db42bad0"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"afc1b005be34f64b495b259263733b35"},{"source":"90056c4e88c140345ac8a52b8999cf1c","target":"33505001b3f4ff96c29fcb15425b561b"},{"source":"afc1b005be34f64b495b259263733b35","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"afc1b005be34f64b495b259263733b35","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"afc1b005be34f64b495b259263733b35","target":"b4f37349887a4c178ef93ed855153605"},{"source":"afc1b005be34f64b495b259263733b35","target":"1431967216e048fcb4890445e1741c7c"},{"source":"afc1b005be34f64b495b259263733b35","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"afc1b005be34f64b495b259263733b35","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"afc1b005be34f64b495b259263733b35","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"afc1b005be34f64b495b259263733b35","target":"7d41f75647bdc4fef8736442db42bad0"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"b4f37349887a4c178ef93ed855153605"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"1431967216e048fcb4890445e1741c7c"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"7d41f75647bdc4fef8736442db42bad0","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"0bbec668d5ba6765cc908eafd6c556fc","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"0bbec668d5ba6765cc908eafd6c556fc","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"0bbec668d5ba6765cc908eafd6c556fc","target":"b4f37349887a4c178ef93ed855153605"},{"source":"0bbec668d5ba6765cc908eafd6c556fc","target":"1431967216e048fcb4890445e1741c7c"},{"source":"0bbec668d5ba6765cc908eafd6c556fc","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"0bbec668d5ba6765cc908eafd6c556fc","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"9be28947eccefb1ac05598b8fbc53d27","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"9be28947eccefb1ac05598b8fbc53d27","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"9be28947eccefb1ac05598b8fbc53d27","target":"b4f37349887a4c178ef93ed855153605"},{"source":"9be28947eccefb1ac05598b8fbc53d27","target":"1431967216e048fcb4890445e1741c7c"},{"source":"9be28947eccefb1ac05598b8fbc53d27","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"59d18946ec237fe864d70b811a62eddd","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"59d18946ec237fe864d70b811a62eddd","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"59d18946ec237fe864d70b811a62eddd","target":"b4f37349887a4c178ef93ed855153605"},{"source":"59d18946ec237fe864d70b811a62eddd","target":"1431967216e048fcb4890445e1741c7c"},{"source":"1431967216e048fcb4890445e1741c7c","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"1431967216e048fcb4890445e1741c7c","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"1431967216e048fcb4890445e1741c7c","target":"b4f37349887a4c178ef93ed855153605"},{"source":"b4f37349887a4c178ef93ed855153605","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"b4f37349887a4c178ef93ed855153605","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"7f8df0bcd7fba7e531e6","target":"58abc7c39f8bcd04de56"},{"source":"0020bebb012760de0d54","target":"14fcf6f266e877cb1c23"},{"source":"24699e2002b4cea23615","target":"58f360e13a4397bf3dad"},{"source":"ab293c5472d02639ca4f","target":"fe38f5960d1276833555"},{"source":"bd880dbc71d2307e2a5b","target":"8ff54b5cc0640152c563"},{"source":"94e7aebb7eb975291d9b","target":"95685c2bcf9407e687d6"},{"source":"f8bacc54b016d6ea014e54d81f2b7e48","target":"b8a8fcb885b6840bfde5"},{"source":"f8bacc54b016d6ea014e54d81f2b7e48","target":"42f1c37f325999025db3"},{"source":"f8bacc54b016d6ea014e54d81f2b7e48","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"f8bacc54b016d6ea014e54d81f2b7e48","target":"2c6fa34a28b157e78a22fc93800f0bc7"},{"source":"f8bacc54b016d6ea014e54d81f2b7e48","target":"6222544da1551c11d55b505edf4b88fa"},{"source":"f8bacc54b016d6ea014e54d81f2b7e48","target":"dcd52a1daf6b00e5f0afa9b32e2ca043"},{"source":"a675d439b9ed06a856bb","target":"b8a8fcb885b6840bfde5"},{"source":"a675d439b9ed06a856bb","target":"1d8085294b6094e617e9"},{"source":"a675d439b9ed06a856bb","target":"a3cd99de2763a9a696d1"},{"source":"a675d439b9ed06a856bb","target":"e949444235af20478188"},{"source":"a675d439b9ed06a856bb","target":"d1b6461efdf225f53d0f"},{"source":"a675d439b9ed06a856bb","target":"0dfef7aa92676a47b201"},{"source":"a675d439b9ed06a856bb","target":"b16dad1cea69952f5b72"},{"source":"b16dad1cea69952f5b72","target":"b8a8fcb885b6840bfde5"},{"source":"b16dad1cea69952f5b72","target":"1d8085294b6094e617e9"},{"source":"b16dad1cea69952f5b72","target":"a3cd99de2763a9a696d1"},{"source":"b16dad1cea69952f5b72","target":"e949444235af20478188"},{"source":"b16dad1cea69952f5b72","target":"d1b6461efdf225f53d0f"},{"source":"b16dad1cea69952f5b72","target":"0dfef7aa92676a47b201"},{"source":"0dfef7aa92676a47b201","target":"b8a8fcb885b6840bfde5"},{"source":"0dfef7aa92676a47b201","target":"1d8085294b6094e617e9"},{"source":"0dfef7aa92676a47b201","target":"a3cd99de2763a9a696d1"},{"source":"0dfef7aa92676a47b201","target":"e949444235af20478188"},{"source":"0dfef7aa92676a47b201","target":"d1b6461efdf225f53d0f"},{"source":"d1b6461efdf225f53d0f","target":"b8a8fcb885b6840bfde5"},{"source":"d1b6461efdf225f53d0f","target":"1d8085294b6094e617e9"},{"source":"d1b6461efdf225f53d0f","target":"a3cd99de2763a9a696d1"},{"source":"d1b6461efdf225f53d0f","target":"e949444235af20478188"},{"source":"e949444235af20478188","target":"b8a8fcb885b6840bfde5"},{"source":"e949444235af20478188","target":"1d8085294b6094e617e9"},{"source":"e949444235af20478188","target":"a3cd99de2763a9a696d1"},{"source":"ba54603cfa4b6d7222c0","target":"3b3ae1013968c0a1613b"},{"source":"ba54603cfa4b6d7222c0","target":"41c811c603360c27d0ae"},{"source":"ba54603cfa4b6d7222c0","target":"87cf840dd72fef25ac24"},{"source":"ba54603cfa4b6d7222c0","target":"bde995eccb68a6294dd9"},{"source":"bde995eccb68a6294dd9","target":"3b3ae1013968c0a1613b"},{"source":"bde995eccb68a6294dd9","target":"41c811c603360c27d0ae"},{"source":"bde995eccb68a6294dd9","target":"87cf840dd72fef25ac24"},{"source":"87cf840dd72fef25ac24","target":"3b3ae1013968c0a1613b"},{"source":"87cf840dd72fef25ac24","target":"41c811c603360c27d0ae"},{"source":"41c811c603360c27d0ae","target":"3b3ae1013968c0a1613b"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"b8a8fcb885b6840bfde5"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"42f1c37f325999025db3"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"2c6fa34a28b157e78a22fc93800f0bc7"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"6222544da1551c11d55b505edf4b88fa"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"dcd52a1daf6b00e5f0afa9b32e2ca043"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"f8bacc54b016d6ea014e54d81f2b7e48"},{"source":"9d49a219f72d8958313eb7fd9f236936","target":"4d7dfded54d1e2162265862ffb178f4a"},{"source":"dcd52a1daf6b00e5f0afa9b32e2ca043","target":"b8a8fcb885b6840bfde5"},{"source":"dcd52a1daf6b00e5f0afa9b32e2ca043","target":"42f1c37f325999025db3"},{"source":"dcd52a1daf6b00e5f0afa9b32e2ca043","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"dcd52a1daf6b00e5f0afa9b32e2ca043","target":"2c6fa34a28b157e78a22fc93800f0bc7"},{"source":"dcd52a1daf6b00e5f0afa9b32e2ca043","target":"6222544da1551c11d55b505edf4b88fa"},{"source":"6222544da1551c11d55b505edf4b88fa","target":"b8a8fcb885b6840bfde5"},{"source":"6222544da1551c11d55b505edf4b88fa","target":"42f1c37f325999025db3"},{"source":"6222544da1551c11d55b505edf4b88fa","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"6222544da1551c11d55b505edf4b88fa","target":"2c6fa34a28b157e78a22fc93800f0bc7"},{"source":"9ffb265094d8dffb8627","target":"b8a8fcb885b6840bfde5"},{"source":"9ffb265094d8dffb8627","target":"7fedb282aca4df15b0d4"},{"source":"9ffb265094d8dffb8627","target":"ddd41979fd8e96c976f6"},{"source":"9ffb265094d8dffb8627","target":"c7cf338b400b90b04f95"},{"source":"7fedb282aca4df15b0d4","target":"b8a8fcb885b6840bfde5"},{"source":"5246b8a643393f0753a11b98129a3237","target":"8a173cfcb9171627c7f1"},{"source":"5246b8a643393f0753a11b98129a3237","target":"e330141d1279c6115a3a"},{"source":"428036f0f948a5c2b95f8a4b91931ee6","target":"7090426"},{"source":"428036f0f948a5c2b95f8a4b91931ee6","target":"4063423"},{"source":"f6a30cdf04d252876b44","target":"10699411"},{"source":"f6a30cdf04d252876b44","target":"5703573bd695c66b6e99"},{"source":"8e09d21c2a15d7234b6d","target":"542f350f5af22fba72b5"},{"source":"8e09d21c2a15d7234b6d","target":"9c72a94ca5a0d04c68e4"},{"source":"8e09d21c2a15d7234b6d","target":"2814080d24a44c357781"},{"source":"8e09d21c2a15d7234b6d","target":"b8f13d84df4fbbaa98c0"},{"source":"b8f13d84df4fbbaa98c0","target":"542f350f5af22fba72b5"},{"source":"b8f13d84df4fbbaa98c0","target":"9c72a94ca5a0d04c68e4"},{"source":"b8f13d84df4fbbaa98c0","target":"2814080d24a44c357781"},{"source":"2814080d24a44c357781","target":"542f350f5af22fba72b5"},{"source":"2814080d24a44c357781","target":"9c72a94ca5a0d04c68e4"},{"source":"a6690ca67800a2abafcd71ef4725f33f","target":"6f5b472cabe8f85583989a40eef0303c"},{"source":"a6690ca67800a2abafcd71ef4725f33f","target":"f9dacd23eece9d23669c"},{"source":"5cd07f2cb4ad202a9facfbd5d2bc842e","target":"62cf60e116ae821c06602793d265eaf6"},{"source":"5cd07f2cb4ad202a9facfbd5d2bc842e","target":"a43dbd5690ccd5ac4c6cc392415140e7"},{"source":"6f5b472cabe8f85583989a40eef0303c","target":"f9dacd23eece9d23669c"},{"source":"62cf60e116ae821c06602793d265eaf6","target":"a43dbd5690ccd5ac4c6cc392415140e7"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"50f0b4412292163bf4b50d06253994ae"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"f8f62045f69c65e3514cfe20f33fb9f1"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"b4f37349887a4c178ef93ed855153605"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"1431967216e048fcb4890445e1741c7c"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"59d18946ec237fe864d70b811a62eddd"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"9be28947eccefb1ac05598b8fbc53d27"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"0bbec668d5ba6765cc908eafd6c556fc"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"7d41f75647bdc4fef8736442db42bad0"},{"source":"33505001b3f4ff96c29fcb15425b561b","target":"afc1b005be34f64b495b259263733b35"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"b8a8fcb885b6840bfde5"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"42f1c37f325999025db3"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"cc6cd97c95a80f35c824cc24a5bf0f6d"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"2c6fa34a28b157e78a22fc93800f0bc7"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"6222544da1551c11d55b505edf4b88fa"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"dcd52a1daf6b00e5f0afa9b32e2ca043"},{"source":"4d7dfded54d1e2162265862ffb178f4a","target":"f8bacc54b016d6ea014e54d81f2b7e48"},{"source":"794e8d9eb8c153a1778cc487ff4465ff","target":"b8a8fcb885b6840bfde5"},{"source":"794e8d9eb8c153a1778cc487ff4465ff","target":"1d3dcaefadd4c8f33318fe017cf730d6"},{"source":"794e8d9eb8c153a1778cc487ff4465ff","target":"d9330fbe7bbf1a68e3d634602eb4d7a2"},{"source":"794e8d9eb8c153a1778cc487ff4465ff","target":"f405977b9bf51851a6b86476992c6ce9"},{"source":"d9330fbe7bbf1a68e3d634602eb4d7a2","target":"b8a8fcb885b6840bfde5"},{"source":"d9330fbe7bbf1a68e3d634602eb4d7a2","target":"1d3dcaefadd4c8f33318fe017cf730d6"},{"source":"9327a6642682b87430ec","target":"1389927"},{"source":"ca8347ecae78391b8cc9","target":"1209499"},{"source":"9e82d298e917564240ad98c881d6c75b","target":"53fe9d373ca3b3e20632f69c5169a59d"},{"source":"f405977b9bf51851a6b86476992c6ce9","target":"b8a8fcb885b6840bfde5"},{"source":"f405977b9bf51851a6b86476992c6ce9","target":"1d3dcaefadd4c8f33318fe017cf730d6"},{"source":"f405977b9bf51851a6b86476992c6ce9","target":"d9330fbe7bbf1a68e3d634602eb4d7a2"},{"source":"1d3dcaefadd4c8f33318fe017cf730d6","target":"b8a8fcb885b6840bfde5"},{"source":"9adf74fb08394082c393d8290c00e843","target":"b8a8fcb885b6840bfde5"},{"source":"5085fcdd086cb5174867","target":"b8a8fcb885b6840bfde5"},{"source":"5085fcdd086cb5174867","target":"4742802e9cf761912270"},{"source":"5085fcdd086cb5174867","target":"9747494f9437c0567eed"},{"source":"a5df54f0c34518424b00","target":"b8a8fcb885b6840bfde5"},{"source":"9747494f9437c0567eed","target":"b8a8fcb885b6840bfde5"},{"source":"9747494f9437c0567eed","target":"4742802e9cf761912270"},{"source":"9ea31a49cc0af1fdeed189619f651f5b","target":"92841c212b11c534713782544cfdf10f"},{"source":"9ea31a49cc0af1fdeed189619f651f5b","target":"8b7d381614a093195eec2636cab9ef2f"},{"source":"8b7d381614a093195eec2636cab9ef2f","target":"92841c212b11c534713782544cfdf10f"},{"source":"ac5b726c53ec02618de7795429c6f833","target":"4063663"},{"source":"1061eef4ce7545bdd52537dcef952e7e","target":"c6d3072074b1a9f717cf66068f34d8b6"},{"source":"1061eef4ce7545bdd52537dcef952e7e","target":"5577023"},{"source":"cc5dcff17db32e4e910f","target":"c98b726ab1cc4f4b1477"},{"source":"cc5dcff17db32e4e910f","target":"606b23b77ecf3991d3b0"},{"source":"cc5dcff17db32e4e910f","target":"4090846"},{"source":"c98b726ab1cc4f4b1477","target":"606b23b77ecf3991d3b0"},{"source":"c98b726ab1cc4f4b1477","target":"4090846"},{"source":"606b23b77ecf3991d3b0","target":"4090846"},{"source":"f0f27bb61ef20a6b2e17d7231e2294c6","target":"1021953"},{"source":"5e1fbf27aa88a0f96680634bfd4079b3","target":"7880033"},{"source":"4d76ddafa3682bbcae37","target":"f494728af00496ea1aa4"},{"source":"1554f5cc59f7b4b3403d","target":"17a54b0b2520fb6dcae3"}]}');var sm=Pg({controlType:"orbit"})(graph);a.Graph=sm,sm.renderer().setPixelRatio(window.devicePixelRatio);var cm={agitprop:Gg,obscura:Hg,unified:Wg};function dm(e){var t=new Xg;return t.strength=1,t.radius=1,t.threshold=.1,e.postProcessingComposer().addPass(t),e}sm.forceEngine("d3").numDimensions(3).nodeThreeObject((function(e){var t,r=e.graph||"default",n=cm[r]||Vg,a=new Xt(new Ao(10),new st({depthWrite:!1,transparent:!0,opacity:0})),i=new Fg(e.label);return i.fontFace="Source Sans Pro",i.fontWeight="600",i.padding=1,i.material.depthWrite=!1,i.material.blending=2,e.isRoot?(t=n.lightest,i.baseTextHeight=i.textHeight=12):e.isField?(t=e.isScalar?n.dark:n.base,i.baseTextHeight=i.textHeight=8,i.fontWeight="700"):(t=n.light,i.baseTextHeight=i.textHeight=10),i.color=t.a(1).toString(),i.baseColor=t,a.add(i),e.three=a,e.sprite=i,a})).linkWidth((function(e){var t;return(null===(t=sm.highlighted)||void 0===t?void 0:t.has(e.id))?5:.5})).linkColor(Hg.light.toString()).showNavInfo(!1).linkDirectionalArrowLength(6).linkDirectionalArrowRelPos(.5).linkDirectionalArrowColor("#ff00ff").linkDirectionalParticleColor(Hg.lightest.three).linkDirectionalParticles((function(e){return sm.highlighted&&sm.highlighted.has(e.id)?10:0})).linkDirectionalParticleWidth(1.5).linkDirectionalParticleSpeed(.005).cameraPosition({x:0,y:0,z:500}).enableNavigationControls(!0).showNavInfo(!1),sm.updateHighlight=function(){this.linkDirectionalParticles(this.linkDirectionalParticles());var e=this.graphData().nodes;if(this.highlighted){var t,r=im(e);try{for(r.s();!(t=r.n()).done;){var n=t.value,a=n.id,i=n.sprite;i&&(i.color=this.highlighted.has(a)?i.baseColor.a(1).toString():i.baseColor.a(.2).toString())}}catch(e){r.e(e)}finally{r.f()}return this}var o,s=im(e);try{for(s.s();!(o=s.n()).done;){var c=o.value.sprite;c&&(c.color=c.baseColor.a(1).toString())}}catch(e){s.e(e)}finally{s.f()}},sm.highlight=function(e){return(this.highlighted?this.highlighted:this.highlighted=new Set).add(e),this.updateHighlight(),this},sm.lowlight=function(e){if(this.highlighted)return this.highlighted.delete(e),this.highlighted.size||delete this.highlighted,this.updateHighlight(),this},sm.clearHighlights=function(){return delete this.highlighted,this.updateHighlight(),this},dm(sm);new B(0,1,0);function um(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sm,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0,z:0};return function(r){if(!e.isAutoZooming){var n=1*r,a=e.camera().position.length();e.cameraPosition({x:(t.x||0)+a*Math.sin(n),y:t.y||0,z:(t.z||0)+a*Math.cos(n)})}}}a.orbit=um,sm.onNodeClick(console.log),sm.d3Force("charge")(-10),sm.d3Force("link").distance((function(e){return"origin"===e.rel?300:30})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[16,9],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;function r(){var r=f(e,{width:innerWidth,height:innerHeight});m(r),t(r)}window.addEventListener("resize",r),r(),v((function(){return window.removeEventListener("resize",r)}))}([16,9],(function(e){sm.width(e.width),sm.height(e.height);var t=window.splode;t&&(t.width(e.width),t.height(e.height))}));var fm=sm.zoomToFit;function lm(e){return hm.apply(this,arguments)}function hm(){return(hm=am(regeneratorRuntime.mark((function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:600,t.zoomToFit(r),e.next=4,Qg(1200);case 4:return n=t.camera().position.length(),++t.isAutoZooming,e.prev=6,t.cameraPosition({x:0,y:0,z:n},{x:0,y:0,z:0},1e3),e.next=10,Qg(1e3);case 10:return t.zoomToFit(r),e.next=13,Qg(1e3);case 13:return e.prev=13,--t.isAutoZooming,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[6,,13,16]])})))).apply(this,arguments)}function pm(e){var t=e.nodes.map((function(e){return tm(tm({},e),{},{id:"x"+e.id})})),r=e.links.map((function(e){return tm(tm({},e),{},{source:"x"+e.source,target:"x"+e.target})}));return{nodes:e.nodes.concat(t),links:e.links.concat(r)}}sm.isAutoZooming=0,sm.zoomToFit=function(){var e=this;++this.isAutoZooming;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fm.apply(this,r),setTimeout((function(){e.setTextSizeForDistance(),--e.isAutoZooming}),r[0]),this},sm.setTextSizeForDistance=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.camera().position.length(),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[],a=this.graphData(),i=a.nodes,o=im(i);try{for(o.s();!(e=o.n()).done;){var s=e.value.sprite;if(s){var c=Math.max(s.baseTextHeight,s.baseTextHeight*t/800),d=c-s.textHeight;Math.abs(d)>.001&&n.push({sprite:s,delta:d/r})}}}catch(e){o.e(e)}finally{o.f()}var u=0;return f(),this;function f(){u++<r&&requestAnimationFrame(f);for(var e=0,t=n;e<t.length;e++){var a=t[e],i=a.sprite,o=a.delta;i.textHeight+=o}}},sm.recenter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;return lm(this,e),this};var bm=n($g);Object.assign(window,{ForceGraph3D:Pg,THREE:y,orbit:um,Graph:sm,blocks:pm(pm(bm)),addBloom:dm,spinCam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sm,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(r){var n=r*t;e.cameraPosition({x:0,y:0,z:100},{x:Math.sin(n),y:0,z:Math.cos(n)+100})}}}),parcelRequire.register("a9ee79d3c4421134e7459082f0866ed8",(function(){return a})),parcelRequire.register("1bd46d3b3efd2320fe280e4c70db6ed0",(function(){return Ub})),parcelRequire.register("af356679da2e809be3aa3b627efcac6b",(function(){return Yg}))}();